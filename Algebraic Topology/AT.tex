\def\module{Algebraic Topology}
\def\lecturer{Prof Ivan Smith}
\def\term{Michaelmas 2020}
\def\cover{}
\def\syllabus{}
\def\thm{section}

\input{../style/header}

% Macros
\newcommand{\da}{\partial}
\newcommand{\ext}{\textstyle\bigwedge}
\newcommand{\Hc}{\H_{\ct}}
\newcommand{\pt}{\cbr{\text{point}}}

\begin{document}

\input{../style/cover}

\section{Introduction}

\subsection{Connectedness}

\lecture{1}{Friday}{09/10/20}

Algebraic topology concerns the connectivity properties of topological spaces.

\begin{definition*}
A space $ X $ is \textbf{path-connected} if for $ p, q \in X $, there exists $ \gamma : \sbr{0, 1} \to X $ continuous with $ \gamma\br{0} = p $ and $ \gamma\br{1} = q $.
\end{definition*}

\begin{example*}
$ \RR $ is path-connected, and $ \RR \setminus \cbr{0} $ is not.
\end{example*}

\begin{corollary}[Intermediate value theorem]
If $ f : \RR \to \RR $ is continuous and $ x < y $ satisfy $ f\br{x} > 0 $ and $ f\br{y} > 0 $ then $ f $ takes the value zero on $ \sbr{x, y} $.
\end{corollary}

\begin{proof}
Otherwise $ f^{-1}\br{-\infty, 0} \cup f^{-1}\br{0, \infty} $ disconnect $ \sbr{x, y} $, a contradiction.
\end{proof}

\begin{definition*}
Let $ X $ and $ Y $ be topological spaces. Maps $ f_0, f_1 : Y \to X $ are \textbf{homotopic} if there exists $ F : Y \times \sbr{0, 1} \to X $ continuous such that $ \eval{F}_{Y \times \cbr{0}} = f_0 $ and $ \eval{F}_{Y \times \cbr{1}} = f_1 $. Write $ f_0 \simeq f_1 $, or $ f_0 \simeq_F f_1 $.
\end{definition*}

\begin{exercise*}
$ \simeq $ is an equivalence relation on the set of maps from $ Y $ to $ X $.
\end{exercise*}

Note that $ X $ is \textbf{path-connected} if and only if every two maps $ \pt \to X $ are homotopic. Let
$$ \S^n = \cbr{x \in \RR^{n + 1} \st \norm{x} = 1}, $$
so $ \S^1 = \cbr{z \in \CC \st \abs{z} = 1} $.

\begin{definition*}
$ X $ is \textbf{simply-connected} if every two maps $ \S^1 \to X $ are homotopic.
\end{definition*}

\begin{example*}
$ \RR^2 $ is simply-connected, and $ \RR^2 \setminus \cbr{0} $ is not. From complex analysis you know $ \gamma : \S^1 \to \RR^2 \setminus \cbr{0} $ has a \textbf{winding number} or \textbf{degree} $ \deg \gamma \in \ZZ $, for which
\begin{itemize}
\item if $ \gamma_n\br{t} = e^{2\pi int} $ then $ \deg \gamma_n = n $, and
\item $ \deg \gamma_1 = \deg \gamma_2 $ if $ \gamma_1 \simeq \gamma_2 $.
\end{itemize}
For differentiable $ \gamma $, $ \deg \gamma = \tfrac{1}{2\pi i}\intd{\gamma}{}{\tfrac{1}{z}}{z} $.
\end{example*}

\begin{corollary}[Fundamental theorem of algebra]
Every non-constant complex polynomial has a root.
\end{corollary}

\begin{proof}
Let $ f\br{z} = z^n + a_1z^{n - 1} + \dots + a_n $ be non-constant, and without loss of generality monic. Suppose $ f\br{z} \ne 0 $ for all $ z \in \CC $. Let
$$ \gamma_R\br{t} = f\br{Re^{2\pi it}}, $$
so $ \gamma_R : \S^1 \to \RR^2 \setminus \cbr{0} $. Since $ \gamma_0 $ is constant, $ \deg \gamma_0 = 0 $, so $ \deg \gamma_R = 0 $ for all $ R $. But take $ R \gg \sum_i \abs{a_i} $. Let
$$ f_s\br{z} = z^n + s\br{a_1z^{n - 1} + \dots + a_n}, \qquad 0 \le s \le 1. $$
On the circle $ \abs{z} = R $, $ f_s\br{z} \ne 0 $ for all $ s $. So if
$$ \gamma_{R, s}\br{t} = f_s\br{Re^{2\pi it}}, $$
then $ \gamma_{R, 1} = \gamma_R $, which has degree zero from before, and $ \gamma_{R, 0} : t \mapsto R^ne^{2\pi int} $, which has degree $ n \ne 0 $, a contradiction.
\end{proof}

\begin{definition*}
$ X $ is \textbf{$ k $-connected} if every two maps $ \S^i \to X $ are homotopic whenever $ i \le k $.
\end{definition*}

\begin{example*}
$ \RR^n $ is $ \br{n - 1} $-connected, and $ \RR^n \setminus \cbr{0} $ is not. Maps $ \S^{n - 1} \to \RR^n \setminus \cbr{0} $ have a homotopy invariant degree in $ \ZZ $, where the degree of the inclusion is one and the degree of the constant map is zero. You may well not have seen this, and we will prove it later.
\end{example*}

\pagebreak

\begin{corollary}[Brouwer's theorem]
Any map $ f : \overline{\B^n} = \cbr{x \in \RR^n \st \norm{x} \le 1} \to \overline{\B^n} $ has a fixed point.
\end{corollary}

\begin{proof}
Suppose $ f $ has no fixed point. Let
$$ \gamma_R\br{v} = Rv - f\br{Rv}, \qquad 0 \le R \le 1, \qquad v \in \S^{n - 1} = \da\overline{\B^n}. $$
Since $ f $ has no fixed point, $ \gamma_R $ takes values in $ \RR^n \setminus \cbr{0} $. Since $ \gamma_0 $ is constant, $ \deg \gamma_0 = 0 $, so $ \deg \gamma_1 = 0 $ by homotopy invariance. Let
$$ \gamma_{1, s}\br{v} = v - sf\br{v}, \qquad 0 \le s \le 1. $$
Then $ \gamma_{1, 1} = \gamma_1 $, and $ \im \gamma_{1, s} \subseteq \RR^n \setminus \cbr{0} $ as $ \norm{v} = 1 $ and $ \norm{sf\br{v}} = \abs{s}\norm{f\br{v}} < 1 $ if $ s < 1 $, so $ \deg \gamma_{1, 0} = \deg \gamma_{1, 1} $. The inclusion has $ \deg \gamma_{1, 0} = 1 $ and $ \deg \gamma_{1, 1} = 0 $ from above, a contradiction.
\end{proof}

\subsection{Homotopy}

\begin{definition*}
$ f : X \to Y $ is a \textbf{homotopy equivalence} if there exists $ g : Y \to X $ such that $ f \circ g \simeq \id_Y $ and $ g \circ f \simeq \id_X $. Then $ g $ is a \textbf{homotopy inverse} for $ f $, and $ \simeq $ is an equivalence relation on spaces.
\end{definition*}

\begin{example*}
If $ X $ and $ Y $ are homeomorphic they are trivially homotopy equivalent, by taking $ g = f^{-1} $.
\end{example*}

\begin{example*}
$ \RR^n \setminus \cbr{0} \simeq \S^{n - 1} $. Let
$$ \function[f]{\RR^n \setminus \cbr{0}}{\S^{n - 1}}{v}{\dfrac{v}{\norm{v}}}, $$
and let $ g : \S^{n - 1} \hookrightarrow \RR^n \setminus \cbr{0} $ be the inclusion. Then $ f \circ g = \id_{\S^{n - 1}} $ and $ g \circ f \simeq_F \id_{\RR^n \setminus \cbr{0}} $ via the homotopy
$$ F\br{t, v} = tv + \br{1 - t}\dfrac{v}{\norm{v}}. $$
\end{example*}

\begin{example*}
$ \cbr{0} \simeq \RR^n $ is a homotopy equivalence. \footnote{Exercise: check} If $ X \simeq \pt $ we say $ X $ is \textbf{contractible}.
\end{example*}

Algebraic topology is the study of topological spaces up to homotopy equivalence. The idea is that homeomorphism is too delicate a relation. Homotopy equivalence keeps track of essential topological information. More precisely, we assign
$$ \cbr{\text{spaces}} \to \cbr{\text{groups}}, \qquad \cbr{\text{maps of spaces}} \to \cbr{\text{homomorphism of groups}}, $$
so we get algebraic invariants. They are defined for all spaces, but have more structure and use or interest for nicer spaces. The classical first attempt is homotopy theory. One can concatenate loops $ \gamma $ and $ \tau $ by
$$ \br{\gamma * \tau}\br{t} =
\begin{cases}
\gamma\br{2t} & t \le \tfrac{1}{2} \\
\tau\br{1 - 2t} & t \ge \tfrac{1}{2}
\end{cases}.
$$
This is a well-defined operation on the \textbf{fundamental group}
$$ \pi_1\br{X, x_0} = \cbr{\text{maps} \ \gamma : \S^1 \to X \st \gamma\br{0} = x_0 \ \text{fixed}} / \br{\simeq \ \text{preserving} \ x_0}. $$
Similarly, the \textbf{$ n $-th homotopy group} is
$$ \pi_n\br{X, x_0} = \cbr{\text{based maps} \ \S^n \to X \ \text{at} \ x_0} / \simeq. $$
The issue is that they are very hard to compute, such as $ \pi_n\br{\S^2, x_0} $ not known for all $ n $. There is no simply-connected \textbf{manifold}, a Hausdorff second countable space $ X $ locally homeomorphic to $ \RR^n $, of dimension greater than zero, with $ \pi_n\br{X} $ known for all $ n $. So we will do something else, homology and cohomology. It is algebraically harder to set up, but the computational gain is worth it. Note that computing cohomology of harder spaces, such as the space of diffeomorphisms of some manifold or the space of embeddings of one manifold into another, is still very hard.

\begin{remark*}
\hfill
\begin{itemize}
\item Algebraic topology is all about being able to compute. It is important to do lots of examples.
\item Our nice spaces are manifolds and indeed smooth manifolds. There is some overlap with differential geometry which will be useful, not essential but advised.
\end{itemize}
\end{remark*}

\pagebreak

\section{Singular homology and cohomology}

\lecture{2}{Monday}{12/10/20}

We will define invariants of spaces in two stages.
\begin{itemize}
\item Associate to $ X $ a chain or cochain complex.
\item Take the homology or cohomology of that complex.
\end{itemize}

\subsection{Chain and cochain complexes}

\begin{definition*}
A \textbf{chain complex} $ \br{C_\bullet, \da} $ is a sequence of abelian groups and homomorphisms
$$ \dots \to C_{n + 1} \xrightarrow{\da_{n + 1}} C_n \xrightarrow{\da_n} C_{n - 1} \to \dots, $$
such that $ \da_n \circ \da_{n + 1} = 0 $ for all $ n $. We write $ \da^2 = 0 $, and $ \da $ is the \textbf{differential} or \textbf{boundary map}. The \textbf{homology groups} $ \H_\bullet\br{C_\bullet, \da} $ are the graded groups
$$ \H_n\br{C_\bullet} = \ker \da_n / \im \da_{n + 1}. $$
\end{definition*}

\begin{definition*}
A \textbf{cochain complex} $ \br{C^\bullet, \da} $ is a sequence of abelian groups and homomorphisms
$$ \dots \to C^{n - 1} \xrightarrow{\da^{n - 1}} C^n \xrightarrow{\da^n} C^{n + 1} \to \dots, $$
such that $ \da^n \circ \da^{n - 1} = 0 $ for all $ n $. We write $ \da^2 = 0 $, and $ \da $ is still the \textbf{differential} or \textbf{boundary map}. The \textbf{cohomology groups} $ \H^\bullet\br{C^\bullet, \da} $ are
$$ \H^n\br{C^\bullet} = \ker \da^n / \im \da^{n - 1}. $$
\end{definition*}

Elements of $ \ker \br{\da : C_n \to C_{n - 1}} $ are \textbf{cycles}. Elements of $ \im \br{\da : C_{n + 1} \to C_n} $ are \textbf{boundaries}. Elements of $ \ker \br{\da : C^n \to C^{n + 1}} $ are \textbf{cocycles}. Elements of $ \im \br{\da : C^{n - 1} \to C^n} $ are \textbf{coboundaries}. Write all $ \da_i $ and $ \da^i $ as $ \da $, or occasionally $ \da_\bullet $ and $ \da^\bullet $. Elements of $ \H_\bullet\br{C_\bullet} $ are \textbf{homology classes} and of $ \H^\bullet\br{C^\bullet} $ are \textbf{cohomology classes}.

\begin{definition*}
A \textbf{chain map} between chain complexes $ \br{C_\bullet, \da} $ and $ \br{D_\bullet, \da} $ is a sequence of homomorphisms $ f_n : C_n \to D_n $ such that for all $ n $ the diagram
$$
\begin{tikzcd}
\dots \arrow{r} & C_n \arrow{r}{\da} \arrow{d}[swap]{f_n} & C_{n - 1} \arrow{r} \arrow{d}{f_{n - 1}} & \dots \\
\dots \arrow{r} & D_n \arrow{r}[swap]{\da} & D_{n - 1} \arrow{r} & \dots
\end{tikzcd}
$$
commutes. That is, $ f_{n - 1} \circ \da_n^{C_\bullet} = \da_n^{D_\bullet} \circ f_n $.
\end{definition*}

\begin{exercise*}
Define a \textbf{cochain map} of cochain complexes.
\end{exercise*}

\begin{lemma}
A chain map $ f : C_\bullet \to D_\bullet $ induces homomorphisms $ \br{f_*}_n : \H_n\br{C_\bullet} \to \H_n\br{D_\bullet} $ for each $ n $.
\end{lemma}

\begin{proof}
Let $ \sbr{a} \in \H_n\br{C_\bullet} $, so $ a $ is represented by a cycle $ \alpha \in C_n $, where $ \da\br{\alpha} = 0 $. Then $ \da\br{f_n\br{\alpha}} = f_{n - 1}\br{\da\br{\alpha}} = 0 $, so $ f_n\br{\alpha} $ is a cycle. Define $ \br{f_*}_n\br{\sbr{a}} = \sbr{f_n\br{\alpha}} \in \H_n\br{D_\bullet} $. We made a choice of representing the cycle $ \alpha $. But if $ \sbr{a} $ is represented by $ \alpha $ and $ \alpha' $, then $ \alpha - \alpha' \in \im \br{\da_{n + 1} : C_{n + 1} \to C_n} $. Say $ \alpha - \alpha' = \da\br{\tau} $. Then $ f_n\br{\alpha} - f_n\br{\alpha'} = f_n\br{\alpha - \alpha'} = f_n\br{\da\br{\tau}} = \da\br{f_{n + 1}\br{\tau}} $, so $ \sbr{f_n\br{\alpha}} = \sbr{f_n\br{\alpha'} + \da\br{f_{n + 1}\br{\tau}}} = \sbr{f_n\br{\alpha'}} $ as $ \sbr{\im \da} = 0 $ in $ \H_n\br{D_\bullet} $. So $ \br{f_*}_n $ is well-defined, and it is easy to see it is a homomorphism.
\end{proof}

\begin{exercise*}
If $ C_\bullet, D_\bullet, E_\bullet $ are chain complexes and $ f : C_\bullet \to D_\bullet $ and $ g : D_\bullet \to E_\bullet $ are chain maps then $ \cbr{g_n \circ f_n : C_n \to E_n}_n $ defines a chain map. Also
\begin{equation}
\label{eq:1}
\br{g \circ f}_* = g_* \circ f_*, \qquad \br{\id_{C_\bullet}}_* = \id_{\H_\bullet\br{C_\bullet}}
\end{equation}
\end{exercise*}

\pagebreak

The goal is to associate to a space $ X $ chain complexes $ \C_\bullet\br{X} $ and cochain complexes $ \C^\bullet\br{X} $ such that a map $ f : X \to Y $ yields chain maps $ f : \C_\bullet\br{X} \to \C_\bullet\br{Y} $ and cochain maps $ f : \C^\bullet\br{Y} \to \C^\bullet\br{X} $. Then $ \br{\ref{eq:1}} $ will say we have a functor
$$ \function{\textbf{Top}}{\textbf{Ab}}{X}{\H_\bullet\br{X}}, $$
from the category of topological spaces and continuous maps to the category of abelian groups and homomorphisms. Our complexes $ \C_\bullet $ and $ \C^\bullet $ will have the benefit that they are intrinsic but will be huge and unwieldy. We will
\begin{itemize}
\item prove structure theorems to help compute, and
\item find smaller complexes later for nice spaces, such as CW-complexes.
\end{itemize}

\subsection{Singular homology and cohomology}

\begin{definition*}
The \textbf{standard simplex} is
$$ \Delta^n = \cbr{\br{t_0, \dots, t_n} \in \RR^{n + 1} \st \forall i, \ t_i \ge 0, \ \sum_i t_i = 1}. $$
The \textbf{$ i $-th face} of $ \Delta^n $ is
$$ \Delta_i^n = \cbr{\underline{t} \in \Delta^n \st t_i = 0}. $$
\end{definition*}

Note that there exists a canonical homeomorphism
$$ \function[\delta_i]{\Delta^{n - 1}}{\Delta_i^n \subseteq \Delta^n}{\br{t_0, \dots, t_{n - 1}}}{\br{t_0, \dots, t_{i - 1}, 0, t_i, \dots, t_{n - 1}}}. $$

\begin{definition*}
If $ X $ is a space, a \textbf{singular $ n $-simplex} in $ X $ is a map $ \sigma : \Delta^n \to X $. The \textbf{singular chain complex} $ \br{\C_\bullet\br{X}, \da} $ has
$$ \C_n\br{X} = \cbr{\sum_{i = 1}^N n_i\sigma_i \st N < \infty, \ n_i \in \ZZ, \ \sigma_i : \Delta^n \to X}, $$
the free abelian group on the singular $ n $-simplices in $ X $, and
$$ \function[\da]{\C_n\br{X}}{\C_{n - 1}\br{X}}{\sigma}{\sum_{i = 0}^n \br{-1}^i\br{\sigma \circ \delta_i}}, $$
extended linearly.
\end{definition*}

\begin{example*}
$ \Delta^0 $ is a point, $ \Delta^1 $ is a line, $ \Delta^2 $ is a triangle, and $ \Delta^3 $ is a tetrahedron.
\end{example*}

Note that $ n + 1 $ ordered points $ \cbr{v_i}_{0 \le i \le n} \subseteq \RR^{n + 1} $ determine an $ n $-simplex if $ \cbr{v_i - v_0 \st 1 \le i \le n} $ are linearly independent, by taking their convex hull, and
$$ \function[\sigma]{\Delta^n}{\RR^{n + 1}}{\underline{t}}{\sum_{i = 0}^n t_iv_i}. $$
We orient the edges $ v_i \to v_j $ if $ i < j $. Write $ \sbr{v_0, \dots, v_n} $ for this $ n $-simplex, then
$$ \da\br{\sigma} = \sum_{i = 0}^n \br{-1}^i\eval{\sigma}_{\sbr{v_0, \dots, \widehat{v_i}, \dots, v_n}}, $$
where the index $ \widehat{v_i} $ is omitted.

\pagebreak

\begin{lemma}
$ \da^2 = 0 $.
\end{lemma}

\begin{proof}
$$ \da\br{\da\br{\sigma}} = \sum_{j < i} \br{-1}^i\br{-1}^j\eval{\sigma}_{\sbr{v_0, \dots, \widehat{v_j}, \dots, \widehat{v_i}, \dots, v_n}} + \sum_{j > i} \br{-1}^i\br{-1}^{j - 1}\eval{\sigma}_{\sbr{v_0, \dots, \widehat{v_i}, \dots, \widehat{v_j}, \dots, v_n}}. $$
Exchange $ i $ and $ j $ and the two terms cancel.
\end{proof}

\begin{definition*}
The \textbf{singular homology} of $ X $ is
$$ \H_\bullet\br{X} = \H_\bullet\br{X; \ZZ} = \H_\bullet\br{\C_\bullet\br{X}, \da}. $$
\end{definition*}

Trivially this is a homeomorphism invariant of $ X $, since we only used the notion of continuous maps to $ X $ to define it.

\begin{definition*}
The \textbf{singular cochain complex} $ \br{\C^\bullet\br{X}, \da^*} $ has
$$ \C^n\br{X} = \Hom\br{\C_n\br{X}, \ZZ}, $$
and
$$ \function[\da^*]{\C^n\br{X}}{\C^{n + 1}\br{X}}{\psi}{\br{\sigma \mapsto \psi\br{\da\br{\sigma}}}}, \qquad \sigma \in \C_{n + 1}\br{X}, $$
which is adjoint to $ \da $.
\end{definition*}

Then $ \da^*\br{\da^*\br{\psi}}\br{\sigma} = \da^*\br{\psi}\br{\da\br{\sigma}} = \psi\br{\da\br{\da\br{\sigma}}} = 0 $, so $ \br{\da^*}^2 = 0 $ and this is a cochain complex.

\begin{definition*}
The \textbf{singular cohomology} of $ X $ is
$$ \H^\bullet\br{X; \ZZ} = \H^\bullet\br{\C^\bullet\br{X}, \da^*}. $$
\end{definition*}

The following is the rough idea.
\begin{itemize}
\item $ \da^2 = 0 $ implies that the boundary of the boundary vanishes.
\item $ \H_i\br{X} $ will probe $ i $-dimensional holes or regions in $ X $.
\item $ \H^i\br{X} $ will be a rule associating an integer to an $ i $-dimensional region of $ X $.
\end{itemize}
Note that $ \H^\bullet\br{X; \ZZ} \not\cong \Hom\br{\H_\bullet\br{X}, \ZZ} $ in general.

\lecture{3}{Wednesday}{14/10/20}

\begin{remark*}
Let $ f : X \to Y $ be continuous. If $ \sigma : \Delta^n \to X $ then $ f \circ \sigma : \Delta^n \to Y $, so $ f $ gives a homomorphism $ \br{f_\#}_n : \C_n\br{X} \to \C_n\br{Y} $. Also $ f \circ \br{\eval{\sigma}_{\Delta_i^n}} \equiv \eval{\br{f \circ \sigma}}_{\Delta_i^n} $, since $ f \circ \br{\sigma \circ \delta_i} = \br{f \circ \sigma} \circ \delta_i $. Thus
$$ \function[f_\#]{\C_\bullet\br{X}}{\C_\bullet\br{Y}}{\sigma}{f \circ \sigma} $$
is a chain map such that
$$
\begin{tikzcd}
\C_n\br{X} \arrow{r}{\da} \arrow{d}[swap]{\br{f_\#}_n} & \C_{n - 1}\br{X} \arrow{d}{\br{f_\#}_{n - 1}} \\
\C_n\br{Y} \arrow{r}[swap]{\da} & \C_{n - 1}\br{Y}
\end{tikzcd},
$$
which gives homomorphisms
$$ f_* : \H_\bullet\br{X} \to \H_\bullet\br{Y}, $$
that is $ \br{f_*}_n : \H_n\br{X} \to \H_n\br{Y} $ for each $ n $. By the exercise,
$$ \br{\br{f \circ g}_*}_n = \br{f_*}_n \circ \br{g_*}_n, \qquad \br{\br{\id_{\C_\bullet\br{X}}}_*}_n = \id_{\H_n\br{X}}. $$
Note that $ f : X \to Y $ induces a cochain map
$$ \function[f^\#]{\C^\bullet\br{Y}}{\C^\bullet\br{X}}{\psi}{\br{\sigma \mapsto \psi\br{f \circ \sigma}}}, $$
and homomorphisms
$$ f^* : \H^\bullet\br{Y} \to \H^\bullet\br{X}, $$
so cohomology is contravariant.
\end{remark*}

\pagebreak

\subsection{Basic examples}

What can we compute?

\begin{lemma}
Let $ X $ be a point. Then
$$ \H_i\br{\pt} =
\begin{cases}
\ZZ & i = 0 \\
0 & \text{otherwise}
\end{cases}.
$$
\end{lemma}

\begin{proof}
For each $ n \ge 0 $, there exists a unique $ n $-simplex $ \sigma_n : \Delta^n \to \pt $ in $ X $, the constant map. Then $ \da\br{\sigma_1} = \sigma_1 \circ \delta_0 - \sigma_1 \circ \delta_1 = \sigma_0 - \sigma_0 = 0 $ and $ \da\br{\sigma_2} = \sigma_2 \circ \delta_0 - \sigma_2 \circ \delta_1 + \sigma_2 \circ \delta_2 = \sigma_1 - \sigma_1 + \sigma_1 = \sigma_1 $, and
$$ \da\br{\sigma_n} =
\begin{cases}
\sigma_{n - 1} & n \ \text{even} \\
0 & n \ \text{odd}
\end{cases}.
$$
So $ \C_\bullet\br{\pt} $ is
$$
\begin{tikzcd}[row sep=tiny]
\dots \arrow{r} & \C_3\br{\pt} \arrow{r} \arrow[cong]{d} & \C_2\br{\pt} \arrow{r} \arrow[cong]{d} & \C_1\br{\pt} \arrow{r} \arrow[cong]{d} & \C_0\br{\pt} \arrow[cong]{d} \\
\dots \arrow[dashed]{r}[swap]{1} & \ZZ \arrow[dashed]{r}[swap]{0} & \ZZ \arrow[dashed]{r}[swap]{1} & \ZZ \arrow[dashed]{r}[swap]{0} & \ZZ
\end{tikzcd}.
$$
Now check the result.
\end{proof}

\begin{exercise*}
$$ \H^i\br{\pt} \cong
\begin{cases}
\ZZ & i = 0 \\
0 & \text{otherwise}
\end{cases}.
$$
\end{exercise*}

There is basically only one other computation we can do from the definitions.

\begin{lemma}
If $ X = \bigsqcup_{\alpha \in I} X_\alpha $ is a disjoint union of path-components,
$$ \H_i\br{X} \cong \bigoplus_{\alpha \in I} \H_i\br{X_\alpha}. $$
\end{lemma}

\begin{proof}
Any continuous map $ \sigma : \Delta^i \to X $ has image in one $ X_\alpha $ and then all the faces of $ \sigma $ lie in the same $ X_\alpha $, so
$$ \C_\bullet\br{X} = \bigoplus_\alpha \C_\bullet\br{X_\alpha}, $$
compatibly with the differential.
\end{proof}

\begin{lemma}
If $ X $ is path-connected and non-empty,
$$ \H_0\br{X} \cong \ZZ. $$
\end{lemma}

We sometimes write $ \pi_0\br{X} $ for the set of path-components of $ X $.

\begin{proof}
Define the \textbf{augmentation}
$$ \function[\epsilon]{\C_0\br{X}}{\ZZ}{\sum_i n_i\sigma_i}{\sum_i n_i}, $$
where $ \sigma_i : \pt \to X $ are $ 0 $-simplices in $ X $. Since $ X \ne \emptyset $, $ \epsilon $ is onto. If $ \tau = \sbr{v_0, v_1} : \Delta^1 \to X $, then $ \epsilon\br{\da\br{\tau}} = \epsilon\br{v_1 - v_0} = 0 $. So $ \im \br{\da : \C_1\br{X} \to \C_0\br{X}} \subseteq \ker \epsilon $, so $ \epsilon $ defines $ \H_0\br{X} = \C_0\br{X} / \im \da \to \ZZ $. So far we did not use path-connectivity. But suppose $ \sum_i n_i\sigma_i \in \ker \epsilon $. Fix a basepoint $ p \in X $. For all $ i $ pick
$$ \functions[\tau_i]{\Delta^i \cong \sbr{0, 1}}{X}{1}{\sigma_i}{0}{p}. $$
Then $ \da\br{\sum_i n_i\tau_i} = \sum_i n_i\sigma_i - \br{\sum_i n_i}p = \sum_i n_i\sigma_i $, as $ \sum_i n_i\sigma_i \in \ker \epsilon $, so $ \ker \epsilon \subseteq \im \da $ and $ \epsilon : \H_0\br{X} \xrightarrow{\sim} \ZZ $.
\end{proof}

\pagebreak

\subsection{Structural theorems}

The following is an informal picture. Let $ X $ be an annulus, and let $ \sigma : \Delta^1 \to X $ be a $ 1 $-simplex, which happens to be a closed loop $ \sbr{0, 1} \to X $ going around the inner circle. Recall that $ \sigma $ has $ \da\br{\sigma} = \sigma\br{1} - \sigma\br{0} = 0 $, so $ \sigma $ defines $ \sbr{\sigma} \in \H_1\br{X} $. We would hope this is non-zero, as we cannot see a way to fill in $ \sigma $ with $ 2 $-simplices, in contrast to a $ 1 $-simplex $ \tau : \Delta^1 \cong \sbr{0, 1} \to X $ away from the inner circle. But $ \C_i\br{X} $ is uncountably generated for all $ i $ and very hard to control. A question is how do we rule out all configurations of $ 2 $-simplices, or other representatives for $ \sbr{\sigma} \in \H_i\br{X} $? Informally, in the realm of nice spaces, there is nothing else you can compute from the definition. Homology and cohomology are rendered useful by a collection of structural theorems. We will state these, and see how to use them, and then return to prove them later.

\begin{theorem}[Homotopy invariance]
If $ f : X \to Y $ and $ g : X \to Y $ are homotopic, then
$$ f_* = g_* : \H_\bullet\br{Y} \to \H_\bullet\br{Y}, \qquad f^* = g^* : \H^\bullet\br{Y} \to \H^\bullet\br{Y}. $$
\end{theorem}

\begin{corollary}
If $ X \simeq Y $ then $ \H_\bullet\br{X} \cong \H_\bullet\br{Y} $ and $ \H^\bullet\br{X} \cong \H^\bullet\br{Y} $.
\end{corollary}

\begin{proof}
There exist $ f : X \to Y $ and $ g : Y \to X $ such that $ g \circ f \simeq \id_X $ and $ f \circ g \simeq \id_Y $, so $ \br{f_*}^{-1} = g_* $ are isomorphisms.
\end{proof}

Thus homology and cohomology are insensitive to inessential deformations of a space.

\begin{corollary}
For every $ n $,
$$ \H_\bullet\br{\RR^n} =
\begin{cases}
\ZZ & \bullet = 0 \\
0 & \text{otherwise}
\end{cases},
$$
and similarly for $ \H^\bullet\br{\RR^n} $.
\end{corollary}

\begin{definition*}
An \textbf{exact sequence} is a chain or cochain complex with vanishing homology or cohomology, so
$$ \dots \to C_{n + 1} \xrightarrow{\da_{n + 1}} C_n \xrightarrow{\da_n} C_{n - 1} \to \dots, $$
such that $ \ker \da_n = \im \da_{n + 1} $ for all $ n $.
\begin{itemize}
\item Given homomorphisms
$$ A \xrightarrow{f} B \xrightarrow{g} C, $$
say this is \textbf{exact at $ B $} if $ \ker g = \im f $.
\item If
$$ 0 \to A \xrightarrow{f} B \to 0 $$
is exact, $ A \cong_f B $.
\item A \textbf{short exact sequence} is one of shape
$$ 0 \to A \xrightarrow{f} B \xrightarrow{g} C \to 0. $$
\end{itemize}
\end{definition*}

\begin{example*}
If
$$ 0 \to \ZZ \to A \to \ZZ / n \to 0, $$
possibly $ A = \ZZ \oplus \ZZ / n $, and
$$ 0 \to \ZZ \xrightarrow{1 \mapsto \br{1, 0}} \ZZ \oplus \ZZ / n \xrightarrow{\br{0, 1} \mapsto 1} \ZZ / n \to 0 $$
or $ A = \ZZ $, and
$$ 0 \to \ZZ \xrightarrow{\cdot n} \ZZ \xrightarrow{p \mapsto p \mod n} \ZZ / n \to 0. $$
See question sheet $ 1 $.
\end{example*}

\pagebreak

\begin{theorem}[Mayer-Vietoris]
If $ X = A \cup B $ with $ A $ and $ B $ open, there are \textbf{Mayer-Vietoris boundary homomorphisms} $ \da_{\MV} : \H_{i + 1}\br{X} \to \H_i\br{A \cap B} $, yielding a \textbf{long exact sequence}
$$ \dots \to \H_{i + 1}\br{X} \xrightarrow{\da_{\MV}} \H_i\br{A \cap B} \xrightarrow{\br{\br{i_A}_*, \br{i_B}_*}} \H_i\br{A} \oplus \H_i\br{B} \xrightarrow{\br{j_A}_* - \br{j_B}_*} \H_i\br{X} \to \dots, $$
where
$$
\begin{tikzcd}
A \cap B \arrow[hookrightarrow]{r}{i_A} \arrow[hookrightarrow]{d}[swap]{i_B} & A \arrow[hookrightarrow]{d}{j_A} \\
B \arrow[hookrightarrow]{r}[swap]{j_B} & X
\end{tikzcd}.
$$
\end{theorem}

The Mayer-Vietoris boundary homomorphism is defined algebraically and is not associated to a map of spaces.

\begin{remark*}
Suppose $ \sigma \in \C_{i + 1}\br{X} $ is a cycle, so $ \da\br{\sigma} = 0 $, and $ \sigma = \alpha + \beta $ for chains $ \alpha \in \C_{i + 1}\br{A} $ and $ \beta \in \C_{i + 1}\br{B} $. Then $ \da\br{\alpha} = -\da\br{\beta} $ and $ \da_{\MV}\br{\sbr{\sigma}} = \sbr{\da\br{\alpha}} $, since $ \da\br{\alpha} \in A \cap B $.
\end{remark*}

\begin{remark*}
The Mayer-Vietoris sequence is natural, so if $ X = A \cup B $ and $ Y = C \cup D $ and $ f : X \to Y $ has $ f\br{A} \subseteq C $ and $ f\br{B} \subseteq D $ then there are homomorphisms of exact sequences
$$
\begin{tikzcd}
\dots \arrow{r} & \H_{i + 1}\br{X} \arrow{r}{\da_{\MV}} \arrow{d}{f_*} & \H_i\br{A \cap B} \arrow{r} \arrow{d}{f_*} & \H_i\br{A} \oplus \H_i\br{B} \arrow{r} \arrow{d}{f_*} & \H_i\br{X} \arrow{r} \arrow{d}{f_*} & \dots \\
\dots \arrow{r} & \H_{i + 1}\br{Y} \arrow{r}[swap]{\da_{\MV}} & \H_i\br{C \cap D} \arrow{r} & \H_i\br{C} \oplus \H_i\br{D} \arrow{r} & \H_i\br{Y} \arrow{r} & \dots
\end{tikzcd},
$$
such that all squares commute.
\end{remark*}

\begin{remark*}
There is a Mayer-Vietoris sequence in cohomology, which is also natural. There are $ \da_{\MV}^* : \H^i\br{A \cap B} \to \H^{i + 1}\br{X} $ such that
$$ \dots \to \H^i\br{X} \xrightarrow{\br{j_A^*, j_B^*}} \H^i\br{A} \oplus \H^i\br{B} \xrightarrow{i_A^* - i_B^*} \H^i\br{A \cap B} \xrightarrow{\da_{\MV}} \H^{i + 1}\br{X} \to \dots $$
is exact, where
$$
\begin{tikzcd}
A \cap B \arrow[hookrightarrow]{r}{i_A} \arrow[hookrightarrow]{d}[swap]{i_B} & A \arrow[hookrightarrow]{d}{j_A} \\
B \arrow[hookrightarrow]{r}[swap]{j_B} & X
\end{tikzcd}.
$$
\end{remark*}

\subsection{The sphere}

\begin{proposition}
$$ \H_i\br{\S^1} \cong
\begin{cases}
\ZZ & i = 0, 1 \\
0 & \text{otherwise}
\end{cases},
\qquad \H^i\br{\S^1} \cong
\begin{cases}
\ZZ & i = 0, 1 \\
0 & \text{otherwise}
\end{cases}.
$$
\end{proposition}

\begin{proof}
Let $ \S^1 = X = A \cup B $ where $ A $ and $ B $ are open intervals such that $ A \cap B $ are two disjoint open intervals, so $ A \simeq \pt \simeq B $ and $ A \cap B \simeq \pt \sqcup \pt = \cbr{p} \sqcup \cbr{q} $. By homotopy invariance,
$$ \H_\bullet\br{\RR} =
\begin{cases}
\ZZ & \bullet = 0 \\
0 & \text{otherwise}
\end{cases},
$$
so we know $ \H_\bullet\br{A} $, $ \H_\bullet\br{B} $, and $ \H_\bullet\br{A \cap B} $. Mayer-Vietoris for $ i \ge 2 $ gives
$$
\begin{tikzcd}[row sep=tiny]
\H_i\br{A} \oplus \H_i\br{B} \arrow{r} \arrow[cong]{d} & \H_i\br{\S^1} \arrow{r} & \H_{i - 1}\br{A \cap B} \arrow[cong]{d} \\
0 & & 0
\end{tikzcd}.
$$

\pagebreak

Check that $ \H_i\br{\S^1} = 0 $. \footnote{Exercise} Mayer-Vietoris for $ i = 0, 1 $ gives
$$
\begin{tikzcd}[row sep=tiny]
\H_1\br{A} \oplus \H_1\br{B} \arrow{r} \arrow[cong]{d} & \H_1\br{\S^1} \arrow{r} & \H_0\br{A \cap B} \arrow{r} \arrow[cong]{d} & \H_0\br{A} \oplus \H_0\br{B} \arrow{r} \arrow[cong]{d} & \H_0\br{\S^1} \arrow[cong]{d} \\
0 & & \ZZ \oplus \ZZ \arrow[dashed]{r}[swap]{\alpha} & \ZZ \oplus \ZZ \arrow[dashed]{r}[swap]{\beta} & \ZZ
\end{tikzcd}.
$$
Recall that $ \H_0\br{Z} $ is free abelian on $ \pi_0\br{Z} $, the set of path-components, and indeed is generated by $ \sigma : \pt \to Z $, for any choice of point in each component. So
$$ \function[\alpha = \br{\br{i_A}_*, \br{i_B}_*}]{\ZZ\abr{p} \oplus \ZZ\abr{q}}{\ZZ \oplus \ZZ}{\br{a, b}}{\br{a + b, a + b}}, $$
and
$$ \function[\beta = \br{j_A}_* - \br{j_B}_*]{\ZZ \oplus \ZZ}{\ZZ}{\br{u, v}}{u - v}. $$
By exactness, $ \H_1\br{\S^1} \cong \ker \alpha \cong \ZZ $, generated by $ \br{1, -1} \equiv \br{p, -q} \in \H_0\br{A} \oplus \H_0\br{B} $.
\end{proof}

\lecture{4}{Friday}{16/10/20}

The same method as for computing $ \H_\bullet\br{\S^1} $ shows the following.

\begin{proposition}
$$ \H_j\br{\S^n} \cong
\begin{cases}
\ZZ & j = 0, n \\
0 & \text{otherwise}
\end{cases},
\qquad \H^j\br{\S^n} \cong
\begin{cases}
\ZZ & j = 0, n \\
0 & \text{otherwise}
\end{cases}.
$$
\end{proposition}

This time let us do the cohomology computation.

\begin{proof}
Let $ \S^n = A \cup B $ where $ A \cong B \cong \RR^n $ and $ A \cap B \cong \S^{n - 1} \times \br{0, 1} \simeq \S^{n - 1} $. By homotopy invariance and induction, we know $ \H^\bullet\br{A} $, $ \H^\bullet\br{B} $, and $ \H^\bullet\br{A \cap B} $. Mayer-Vietoris now gives
$$
\begin{tikzcd}[row sep=tiny]
\H^i\br{\RR^n} \oplus \H^i\br{\RR^n} \arrow{r} \arrow[cong]{d} & \H^i\br{\S^{n - 1}} \arrow{r} & \H^{i + 1}\br{\S^n} \arrow{r} & \H^{i + 1}\br{\RR^n} \oplus \H^{i + 1}\br{\RR^n} \arrow[cong]{d} \\
0 & & & 0
\end{tikzcd},
$$
so $ \H^i\br{\S^{n - 1}} \xrightarrow{\sim} \H^{i + 1}\br{\S^n} $ for all $ i > 0 $. For $ i = 0, 1 $,
$$
\begin{tikzcd}[row sep=tiny]
\H^0\br{\S^n} \arrow{r} & \H^0\br{\RR^n} \oplus \H^0\br{\RR^n} \arrow{r} & \H^0\br{\S^{n - 1}} \arrow{r} & \H^1\br{\S^n} \arrow{r} & \H^1\br{\RR^n} \oplus \H^1\br{\RR^n} \arrow[cong]{d} \\
& & & & 0
\end{tikzcd}.
$$
We showed before that for path-connected $ X $, $ \H_0\br{X} \cong \ZZ $ is generated by $ \sigma : \pt \to X \in \C_0\br{X} $. By question sheet $ 1 $, $ \H^0\br{X} \cong \ZZ $ is generated by
$$ \function[\psi]{\C_0\br{X}}{\ZZ}{\sigma}{1}, \qquad \sigma : \pt \to X. $$
If $ n > 1 $, then $ \S^{n - 1} $ is connected. So
$$
\begin{tikzcd}[row sep=tiny]
\H^0\br{\S^n} \arrow{r} \arrow[cong]{d} & \H^0\br{\RR^n} \oplus \H^0\br{\RR^n} \arrow{r} \arrow[cong]{d} & \H^0\br{\S^{n - 1}} \arrow{r} \arrow[cong]{d} & \H^1\br{\S^n} \arrow{r} & \H^1\br{\RR^n} \oplus \H^1\br{\RR^n} \arrow[cong]{d} \\
\ZZ \arrow[dashed]{r} & \ZZ \oplus \ZZ \arrow[dashed]{r}[swap]{\alpha} & \ZZ & & 0
\end{tikzcd},
$$
where $ \alpha\br{p, q} = p + q $ is onto, so $ \H^1\br{\S^n} = 0 $, and now we have computed enough to complete the induction.
\end{proof}

\begin{corollary}
$ \RR^m \cong \RR^n $ if and only if $ m = n $.
\end{corollary}

\begin{proof}
If $ \RR^m \cong \RR^n $, then $ \S^{m - 1} \simeq \RR^m \setminus \cbr{0} \cong \RR^n \setminus \cbr{0} \simeq \S^{n - 1} $, so $ \S^{m - 1} \simeq \S^{n - 1} $. Thus $ \H_\bullet\br{\S^{m - 1}} \cong \H_\bullet\br{\S^{n - 1}} $, so $ m = n $.
\end{proof}

This homeomorphism invariance of dimension was an early success of the subject. Recall there are space-filling curves $ \phi : \sbr{0, 1} \to \sbr{0, 1}^2 $ that are continuous and surjective.

\pagebreak

\subsection{Degrees}

\begin{lemma}
Assume $ n > 0 $. A map $ f : \S^n \to \S^n $ has a \textbf{degree} $ \deg f \in \ZZ $ and if $ g \simeq f $, then $ \deg g = \deg f $.
\end{lemma}

\begin{proof}
$ f $ induces $ \br{f_*}_n : \H_n\br{\S^n} \cong \ZZ \to \H_n\br{\S^n} \cong \ZZ $, which is multiplication by an integer. This defines $ \deg f $. If $ g \simeq f $, then $ g_* = f_* $. A caveat is to use the same isomorphism on both sides and make sure $ \deg f $ is defined and not just up to sign.
\end{proof}

\begin{exercise*}
Check that $ \deg \br{f \circ g} = \deg f \cdot \deg g $.
\end{exercise*}

\begin{example*}
$ \deg \id = 1 $, so if $ f $ is a homeomorphism, $ \deg f \in \cbr{\pm 1} $.
\end{example*}

\begin{example*}
The degree of the constant map is zero, since the constant map
$$ \function[f]{\S^n}{\S^n}{x}{p} $$
factorises as $ \S^n \to \pt \to \S^n $, so
$$
\begin{tikzcd}[row sep=tiny]
\H_n\br{\S^n} \arrow{r} \arrow[cong]{d} & \H_n\br{\pt} \arrow{r} \arrow[cong]{d} & \H_n\br{\S^n} \arrow[cong]{d} \\
\ZZ \arrow[dashed]{r} & 0 \arrow[dashed]{r} & \ZZ
\end{tikzcd}
$$
factorises through the zero group.
\end{example*}

Note that combining with $ \S^{n - 1} \simeq \RR^n \setminus \cbr{0} $, this fills in details, modulo homotopy invariance and Mayer-Vietoris, for results from the first lecture on Brouwer's theorem.

\begin{lemma}
Let $ \O\br{k} = \cbr{A \in \Mat_k \RR \st AA^\intercal = \I} $. A matrix $ A \in \O\br{n + 1} $, which acts on $ \S^n \subseteq \RR^{n + 1} $, acts on $ \H_n\br{\S^n} $ by multiplication by $ \det A $.
\end{lemma}

\begin{proof}
$ \O\br{n + 1} $ has two path-connected components, so by homotopy invariance of degree, it suffices to show reflection in a hyperplane has degree $ -1 $. Let $ H = \S^{n - 1} $ be a hyperplane, let $ L $ be an invariant hemisphere, and let $ H' = \da L \cap H $. Note that a reflection $ \r_H : \S^n \to \S^n $ in $ H $ induces a reflection $ \r_{H'} : \da L = \S^{n - 1} \to \da L = \S^{n - 1} $ in $ H' $. We computed $ \H_\bullet\br{\S^n} $ by Mayer-Vietoris, using the decomposition which is $ \r_H $-invariant. By the naturality of Mayer-Vietoris,
$$
\begin{tikzcd}
0 \arrow{r} & \H_n\br{\S^n} \arrow{r}{\sim} \arrow{d}[swap]{\r_H} & \H_{n - 1}\br{\S^{n - 1}} \arrow{r} \arrow{d}{\r_{H'}} & 0 \\
0 \arrow{r} & \H_n\br{\S^n} \arrow{r}[swap]{\sim} & \H_{n - 1}\br{\S^{n - 1}} \arrow{r} & 0
\end{tikzcd},
$$
so inductively, it suffices to treat the case $ n = 1 $. So consider a circle $ \S^1 = A \cup B $ where $ p, q \in A \cap B $. Our former Mayer-Vietoris computation of $ \H_\bullet\br{\S^1} $ gave
$$
\begin{tikzcd}[row sep=tiny]
0 \arrow{r} & \H_1\br{\S^1} \arrow{r} & \H_0\br{p \sqcup q} \arrow{r} \arrow[cong]{d} & \H_0\br{A} \oplus \H_0\br{B} \arrow[cong]{d} \\
& & \ZZ \oplus \ZZ \arrow[dashed]{r}[swap]{\alpha} & \ZZ \oplus \ZZ
\end{tikzcd},
$$
and $ \H_1\br{\S^1} = \ker \alpha \cong \ZZ\abr{\br{1, -1}} $ is generated by $ p - q $. So as $ \r_H $ exchanges $ p $ and $ q $ it acts on $ \H_1\br{\S^1} $ by $ -1 $.
\end{proof}

\begin{corollary}
\hfill
\begin{enumerate}
\item The antipodal map
$$ \function[\a_n]{\S^n}{\S^n}{x}{-x} $$
has degree $ \br{-1}^{n + 1} $.
\item If $ f : \S^n \to \S^n $ has no fixed point, then $ f \simeq \a_n $.
\item If $ G $ acts freely on $ \S^{2k} $, then $ G \le \ZZ / 2 $.
\end{enumerate}
\end{corollary}

\pagebreak

\begin{proof}
\hfill
\begin{enumerate}
\item $ \a_n : \S^n \to \S^n $ is a composition of $ n + 1 $ reflections $ \RR^{n + 1} \to \RR^{n + 1} $.
\item We will show if $ f\br{x} \ne g\br{x} $ for all $ x $, then $ f \simeq \a_n \circ g $. Consider
$$ \phi_t : x \mapsto \dfrac{tf\br{x} - \br{1 - t}g\br{x}}{\norm{tf\br{x} - \br{1 - t}g\br{x}}}, \qquad 0 \le t \le 1. $$
Note that $ tf\br{x} + \br{1 - t}g\br{x} \ne 0 $ or $ t = \tfrac{1}{2} $ and $ f\br{x} = g\br{x} $, a contradiction. So $ f = \phi_1 \simeq \phi_0 = \a_n \circ g $.
\item Question sheet $ 1 $.
\end{enumerate}
\end{proof}

We borrow a concept from differential topology. A \textbf{vector field} on $ \S^n $ is a map $ v : \S^n \to \RR^{n + 1} $ such that for all $ x \in \S^n $, the Euclidean inner product on $ \RR^{n + 1} $ has $ \abr{x, v\br{x}} = 0 $. Note that this is a global section of the tangent bundle $ \T\S^n \to \S^n $.

\begin{proposition}[Hairy ball theorem]
$ \S^n $ has a nowhere-vanishing vector field if and only if $ n $ is odd.
\end{proposition}

\begin{proof}
If $ n = 2k - 1 $, set
$$ v\br{x_1, y_1, \dots, x_k, y_k} = \br{-y_1, x_1, \dots, -y_k, x_k}. $$
Suppose $ n $ is even, and for contradiction that such $ v $ exists. So $ v / \norm{v} : \S^n \to \S^n $. Consider
$$ v_t\br{x} = \br{\cos t}x + \br{\sin t}\dfrac{v}{\norm{v}}\br{x}. $$
Then $ \abs{v_t\br{x}} = 1 $ for all $ t $, and $ v_0 = \id $ and $ v_\pi = -\id = \a_n $, so $ \id_{\S^n} \simeq \a_n $. Thus $ \deg \id = \deg \a_n $, so $ 1 = \br{-1}^{n + 1} $.
\end{proof}

\subsection{The Klein bottle}

\lecture{5}{Monday}{19/10/20}

We should do one computation which involves knowing the maps, not just on $ \H_0\br{X} $, in an exact sequence, and not just that the sequence is exact. The \textbf{Klein bottle} $ K $ is obtained from gluing two M\"obius bands together.

\begin{lemma}
$$ \H_j\br{K; \ZZ} \cong
\begin{cases}
\ZZ & j = 0 \\
\ZZ \oplus \ZZ / 2 & j = 1 \\
0 & \text{otherwise}
\end{cases}.
$$
\end{lemma}

\begin{proof}
Apply Mayer-Vietoris to $ K $
$$
\begin{tikzpicture}
\draw (-2, -1) to node{$ \wedge $} (-2, 1);
\draw (2, -1) to node{$ \wedge $} (2, 1);
\draw (-2, 1) to node{$ >> $} (2, 1);
\draw (-2, -1) to node{$ >> $} (2, -1);
\draw (-1, -1) to (-1, 1);
\draw (1, -1) to (1, 1);
\draw (0, 0) node{$ A $};
\draw (-1.5, 0) node{$ B $};
\draw (1.5, 0) node{$ B $};
\end{tikzpicture},
$$
where $ A \simeq \S^1 $ is a M\"obius band
$$
\begin{tikzpicture}
\draw (-1, -1) to (-1, 1);
\draw (1, -1) to (1, 1);
\draw (-1, 1) to (1, 1);
\draw (-1, -1) to (1, -1);
\draw (0, -1) to node{$ \wedge $} node[right]{$ \sigma_1 $} (0, 0);
\draw (0, 0) to node{$ \wedge $} node[right]{$ \sigma_2 $} (0, 1);
\fill (0, 0) circle (0.05) node[right]{$ s $};
\fill (0, -1) circle (0.05) node[below]{$ r $};
\fill (0, 1) circle (0.05) node[above]{$ r $};
\end{tikzpicture}
\qquad
\begin{tikzpicture}
\draw (0, 0) circle (1);
\fill (0, -1) circle (0.05) node[below]{$ r $};
\draw (1, 0) node{$ \wedge $} node[right]{$ \sigma_1 $};
\fill (0, 1) circle (0.05) node[above]{$ s $};
\draw (-1, 0) node{$ \wedge $} node[left]{$ \sigma_2 $};
\end{tikzpicture},
$$

\pagebreak

and $ B \simeq \S^1 $ is a similar M\"obius band, such that $ A \cap B \simeq \S^1 $ is
$$
\begin{tikzpicture}
\draw (-2, -1) to (-2, 1);
\draw (2, -1) to (2, 1);
\draw (-2, 1) to (2, 1);
\draw (-2, -1) to (2, -1);
\draw (-1, -1) to node{$ \wedge $} node[left]{$ v $} (-1, 1);
\draw (1, -1) to node{$ \wedge $} node[right]{$ w $} (1, 1);
\fill (-1, -1) circle (0.05) node[below]{$ p $};
\fill (-1, 1) circle (0.05) node[above]{$ q $};
\fill (1, -1) circle (0.05) node[below]{$ q $};
\fill (1, 1) circle (0.05) node[above]{$ p $};
\end{tikzpicture}
\qquad
\begin{tikzpicture}
\draw (0, 0) circle (1);
\fill (0, -1) circle (0.05) node[below]{$ p $};
\draw (1, 0) node{$ \wedge $} node[right]{$ v $};
\fill (0, 1) circle (0.05) node[above]{$ q $};
\draw (-1, 0) node{$ \wedge $} node[left]{$ w $};
\end{tikzpicture}.
$$
The essential part of the long exact sequence is
$$
\begin{tikzcd}[column sep=small, row sep=tiny]
0 \arrow{r} & \H_2\br{K} \arrow{r} & \H_1\br{A \cap B} \arrow{r}{\psi} \arrow[cong]{d} & \H_1\br{A} \oplus \H_1\br{B} \arrow{r} \arrow[cong]{d} & \H_1\br{K} \arrow{r}{0} & \H_0\br{A \cap B} \arrow{r} \arrow[cong]{d} & \H_0\br{A} \oplus \H_0\br{B} \arrow[cong]{d} \\
& & \ZZ \arrow[dashed]{r} & \ZZ \oplus \ZZ & & \ZZ \arrow[dashed]{r}[swap]{p \mapsto \br{p, p}} & \ZZ \oplus \ZZ
\end{tikzcd}.
$$
By exactness, $ \H_1\br{K} = \br{\ZZ \oplus \ZZ} / \im \psi $ and $ \H_2\br{K} \cong \ker \psi $. The key claim is that $ \psi\br{1} = \br{2, 2} $ and note $ \br{\ZZ \oplus \ZZ} / \abr{2, 2} \cong \ZZ \oplus \ZZ / 2 $. For this, $ A \cap B $ is homotopy equivalent to the boundary circle of the central M\"obius band, so $ \H_1\br{A \cap B} = \ZZ\abr{v + w} $, and $ A $ is homotopy equivalent to the core circle of the central M\"obius band, so $ \H_1\br{A} = \ZZ\abr{\sigma_1 + \sigma_2} $. Thus $ \psi : v \mapsto \sigma_1 + \sigma_2 $ and $ \psi : w \mapsto \sigma_1 + \sigma_2 $.
\end{proof}

\begin{remark*}
We could define
$$ \C_k\br{X; G} = \cbr{\sum_i a_i\sigma_i \st a_i \in G, \ \sigma_i : \Delta^k \to X}, $$
for any abelian group $ G $, with the same differential $ \da $, which gives $ \H_\bullet\br{X; G} $, the \textbf{singular homology with coefficients in $ G $}.
\end{remark*}

\begin{example*}
$$ \H_j\br{\S^1; \ZZ / 2} \cong
\begin{cases}
\ZZ / 2 & j = 0, 1 \\
0 & \text{otherwise}
\end{cases},
\qquad \H_i\br{\pt; \ZZ / 2} \cong
\begin{cases}
\ZZ / 2 & i = 0 \\
0 & \text{otherwise}
\end{cases}.
$$
\end{example*}

In the previous sequence, if we compute $ \H_\bullet\br{K; \ZZ / 2} $, get
$$
\begin{tikzcd}[row sep=tiny]
0 \arrow{r} & \H_2\br{K; \ZZ / 2} \arrow{r} & \H_1\br{A \cap B; \ZZ / 2} \arrow{r}{\psi} \arrow[cong]{d} & \H_1\br{A; \ZZ / 2} \oplus \H_1\br{B; \ZZ / 2} \arrow[cong]{d} \\
& & \ZZ / 2 \arrow[dashed]{r}[swap]{1 \mapsto \br{2, 2} \equiv \br{0, 0}} & \ZZ / 2 \oplus \ZZ / 2
\end{tikzcd},
$$
so $ \psi $ vanishes for $ \H_\bullet\br{-; \ZZ / 2} $ and
$$ \H_i\br{K; \ZZ / 2} \cong
\begin{cases}
\ZZ / 2 & i = 0 \\
\ZZ / 2 \oplus \ZZ / 2 & i = 1 \\
\ZZ / 2 & i = 2 \\
0 & \text{otherwise}
\end{cases}.
$$
It is also instructive to think about cohomology in this example, where $ K = A \cup B $ for $ A, B \simeq \S^1 $ and $ A \cap B \simeq \S^1 $ as before. So the interesting parts of the cohomology Mayer-Vietoris sequences look like
$$
\begin{tikzcd}[row sep=tiny]
\H^1\br{K} \arrow{r}{\br{j_A^*, j_B^*}} & \H^1\br{A} \oplus \H^1\br{B} \arrow{r}{i_A^* - i_B^*} \arrow[cong]{d} & \H^1\br{A \cap B} \arrow{r} \arrow[cong]{d} & \H^2\br{K} \arrow{r} & 0 \\
& \ZZ \oplus \ZZ \arrow[dashed]{r}[swap]{\psi} & \ZZ & &
\end{tikzcd}.
$$
Check that this $ \psi $ is $ \br{a, b} \mapsto 2\br{a - b} $. \footnote{Exercise} So $ \H^2\br{K} \cong \ZZ / 2 $. For contrast, $ \H_2\br{K} = 0 $ if we use $ \ZZ $ coefficients.

\begin{remark*}
There were many ways we could have cut up $ K $. In some cases, some decompositions will give easier algebra than others.
\end{remark*}

\pagebreak

\section{Structural theorems}

Now we should pay some debts.

\subsection{Chain homotopy}

Let $ C_\bullet $ and $ D_\bullet $ be chain complexes.

\begin{definition*}
Chain maps $ f : C_\bullet \to D_\bullet $ and $ g : C_\bullet \to D_\bullet $ are \textbf{chain homotopic} if there exist $ P_n : C_n \to D_{n + 1} $ such that
$$ P_{n - 1} \circ \da_n^{C_\bullet} \pm \da_{n + 1}^{D_\bullet} \circ P_n = f_n - g_n, $$
so
$$
\begin{tikzcd}
& \dots \arrow{r} & C_n \arrow{r}{\da} \arrow{dl}[swap]{P_n} \arrow[dashed]{d} & C_{n - 1} \arrow{r} \arrow{dl}{P_{n - 1}} & \dots \\
\dots \arrow{r} & D_{n + 1} \arrow{r}[swap]{\da} & D_n \arrow{r} & \dots &
\end{tikzcd}.
$$
\end{definition*}

\begin{lemma}
If $ f : C_\bullet \to D_\bullet $ and $ g : C_\bullet \to D_\bullet $ are chain homotopic, then
$$ \br{f_*}_i = \br{g_*}_i : \H_i\br{C_\bullet, \da} \to \H_i\br{D_\bullet, \da}, $$
for all $ i $, that is chain homotopic maps induce the same map on homology.
\end{lemma}

Recall we are trying to prove if $ f \simeq g : X \to Y $, then $ f_* = g_* : \H_\bullet\br{X} \to \H_\bullet\br{Y} $. So it will be sufficient to show $ f_\#, g_\# : \C_\bullet\br{X} \to \C_\bullet\br{Y} $ are chain homotopic.

\begin{proof}
Let
$$
\begin{tikzcd}
& C_n \arrow{r}{\da} \arrow{dl}[swap]{P_n} \arrow[dashed]{d} & C_{n - 1} \arrow{dl}{P_{n - 1}} \\
D_{n + 1} \arrow{r}[swap]{\da} & D_n &
\end{tikzcd},
$$
such that $ P_{n - 1} \circ \da \pm \da \circ P_n = f_n - g_n $. Let $ \alpha \in C_n $ be a cycle, so $ \da\br{\alpha} = 0 $. So $ \da\br{f_n\br{\alpha}} = f_{n - 1}\br{\da\br{\alpha}} = 0 $, so $ \br{f_*}_n\br{\sbr{\alpha}} = \sbr{f_n\br{\alpha}} $. So
$$ f_n\br{\alpha} - g_n\br{\alpha} = \br{f_n - g_n}\br{\alpha} = P_{n - 1}\br{\da\br{\alpha}} \pm \da\br{P_n\br{\alpha}} = \da\br{P_n\br{\alpha}} \in \im \da, $$
so $ \sbr{f_n\br{\alpha}} = \sbr{g_n\br{\alpha}} \in \H_n\br{D_\bullet} $.
\end{proof}

\begin{exercise*}
Chain homotopy is an equivalence relation on chain complexes and chain maps.
\end{exercise*}

\subsection{Proof of homotopy invariance}

\begin{theorem}[Homotopy invariance, version $ 2 $]
If $ f \simeq g : X \to Y $ then
$$ f_\# \simeq g_\# : \br{\C_\bullet\br{X}, \da} \to \br{\C_\bullet\br{Y}, \da} $$
are chain homotopic.
\end{theorem}

\begin{proof}
If $ f \simeq g $, then there exists $ F : X \times \sbr{0, 1} \to Y $ such that $ \eval{F}_{X \times \cbr{0}} = f $ and $ \eval{F}_{X \times \cbr{1}} = g $. So if
$$ \function[\iota_0]{X}{X \times \sbr{0, 1}}{x}{\br{x, 0}}, \qquad \function[\iota_1]{X}{X \times \sbr{0, 1}}{x}{\br{x, 1}}, $$
then $ f = F \circ \iota_0 $ and $ g = F \circ \iota_1 $, so $ f_\# = g_\# $ if $ \br{\iota_0}_\# = \br{\iota_1}_\# $ and it suffices to prove that $ \br{\iota_0}_\# \simeq \br{\iota_1}_\# : \C_\bullet\br{X} \to \C_\bullet\br{X \times \sbr{0, 1}} $, so $ Y $ is out of the picture. So want $ P_n : \C_n\br{X} \to \C_{n + 1}\br{X \times \sbr{0, 1}} $. The idea is that $ P_n $ is a \textbf{prism operator}
$$ \function{\C_n\br{X}}{\C_{n + 1}\br{X \times \sbr{0, 1}}}{\sigma : \Delta^n \to X}{\text{linear combination of simplices for} \ \sigma \times \id : \Delta^n \times \sbr{0, 1} \to X \times \sbr{0, 1}}. $$

\pagebreak

It gives an universal way of cutting up $ \Delta^n \times \sbr{0, 1} $ into $ \br{n + 1} $-simplices. The equation
$$ \da \circ P \pm P \circ \da = \br{\iota_1}_\# - \br{\iota_0}_\# $$
says that the boundary of the prism is the prism on the boundary plus the top minus the bottom. The details of the proof are not very illuminating, so we will be quite terse. Label the base of the prism by $ \sbr{v_0, \dots, v_n} $ and the top $ \sbr{w_0, \dots, w_n} $. Claim that $ \sigma_{n + 1}^i = \sbr{v_0, \dots, v_i, w_i, \dots, w_n} $ is an $ \br{n + 1} $-simplex, and
$$ \Delta^n \times \sbr{0, 1} = \bigcup_{i = 0}^n \sigma_{n + 1}^i. $$
We will not prove this, so see Hatcher. Define
$$ \function[P_n]{\C_n\br{X}}{\C_{n + 1}\br{X \times \sbr{0, 1}}}{\sigma}{\sum_{i = 0}^n \br{-1}^i\eval{\br{\sigma \times \id}}_{\sbr{v_0, \dots, v_i, w_i, \dots, w_n}} = \sum_{i = 0}^n \br{-1}^i\br{\br{\sigma \times \id} \circ \sigma_{n + 1}^i}}. $$
Claim that $ \da \circ P + P \circ \da = \br{\iota_1}_\# - \br{\iota_0}_\# $. Well,
\begin{align*}
\da\br{P_n\br{\sigma}}
= & \sum_{j \le i} \br{-1}^i\br{-1}^j\eval{\br{\sigma \times \id}}_{\sbr{v_0, \dots, \widehat{v_j}, \dots, v_i, w_i, \dots, w_n}} \\
& + \sum_{j \ge i} \br{-1}^i\br{-1}^{j + 1}\eval{\br{\sigma \times \id}}_{\sbr{v_0, \dots, v_i, w_i, \dots, \widehat{w_j}, \dots, w_n}} \\
= & \eval{\br{\sigma \times \id}}_{\sbr{\widehat{v_0}, w_0, \dots, w_n}} - \eval{\br{\sigma \times \id}}_{\sbr{v_0, \dots, v_n, \widehat{w_n}}} \\
& + \sum_{j < i} \br{-1}^i\br{-1}^j\eval{\br{\sigma \times \id}}_{\sbr{v_0, \dots, \widehat{v_j}, \dots, v_i, w_i, \dots, w_n}} \\
& + \sum_{j > i} \br{-1}^i\br{-1}^{j + 1}\eval{\br{\sigma \times \id}}_{\sbr{v_0, \dots, v_i, w_i, \dots, \widehat{w_j}, \dots, w_n}},
\end{align*}
since the $ i = j $ terms cancel in pairs except for $ i = j = 0 $, the top, and $ i = j = n $, the bottom. Check that the latter sums are $ -P_n\br{\da\br{\sigma}} $, \footnote{Exercise} which is routine but unenlightening.
\end{proof}

\begin{remark*}
If $ C^\bullet $ and $ D^\bullet $ are cochain complexes, then $ f \simeq g $ are \textbf{cochain homotopic} if there exist $ P^i : C^i \to D^{i - 1} $ such that
$$ \da^* \circ P \pm P \circ \da^* = f - g, $$
so
$$
\begin{tikzcd}
& \dots \arrow{r} & C^i \arrow{r}{\da^i} \arrow{dl}[swap]{P^i} \arrow[dashed]{d} & C^{i + 1} \arrow{r} \arrow{dl}{P^{i + 1}} & \dots \\
\dots \arrow{r} & D^{i - 1} \arrow{r}[swap]{\da^{i + 1}} & D^i \arrow{r} & \dots &
\end{tikzcd}.
$$
Check that \footnote{Exercise}
$$ f^* = g^* : \H^\bullet\br{C^\bullet} \to \H^\bullet\br{D^\bullet}. $$
Then $ P_n : \C_n\br{X} \to \C_{n + 1}\br{X \times \sbr{0, 1}} $ has dual
$$ P^n : \Hom\br{\C_{n + 1}\br{X \times \sbr{0, 1}}, \ZZ} = \C^{n + 1}\br{X \times \sbr{0, 1}} \to \Hom\br{\C_n\br{X}, \ZZ} = \C^n\br{X}, $$
and $ \da \circ P + P \circ \da = \br{\iota_1}_\# - \br{\iota_0}_\# $ implies that
$$ \da^* \circ P + P \circ \da^* = \iota_1^\# - \iota_0^\#, $$
so cohomology is also homotopy invariant.
\end{remark*}

\pagebreak

\subsection{The long exact sequence}

\lecture{6}{Wednesday}{21/10/20}

We have made various computations using homotopy invariance, which we have proved, and Mayer-Vietoris, which we have not. Before addressing that, we need some more algebra. Recall that a short exact sequence is an exact sequence of the shape
$$ 0 \to A \xrightarrow{\alpha} B \xrightarrow{\beta} C \to 0, \qquad \im \alpha = \ker \beta. $$

\begin{definition*}
A \textbf{short exact sequence of chain complexes} is a diagram
$$
\begin{tikzcd}
& \vdots \arrow{d} & \vdots \arrow{d} & \vdots \arrow{d} & \\
0 \arrow{r} & A_{n + 1} \arrow{r}{\alpha} \arrow{d}{\da} & B_{n + 1} \arrow{r}{\beta} \arrow{d}{\da} & C_{n + 1} \arrow{r} \arrow{d}{\da} & 0 \\
0 \arrow{r} & A_n \arrow{r}{\alpha} \arrow{d}{\da} & B_n \arrow{r}{\beta} \arrow{d}{\da} & C_n \arrow{r} \arrow{d}{\da} & 0 \\
0 \arrow{r} & A_{n - 1} \arrow{r}{\alpha} \arrow{d} & B_{n - 1} \arrow{r}{\beta} \arrow{d} & C_{n - 1} \arrow{r} \arrow{d} & 0 \\
& \vdots & \vdots & \vdots &
\end{tikzcd},
$$
such that all squares commute, and the columns are chain complexes and the rows are exact, so $ \im \alpha = \ker \beta $ and $ \da^2 = 0 $. Write
$$ 0 \to A_\bullet \to B_\bullet \to C_\bullet \to 0. $$
\end{definition*}

\begin{proposition}
If
$$ 0 \to A_\bullet \to B_\bullet \to C_\bullet \to 0 $$
is a short exact sequence of chain complexes, there is a boundary map $ \delta : \H_n\br{C_\bullet} \to \H_{n - 1}\br{A_\bullet} $ fitting into a \textbf{long exact sequence} on homology
$$ \dots \to \H_n\br{A_\bullet} \xrightarrow{\br{\alpha_*}_n} \H_n\br{B_\bullet} \xrightarrow{\br{\beta_*}_n} \H_n\br{C_\bullet} \xrightarrow{\delta} \H_{n - 1}\br{A_\bullet} \to \dots. $$
\end{proposition}

\begin{proof}
By diagram chasing, we will construct $ \delta $, and the proof of exactness is relegated to question sheet $ 1 $. Let
$$
\begin{tikzcd}
& \vdots \arrow{d} & \vdots \arrow{d} & \vdots \arrow{d} & \\
0 \arrow{r} & A_n \arrow{r}{\alpha} \arrow{d} & B_n \arrow{r}{\beta} \arrow{d} & C_n \arrow{r} \arrow[dashed]{dll} \arrow{d} & 0 \\
0 \arrow{r} & A_{n - 1} \arrow{r}{\alpha} \arrow{d} & B_{n - 1} \arrow{r}{\beta} \arrow{d} & C_{n - 1} \arrow{r} \arrow{d} & 0 \\
0 \arrow{r} & A_{n - 2} \arrow{r}{\alpha} \arrow{d} & B_{n - 2} \arrow{r}{\beta} \arrow{d} & C_{n - 2} \arrow{r} \arrow{d} & 0 \\
& \vdots & \vdots & \vdots &
\end{tikzcd}.
$$

\pagebreak

Let $ c_n \in C_n $ be a cycle, so $ \da\br{c_n} = 0 $, representing $ \sbr{c_n} \in \H_n\br{C_\bullet} $. Since $ \beta $ is onto, there exists $ b_n \in B_n $ such that $ \beta\br{b_n} = c_n $. Since the top right square commutes, $ \beta\br{\da\br{b_n}} = \da\br{\beta\br{b_n}} = \da\br{c_n} = 0 $. Since the middle sequence is exact, $ \da\br{b_n} \in \ker \beta = \im \alpha $, so $ \da\br{b_n} = \alpha\br{a_{n - 1}} $. Since the bottom left square commutes, $ \alpha\br{\da\br{a_{n - 1}}} = \da\br{\alpha\br{a_{n - 1}}} = \da^2\br{b_n} = 0 $. Then $ \alpha $ is one-to-one, so $ \alpha\br{\da\br{a_{n - 1}}} = 0 $ implies that $ \da\br{a_{n - 1}} = 0 $, and set
$$ \delta\br{\sbr{c_n}} = \sbr{a_{n - 1}}. $$
Check $ \delta $ is well-defined.
\begin{itemize}
\item Given $ c_n $, we chose $ b_n $. If $ \beta\br{b_n'} = c_n $, then $ b_n - b_n' \in \ker \beta = \im \alpha $, so $ b_n' = b_n + \alpha\br{a_n} $ for some $ a_n \in A_n $, and $ \da\br{b_n'} = \da\br{b_n} + \da\br{\alpha\br{a_n}} = \alpha\br{a_{n - 1} + \da\br{a_n}} $, so $ \sbr{a_{n - 1}} \in \H_{n - 1}\br{A_\bullet} $ is unchanged.
\item If $ \sbr{c_n} = \sbr{c_n'} $, then $ c_n - c_n' \in \im \da $, say $ c_n' = c_n + \da\br{c_{n + 1}} $. Pick $ b_{n + 1} $ such that $ \beta\br{b_{n + 1}} = c_{n + 1} $ and then $ b_n \mapsto b_n + \da\br{b_{n + 1}} $ and $ \da\br{b_n} $ is unchanged, so get the same $ a_{n - 1} $.
\end{itemize}
So $ \delta $ is well-defined and it is easy to see it is a homomorphism. In the resulting
$$ \dots \to \H_n\br{A_\bullet} \xrightarrow{\br{\alpha_*}_n} \H_n\br{B_\bullet} \xrightarrow{\br{\beta_*}_n} \H_n\br{C_\bullet} \xrightarrow{\delta} \H_{n - 1}\br{A_\bullet} \to \dots, $$
should check exactness at all three kinds of terms, that is $ \im \beta_* \subseteq \ker \delta $ and $ \ker \delta \subseteq \im \beta_* $, etc, so six inclusions in total. \footnote{Exercise: do this}
\end{proof}

For this piece of algebra to be useful, we need a source of short exact sequences of chain complexes.

\begin{example*}
Recall if $ G $ is an abelian group,
$$ \C_k\br{X; G} = \cbr{\sum_i a_i\sigma_i \st a_i \in G, \ \sigma_i : \Delta^k \to X}, $$
which gives $ \H_\bullet\br{X; G} $, the singular homology with coefficients in $ G $. Note that if
$$ 0 \to G_1 \to G_2 \to G_3 \to 0 $$
is a short exact sequence of groups,
$$ 0 \to \C_\bullet\br{X; G_1} \to \C_\bullet\br{X; G_2} \to \C_\bullet\br{X; G_3} \to 0 $$
is a short exact sequence of chain complexes. The resulting $ \delta : \H_n\br{X; G_3} \to \H_{n - 1}\br{X; G_1} $ is a \textbf{Bockstein homomorphism}. For example,
$$ 0 \to \ZZ \xrightarrow{\cdot n} \ZZ \xrightarrow{p \mapsto p \mod n} \ZZ / n \to 0, \qquad 0 \to \ZZ / n \xrightarrow{\cdot n} \ZZ / n^2 \xrightarrow{p \mapsto p \mod n} \ZZ / n \to 0 $$
give the \textbf{classical Bockstein homomorphisms}
$$ \H_p\br{X; \ZZ / n} \to \H_{p - 1}\br{X; \ZZ}, \qquad \H_p\br{X; \ZZ / n} \to \H_{p - 1}\br{X; \ZZ / n}. $$
We will revisit these later, probably.
\end{example*}

\subsection{Relative homology}

\begin{example*}
Let $ A \subseteq X $ be a subspace. We have an inclusion $ \C_\bullet\br{A} \hookrightarrow \C_\bullet\br{X} $ compatible with boundary maps, since if $ \sigma : \Delta^i \to A \subseteq X $, then $ \sigma \circ \delta_i : \Delta^{i - 1} \to A $ too. Define
$$ \C_\bullet\br{X, A} = \C_\bullet\br{X} / \C_\bullet\br{A}, $$
so
$$ 0 \to \C_\bullet\br{A} \to \C_\bullet\br{X} \to \C_\bullet\br{X, A} \to 0 $$
is a short exact sequence of chain complexes.
\end{example*}

\begin{definition*}
$ \H_\bullet\br{\C_\bullet\br{X, A}, \da} $ is denoted $ \H_\bullet\br{X, A} $, or $ \H_\bullet\br{X, A; G} $, the \textbf{relative homology} of $ \br{X, A} $.
\end{definition*}

\pagebreak

\begin{lemma}
If $ f : \br{X, A} \to \br{Y, B} $ is a \textbf{map of pairs}, that is $ f : X \to Y $ satisfies $ f\br{A} \subseteq B $, then $ f $ induces $ \br{f_*}_i : \H_i\br{X, A} \to \H_i\br{Y, B} $ for all $ i $.
\end{lemma}

\begin{proof}
Elementary.
\end{proof}

The long exact sequence
$$ \dots \to \H_i\br{A} \to \H_i\br{X} \to \H_i\br{X, A} \to \H_{i - 1}\br{A} \to \dots $$
is called the \textbf{long exact sequence of the pair $ \br{X, A} $}.

\begin{remark*}
\hfill
\begin{itemize}
\item Cycles in $ \C_\bullet\br{X, A} $ are chains in $ X $ whose boundary lies in $ A $.
\item You might expect that things in $ A $ do not matter for $ \C_\bullet\br{X, A} $, as we quotient all simplices in $ A $. A precise version of that intuition is excision.
\end{itemize}
\end{remark*}

\begin{theorem}[Excision]
Let $ X $ be a space, $ A \subseteq X $ a subspace, and $ Z $ a subspace such that $ \overline{Z} \subseteq \mathring{A} $. Then the inclusion $ \iota : \br{X \setminus Z, A \setminus Z} \hookrightarrow \br{X, A} $ is an isomorphism on relative homology, so for all $ n $,
$$ \br{\iota_*}_n : \H_n\br{X \setminus Z, A \setminus Z} \xrightarrow{\sim} \H_n\br{X, A}. $$
\end{theorem}

We will prove excision and Mayer-Vietoris together next time. For now, let us see how this helps us understand relative homology.

\begin{remark*}
Naturality under maps, homotopy invariance, the relative homology long exact sequence, and excision are the key tools of homology and cohomology. Much of what we will do will be built from these.
\end{remark*}

\begin{lemma}[$ 5 $-lemma]
Suppose
$$
\begin{tikzcd}
A \arrow{r}{\da} \arrow{d}{\alpha} & B \arrow{r}{\da} \arrow{d}{\beta} & C \arrow{r}{\da} \arrow{d}{\gamma} & D \arrow{r}{\da} \arrow{d}{\delta} & E \arrow{d}{\epsilon} \\
A' \arrow{r}[swap]{\da'} & B' \arrow{r}[swap]{\da'} & C' \arrow{r}[swap]{\da'} & D' \arrow{r}[swap]{\da'} & E'
\end{tikzcd}
$$
is a commuting diagram of abelian groups with exact rows. If $ \alpha, \beta, \delta, \epsilon $ are isomorphisms, then so is $ \gamma $.
\end{lemma}

\begin{proof}
More diagram chasing. We will show $ \gamma $ is one-to-one, and you check it is onto. \footnote{Exercise} Let $ c \in C $ have $ \gamma\br{c} = 0 $. Then $ \delta\br{\da\br{c}} = \da'\br{\gamma\br{c}} = 0 $ so $ \da\br{c} \in \ker \delta $, and $ \delta $ is an isomorphism so $ \da\br{c} = 0 $. Since the rows are exact, $ c \in \ker \da = \im \da $, so $ c = \da\br{b} $ for $ b \in B $. Then $ \da'\br{\beta\br{b}} = \gamma\br{\da\br{b}} = \gamma\br{c} = 0 $, so $ \beta\br{b} \in \ker \da' = \im \da' $, and $ \beta\br{b} = \da'\br{a'} $. Since $ \alpha $ is an isomorphism, there exists $ a \in A $ such that $ \alpha\br{a} = a' $. Now $ \beta\br{\da\br{a}} = \da'\br{\alpha\br{a}} = \da'\br{a'} = \beta\br{b} $ so $ \da\br{a} - b \in \ker \beta $, and $ \beta $ is an isomorphism so $ b = \da\br{a} $. Thus $ c = \da\br{b} = \da^2\br{a} = 0 $ and $ c $ is one-to-one.
\end{proof}

\begin{corollary}
If $ f : \br{X, A} \to \br{Y, B} $ is a map of pairs, and any two of the induced homomorphisms
$$ \H_\bullet\br{X} \to \H_\bullet\br{Y}, \qquad \H_\bullet\br{A} \to \H_\bullet\br{B}, \qquad \H_\bullet\br{X, A} \to \H_\bullet\br{Y, B} $$
are isomorphisms, then so is the third.
\end{corollary}

\begin{proof}
Apply the $ 5 $-lemma to
$$
\begin{tikzcd}
\dots \arrow{r} & \H_i\br{A} \arrow{r} \arrow{d} & \H_i\br{X} \arrow{r} \arrow{d} & \H_i\br{X, A} \arrow{r} \arrow{d} & \H_{i - 1}\br{A} \arrow{r} \arrow{d} & \H_{i - 1}\br{X} \arrow{r} \arrow{d} & \dots \\
\dots \arrow{r} & \H_i\br{B} \arrow{r} & \H_i\br{Y} \arrow{r} & \H_i\br{Y, B} \arrow{r} & \H_{i - 1}\br{B} \arrow{r} & \H_{i - 1}\br{Y} \arrow{r} & \dots
\end{tikzcd}.
$$
\end{proof}

\pagebreak

\subsection{Reduced homology and good pairs}

We need two definitions to proceed. The first looks a bit odd, but be patient.

\begin{definition*}
If $ X $ is a space, and $ x_0 \in X $ is a basepoint, the \textbf{reduced homology} is
$$ \widetilde{\H_i}\br{X} = \H_i\br{X, x_0}. $$
\end{definition*}

\begin{exercise*}
The long exact sequence of a pair shows
$$ \widetilde{\H_0}\br{X} \oplus \ZZ \cong \H_0\br{X}, \qquad \widetilde{\H_i}\br{X} \cong \H_i\br{X}, \qquad i > 0. $$
\end{exercise*}

\begin{definition*}
A pair $ \br{X, A} $ is \textbf{good} if $ A \subseteq X $ is closed and is a \textbf{deformation retract} of an open neighbourhood $ A \subseteq U \subseteq X $, that is there exists $ H : \sbr{0, 1} \times U \to U $ such that
\begin{itemize}
\item $ \eval{H}_{\cbr{0} \times U} = \id $ and $ \eval{H}_{\cbr{1} \times U} $ has image in $ A $, and
\item $ H $ is fixed on $ A $, so for all $ t \in \sbr{0, 1} $ and $ a \in A $, $ H\br{t, a} = a $.
\end{itemize}
\end{definition*}

So you can squeeze $ U $ back onto $ A $ without moving $ A $. If $ X $, and hence $ U $, is Hausdorff, then $ A $ is automatically closed.

\begin{proposition}
If $ \br{X, A} $ is good, the natural map $ \br{X, A} \to \br{X / A, A / A} $ induces isomorphisms
$$ \H_\bullet\br{X, A} \xrightarrow{\sim} \widetilde{\H_\bullet}\br{X / A}. $$
\end{proposition}

\begin{proof}
Note that homotopy invariance and the $ 5 $-lemma show inclusion defines isomorphisms
$$ \H_\bullet\br{A} \xrightarrow{\sim} \H_\bullet\br{U}, \qquad \H_\bullet\br{X, A} \xrightarrow{\sim} \H_\bullet\br{X, U}. $$
The inclusion $ A / A = \pt \hookrightarrow U / A $ is a deformation retract and in particular a homotopy equivalence, so
$$ \H_\bullet\br{X / A, A / A} \xrightarrow{\sim} \H_\bullet\br{X / A, U / A} $$
is also an isomorphism by the $ 5 $-lemma. Consider
$$
\begin{tikzcd}
\H_\bullet\br{X, A} \arrow{r}{\text{Homotopy}}[swap]{\sim} \arrow{d} & \H_\bullet\br{X, U} & \H_\bullet\br{X \setminus A, U \setminus A} \arrow{l}{\sim}[swap]{\text{Excision}} \arrow{d} \\
\H_\bullet\br{X / A, A / A} \arrow{r}{\sim}[swap]{\text{Homotopy}} & \H_\bullet\br{X / A, U / A} & \H_\bullet\br{\br{X / A} \setminus \br{A / A}, \br{U / A} \setminus \br{A / A}} \arrow{l}{\text{Excision}}[swap]{\sim}
\end{tikzcd},
$$
where the vertical maps collapse $ A $. Then the right vertical map is a homeomorphism of pairs, since $ X \setminus A \cong \br{X / A} \setminus \br{A / A} $. So the right vertical map is an isomorphism and hence the left vertical map is an isomorphism.
\end{proof}

\begin{remark*}
The \textbf{tubular neighbourhood theorem} of differential topology, which we will discuss more later, implies that if $ X $ is a smooth manifold and $ A \subseteq X $ is a compact smooth submanifold, $ \br{X, A} $ is a good pair.
\end{remark*}

\begin{example*}
$$ \H_j\br{\D^n, \da\D^n} \cong \widetilde{\H_j}\br{\D^n / \da\D^n} = \widetilde{\H_j}\br{\S^n} =
\begin{cases}
\ZZ & j = n \\
0 & \text{otherwise}
\end{cases}.
$$
\end{example*}

\begin{example*}
Let $ \S^1 $ be the equator. Then
$$ \H_j\br{\S^2, \S^1} \cong \widetilde{\H_j}\br{\S^2 \vee \S^2} \cong
\begin{cases}
\ZZ \oplus \ZZ & j = 2 \\
0 & \text{otherwise}
\end{cases}.
$$
\end{example*}

\begin{remark*}
If $ M $ is a manifold and $ x \in M $, by excision with $ Z = M \setminus \cbr{\text{open disc neighbourhood of} \ x} $ and homotopy invariance or directly from the long exact sequence of a pair,
$$ \H_j\br{M, M \setminus \cbr{x}} \cong \H_j\br{\RR^n, \RR^n \setminus \cbr{0}} \cong \H_j\br{\D^n, \da\D^n} \cong
\begin{cases}
\ZZ & j = n = \dim_\RR M \\
0 & \text{otherwise}
\end{cases}.
$$
\end{remark*}

\pagebreak

\subsection{Proof of Mayer-Vietoris and excision}

\lecture{7}{Friday}{23/10/20}

We have stated two major properties of homology and cohomology without proof, Mayer-Vietoris and excision. Recall that we also saw if
$$ 0 \to A_\bullet \to B_\bullet \to C_\bullet \to 0 $$
is a short exact sequence of chain complexes, then there exists a long exact sequence in homology
$$ \dots \to \H_i\br{A_\bullet} \to \H_i\br{B_\bullet} \to \H_i\br{C_\bullet} \to \H_{i - 1}\br{A_\bullet} \to \dots. $$
Mayer-Vietoris will be a consequence of this.

\begin{definition*}
Let $ \UUU = \cbr{U_\alpha}_{\alpha \in I} $ be a collection of subsets of $ X $ with the property that $ X = \bigcup_{\alpha \in I} \mathring{U_\alpha} $, such as an open cover. Then
$$ \C_j^\UUU\br{X} = \cbr{\sum_i a_i\sigma_i \st a_i \in \ZZ, \ \sigma_i : \Delta^j \to X, \ \exists \alpha\br{i} \in I, \ \im \sigma_i \subseteq U_{\alpha\br{i}}} $$
is the \textbf{subcomplex} of $ \br{\C_\bullet\br{X}, \da} $ generated by simplices each of which lie wholly inside some set in $ \UUU $.
\end{definition*}

Note that
$$
\begin{tikzcd}[row sep=tiny]
\C_\bullet\br{X} \arrow{r} & \C_{\bullet - 1}\br{X} \\
\C_\bullet^\UUU\br{X} \arrow[subset]{u} \arrow{r} & \C_{\bullet - 1}^\UUU\br{X} \arrow[subset]{u}
\end{tikzcd},
$$
since $ \C_\bullet^\UUU\br{X} $ is preserved by $ \da $ so is a subcomplex.

\begin{proposition}[Small simplices theorem]
\label{prop:smallsimplices}
The inclusion $ \C_\bullet^\UUU\br{X} \hookrightarrow \C_\bullet\br{X} $ induces an isomorphism on homology.
\end{proposition}

\begin{remark*}
Suppose $ f : X \to Y $ sends each element of $ \UUU $ into some element of $ \VVV $, the corresponding cover of $ Y $. Then $ f $ induces $ f_\# : \C_\bullet^\UUU\br{X} \to \C_\bullet^\VVV\br{Y} $.
\end{remark*}

\begin{example*}[Mayer-Vietoris]
Let $ \UUU = \cbr{A, B} $ for $ A, B \subseteq X $ open. Then there is an obvious short exact sequence of chain complexes
$$ 0 \to \C_\bullet\br{A \cap B} \xrightarrow{\sigma \mapsto \br{\sigma, \sigma}} \C_\bullet\br{A} \oplus \C_\bullet\br{B} \xrightarrow{\br{u, v} \mapsto u - v} \C_\bullet^\UUU\br{X} \to 0, $$
which is onto since $ \C_\bullet^\UUU\br{X} $ only contains simplices lying in $ A $ or $ B $. The associated long exact sequence is the Mayer-Vietoris sequence, using small simplices to identify $ \H_\bullet\br{\C_\bullet^\UUU\br{X}} \xrightarrow{\sim} \H_\bullet\br{\C_\bullet\br{X}} $. Note also the construction of the $ \da $ map in the long exact sequence associated to a short exact sequence of complexes does reproduce our earlier description of $ \da_{\MV} $. Also the naturality of Mayer-Vietoris under maps $ f : X \to Y $ such that $ f\br{A} \subseteq C $ and $ f\br{B} \subseteq D $ is just the naturality of $ \C_\bullet^\UUU\br{X} \to \C_\bullet^\VVV\br{Y} $.
\end{example*}

\begin{example*}[Excision]
Recall we have $ Z, A \subseteq X $ and $ \overline{Z} \subseteq \mathring{A} $. Let $ B = X \setminus Z $ and let $ \UUU = \cbr{A, B} $, so the interiors of $ A $ and $ B $ do cover $ X $. Note that
$$ \C_n^\UUU\br{X} / \C_n\br{A} \cong \C_n\br{B} / \C_n\br{A \cap B} $$
is the free abelian group on simplices in $ B $ not wholly contained in $ A $. The short exact sequences of chain complexes
$$
\begin{tikzcd}
0 \arrow{r} & \C_\bullet\br{A} \arrow{r} \arrow{d} & \C_\bullet^\UUU\br{X} \arrow{r} \arrow{d} & \C_\bullet^\UUU\br{X} / \C_\bullet\br{A} \arrow{r} \arrow{d} & 0 \\
0 \arrow{r} & \C_\bullet\br{A} \arrow{r} & \C_\bullet\br{X} \arrow{r} & \C_\bullet\br{X} / \C_\bullet\br{A} \arrow{r} & 0
\end{tikzcd},
$$
and the natural map of short exact sequences give a map of long exact sequences
$$
\begin{tikzcd}[column sep=small]
\dots \arrow{r} & \H_i\br{A} \arrow{r} \arrow{d}{=} & \H_i\br{\C_\bullet^\UUU\br{X}} \arrow{r} \arrow{d}{\text{SS}}[swap]{\sim} & \H_i\br{\C_\bullet^\UUU\br{X} / \C_\bullet\br{A}} \arrow{r} \arrow{d}{\phi} & \H_{i - 1}\br{A} \arrow{r} \arrow{d}{\text{SS}}[swap]{\sim} & \H_{i - 1}\br{\C_\bullet^\UUU\br{X}} \arrow{r} \arrow{d}{=} & \dots \\
\dots \arrow{r} & \H_i\br{A} \arrow{r} & \H_i\br{X} \arrow{r} & \H_i\br{X, A} \arrow{r} & \H_{i - 1}\br{A} \arrow{r} & \H_{i - 1}\br{X} \arrow{r} & \dots
\end{tikzcd}.
$$

\pagebreak

So by the $ 5 $-lemma, $ \phi $ is an isomorphism, so
$$ \C_\bullet^\UUU\br{X} / \C_\bullet\br{A} \hookrightarrow \C_\bullet\br{X} / \C_\bullet\br{A} $$
is an isomorphism on homology. So
\begin{align*}
\H_\bullet\br{X, A}
& = \H_\bullet\br{\C_\bullet\br{X} / \C_\bullet\br{A}}
\cong \H_\bullet\br{\C_\bullet^\UUU\br{X} / \C_\bullet\br{A}} \\
& \cong \H_\bullet\br{\C_\bullet\br{B} / \C_\bullet\br{A \cap B}}
= \H_\bullet\br{B, A \cap B}
= \H_\bullet\br{X \setminus Z, A \setminus Z},
\end{align*}
proving excision.
\end{example*}

\subsection{Proof of small simplices theorem}

So it just remains to prove the small simplices theorem that $ \C_\bullet^\UUU\br{X} \hookrightarrow \C_\bullet\br{X} $ is an isomorphism on homology. The key geometric ingredient is to divide simplices into smaller simplices.

\begin{definition*}
The \textbf{barycentre}, or centre of mass, of $ \Delta^n $ is
$$ \b_n = \dfrac{\br{1, \dots, 1}}{n + 1}. $$
\end{definition*}

A \textbf{barycentric subdivision} is the following three-step procedure.
\begin{itemize}
\item Subdivide the boundary.
\item Add the barycentre.
\item Cone off from the barycentre to the subdivided boundary.
\end{itemize}

\begin{definition*}
If $ \sigma : \Delta^i \to \Delta^n \in \C_i\br{\Delta^n} $,
$$ \function[\Cone_i^{\Delta^n}\br{\sigma}]{\Delta^{i + 1}}{\Delta^n}{\br{t_0, \dots, t_{i + 1}}}{t_0\b_n + \br{1 - t_0}\sigma\br{\dfrac{\br{t_1, \dots, t_{i + 1}}}{1 - t_0}}}. $$
So, extended linearly, $ \Cone_i^{\Delta^n} : \C_i\br{\Delta^n} \to \C_{i + 1}\br{\Delta^n} $.
\end{definition*}

\begin{exercise*}
$$ \da\br{\Cone_i^{\Delta^n}\br{\sigma}} =
\begin{cases}
\sigma - \Cone_{i - 1}^{\Delta^n}\br{\da\br{\sigma}} & i > 0 \\
\sigma - \epsilon\br{\sigma}\b_n & i = 0
\end{cases},
$$
where
$$ \function[\epsilon]{\C_0\br{\Delta^n}}{\ZZ}{\sum_i n_ip_i}{\sum_i n_i} $$
is the augmentation.
\end{exercise*}

\begin{definition*}
Define
$$ \function[\c]{\C_\bullet\br{\Delta^n}}{\C_\bullet\br{\Delta^n}}{\sigma}{
\begin{cases}
\epsilon\br{\sigma}\b_n & \text{on} \ \C_0\br{\Delta^n} \\
0 & \text{on} \ \C_i\br{\Delta^n}, \ i > 0
\end{cases}
}. $$
\end{definition*}

Then
$$ \da \circ \Cone^{\Delta^n} + \Cone^{\Delta^n} \circ \da = \id_{\C_\bullet\br{\Delta^n}} - \c. $$

\begin{definition*}
A collection of chain maps $ \phi^X : \C_\bullet\br{X} \to \C_\bullet\br{X} $, defined for all spaces $ X $, is \textbf{natural} if for all $ f : X \to Y $,
$$ f_\# \circ \phi^X = \phi^Y \circ f_\#. $$
Similarly for a collection $ P : \C_\bullet\br{X} \to \C_{\bullet + 1}\br{X} $ of chain homotopies between natural $ \phi^X $ and $ \psi^X $.
\end{definition*}

\pagebreak

\begin{definition*}
Define
$$ \phi_0^X = \id_{\C_0\br{X}}, \qquad \function[\phi_n^X]{\C_n\br{X}}{\C_n\br{X}}{\sigma}{\sigma_\#\br{\Cone_{n - 1}^{\Delta^n}\br{\phi_{n - 1}^{\Delta^n}\br{\da\br{\iota_n}}}}}, $$
where $ \iota_n : \Delta^n \to \Delta^n \in \C_n\br{\Delta^n} $ is the identity, so $ \da\br{\iota_n} \in \C_{n - 1}\br{\Delta^n} $.
\end{definition*}

Since $ \sigma : \Delta^n \to X $ is $ \sigma \circ \iota_n : \Delta^n \to \Delta^n \to X $, this is natural, since
$$ \phi_n^X\br{\sigma} = \phi_n^X\br{\sigma_\#\br{\iota_n}} = \sigma_\#\br{\phi_n^{\Delta^n}\br{\iota_n}}. $$
The idea is that we know how to subdivide $ \Delta^n $, so know how to subdivide any simplex in $ X $.

\begin{definition*}
Similarly, define
$$ \function[P_n^X]{\C_n\br{X}}{\C_{n + 1}\br{X}}{\sigma}{\sigma_\#\br{\Cone_n^{\Delta^n}\br{\phi_n^{\Delta^n}\br{\iota_n} - \iota_n - P_{n - 1}^{\Delta^n}\br{\da\br{\iota_n}}}}}. $$
\end{definition*}

This decomposes the prism $ \Delta^n \times \sbr{0, 1} $ by joining $ \Delta^n \times \cbr{0} $ and $ \Delta^n \times \cbr{1} $ to the barycentre of $ \Delta^n \times \cbr{1} $.

\begin{fact*}
$ \phi^X : \C_\bullet\br{X} \to \C_\bullet\br{X} $ is a natural chain map, and $ P^X : \C_\bullet\br{X} \to \C_{\bullet + 1}\br{X} $ is a natural chain homotopy from $ \phi^X $ to the identity, that is
$$ \da \circ P_n^X + P_{n - 1}^X \circ \da = \phi_n^X - \id_{\C_n\br{X}}. $$
We will not prove this.
\end{fact*}

Ok, now we know how to divide simplices.

\begin{lemma}
If $ \sbr{v_0, \dots, v_n} \subseteq \RR^{n + 1} $ is a simplex, then each simplex of its barycentric division has Euclidean diameter at most $ n / \br{n + 1} $ the Euclidean diameter of $ \sbr{v_0, \dots, v_n} $.
\end{lemma}

\begin{corollary}
\hfill
\begin{enumerate}
\item If $ \sigma \in \C_n^\UUU\br{X} $, then $ \phi_n^X\br{\sigma} \in \C_n^\UUU\br{X} $.
\item If $ \sigma \in \C_n\br{X} $, there exists $ k \gg 0 $ such that $ \br{\phi_n^X}^k\br{\sigma} \in \C_n^\UUU\br{X} $.
\end{enumerate}
\end{corollary}

\begin{proof}
\hfill
\begin{enumerate}
\item Obvious.
\item $ \sigma $ is a finite sum of simplices, so it suffices to prove the result for one $ \sigma : \Delta^n \to X $. Let $ \UUU = \cbr{U_\alpha}_{\alpha \in I} $. Now $ \cbr{\sigma^{-1}\br{\mathring{U_\alpha}}}_{\alpha \in I} $ is an open cover of $ \Delta^n $, so has a \textbf{Lebesgue number}, that is there exists $ \epsilon > 0 $ such that any open $ \epsilon $-ball in $ \Delta^n $ lies in some $ \sigma^{-1}\br{U_\alpha} $. Now pick $ k \gg 0 $ such that $ \br{n / \br{n + 1}}^k \ll \epsilon $.
\end{enumerate}
\end{proof}

\begin{proof}[Proof of Proposition \ref{prop:smallsimplices}]
Let $ U : \H_\bullet\br{\C_\bullet^\UUU\br{X}} \to \H_\bullet\br{X} $ be the natural map.
\begin{itemize}
\item If $ \sbr{c} \in \H_n\br{X} $, there exists $ k $ such that $ \br{\phi_n^X}^k\br{c} \in \C_n^\UUU\br{X} $. Since $ \phi^X \simeq \id $, $ \br{\phi^X}^k \simeq \id $, so there exists $ F $ such that $ \da \circ F + F \circ \da = \br{\phi^X}^k - \id $. Then $ \br{\phi^X}^k\br{c} = c + \im \da $, so $ U $ is onto.
\item If $ U\br{\sbr{c}} = 0 $ for $ \sbr{c} \in \H_n\br{\C_\bullet^\UUU\br{X}} $ and $ z \in \C_{n + 1}\br{X} $ has $ \da\br{z} = c $, there exists $ k $ such that $ \br{\phi_{n + 1}^X}^k\br{z} \in \C_{n + 1}^\UUU\br{X} $ and $ \br{\phi_{n + 1}^X}^k\br{z} - z = \br{\da \circ F + F \circ \da}\br{z} $, so
$$ c = \da\br{z} = \da\br{\br{\phi_{n + 1}^X}^k\br{z}} - \da\br{F\br{\da\br{z}}} \in \C_{n + 1}^\UUU\br{X}, $$
since $ \da\br{z} \in \C_n^\UUU\br{X} $ and $ F $ is natural. Then $ c \in \im \br{\da : \C_{n + 1}^\UUU\br{X} \to \C_n^\UUU\br{X}} $, so $ \sbr{c} = 0 $ and $ U $ is one-to-one.
\end{itemize}
\end{proof}

\pagebreak

\section{Cellular homology and cohomology}

\lecture{8}{Monday}{26/10/20}

Singular homology and cohomology are defined for all topological spaces, but we are mostly interested in nice spaces. In particular, we have seen $ \H_\bullet\br{\S^n} $, $ \H_\bullet\br{\text{Klein}} $, $ \H_\bullet\br{\Sigma_g} $, and $ \H^\bullet\br{\CC\PP^n} $ are all finite rank, even though $ \C_\bullet\br{X} $ is vast in each case. Our next goal is to develop a computational shortcut which makes this manifest.

\subsection{Cell complexes}

\begin{definition*}
A \textbf{cell complex}, or \textbf{CW complex}, is a space obtained inductively as follows.
\begin{itemize}
\item $ X_0 $ is a discrete set, such as a finite set.
\item Given $ X_{k - 1} $,
$$ X_k = X_{k - 1} \cup \bigcup_{i \in I_k} \D_i^k, $$
for $ I_k $ an indexing set and $ \D_i^k = \cbr{x \in \RR^k \st \norm{x} \le 1} $ a closed disc, called \textbf{$ k $-cells}, attached via $ \da\D_i^k = \S^{k - 1} \to X_{k - 1} $, so $ X_{k - 1} \sqcup \bigsqcup_{i \in I_k} \D_i^k \twoheadrightarrow X_k $ is the quotient map identifying $ \da\D_i^k $ and its image.
\item $ X = \bigcup_{k \ge 0} X_k $ with the \textbf{weak} topology, where $ U \subseteq X $ is open if and only if $ U \cap X_k $ is open in $ X_k $ for all $ k $.
\end{itemize}
\end{definition*}

\begin{example*}
\hfill
\begin{itemize}
\item $ \S^n = \pt \cup \D^n $ attached via the constant map $ \da\D^n \to \pt $.
\item $ \S^n = \pt \cup \pt \cup \D_{\alpha_1}^1 \cup \D_{\alpha_2}^1 \cup \D_{\beta_1}^2 \cup \D_{\beta_2}^2 $.
\item $ \T^2 $ has one $ 0 $-cell, two $ 1 $-cells, and one $ 2 $-cell.
\item $ \Sigma_2 $ has one $ 0 $-cell, four $ 1 $-cells, and one $ 2 $-cell.
\item The \textbf{wedge product}. If $ X $ and $ Y $ are cell complexes, then $ X \vee Y = \abr{X \sqcup Y} / x_0 \sim y_0 $ where $ x_0 \in X_0 $ and $ y_0 \in Y_0 $.
\end{itemize}
\end{example*}

\begin{notation*}
Let $ X $ be a cell complex. The $ \D_i^k $ are $ k $-cells.
\begin{itemize}
\item $ X_k $ is the \textbf{$ k $-skeleton} of $ X $.
\item If there exists $ N $ such that $ X = X_N $, then $ X $ is a \textbf{finite-dimensional} cell complex.
\item If $ X = X_N $ and $ I_j < \infty $ for all $ j $, then $ X $ is a \textbf{finite} cell complex. Then $ X $ is compact.
\item $ X = \bigsqcup_{k \ge 0} \mathring{\D_\alpha^k} $ is the disjoint union of its open cells $ \C_\alpha^k $ as attaching maps take $ \da\D_\alpha^k $ to $ X_{k - 1} $.
\item A \textbf{subcomplex} $ A \subseteq X $ is a closed subspace which is a union of cells of $ X $. Note that given a cell complex $ X $, you cannot throw out a random bunch of cells to get a subcomplex. There may be later cells that try to attach to things you are throwing out.
\end{itemize}
\end{notation*}

\subsection{Point-set digression}

Let $ X = \bigcup_{n \ge 0} X_n $ be a cell complex.

\begin{exercise*}
$ A \subseteq X $ is open, or closed, if and only if $ \br{\phi_\alpha^n}^{-1}\br{A} \subseteq \D_\alpha^n $ is open, or closed, for all $ \alpha $, where
$$ \phi_\alpha^n : \D_\alpha^n \hookrightarrow X_{n - 1} \sqcup \bigsqcup_\alpha \D_\alpha^n \twoheadrightarrow X_n \hookrightarrow X $$
is the \textbf{characteristic} map of the cell, so $ \eval{\phi_\alpha^n}_{\da\D_\alpha^n} $ is the attaching map.
\end{exercise*}

\pagebreak

Let $ A \subseteq X $. We build an open neighbourhood $ \N_\epsilon\br{A} $ of $ A $ inductively. Let $ \N_\epsilon^0\br{A} = A \cap X_0 $. Given $ \N_\epsilon^n\br{A} \subseteq X_n $ an open neighbourhood of $ A \cap X_n $, define $ \N_\epsilon^{n + 1}\br{A} $ by specifying
\begin{align*}
\br{\phi_\alpha^{n + 1}}^{-1}\br{\N_\epsilon^{n + 1}\br{A}}
= & \br{\text{open $ \epsilon $-neighbourhood of} \ \br{\phi_\alpha^n}^{-1}\br{A} \setminus \da\D_\alpha^{n + 1} \subseteq \D_\alpha^{n + 1} \setminus \da\D_\alpha^{n + 1}} \\
& \cup \br{\intoc{1 - \epsilon, 1} \times \br{\phi_\alpha^n}^{-1}\br{\N_\epsilon^n\br{A}}},
\end{align*}
where $ \epsilon $ depends on $ \alpha $, and $ \intoc{1 - \epsilon, 1} $ is the radial spherical coordinate on $ \D_\alpha^{n + 1} $ and $ \br{\phi_\alpha^n}^{-1}\br{\N_\epsilon^n\br{A}} $ is the angular coordinate on $ \da\D_\alpha^{n + 1} $. Then $ \N_\epsilon\br{A} = \bigcup_{n \ge 0} \N_\epsilon^n\br{A} $ is open, as it is open in every cell.

\begin{proposition}
Cell complexes are Hausdorff and locally contractible. So connected if and only if path-connected.
\end{proposition}

\begin{proof}
For a proof, see Hatcher, appendix A.
\end{proof}

\begin{fact*}
A compact smooth manifold, perhaps with boundary, is homotopy equivalent to a finite cell complex. And given $ N \subseteq M $ a properly embedded submanifold, there exists a cell structure on $ M $ making $ N $ a subcomplex. Can drop smoothness, but there are nice proofs using Morse theory if you have it.
\end{fact*}

\begin{lemma}
If $ X $ is a cell complex and $ A \subseteq X $ is a subcomplex, then $ \br{X, A} $ is a good pair.
\end{lemma}

\begin{proof}
See Hatcher. Again, point-set rather than algebraic topology.
\end{proof}

\begin{corollary}
$ \H_\bullet\br{X, A} \cong \widetilde{\H_\bullet}\br{X / A} $.
\end{corollary}

\begin{corollary}
If $ X = \bigcup_{k \ge 0} X_k $ is a cell complex,
$$ \H_i\br{X_k, X_{k - 1}} =
\begin{cases}
\bigoplus_{\alpha \in I_k} \ZZ & i = k \\
0 & \text{otherwise}
\end{cases}
$$
is free abelian on the set of $ k $-cells in $ X $.
\end{corollary}

\begin{proof}
$ X_{k - 1} \subseteq X_k $ is a subcomplex, so
$$ \H_\bullet\br{X_k, X_{k - 1}} \cong \widetilde{\H_\bullet}\br{X_k / X_{k - 1}} \cong \widetilde{\H_\bullet}\br{\bigvee_{\alpha \in I_k} \S_\alpha^k}, $$
as $ \da\D_\alpha^k \to X_{k - 1} $ for all $ k $-cells and $ X_{k - 1} $ is collapsed to a point. Choose $ x_\alpha \in \S_\alpha^k $ for all $ \alpha $. Then $ \br{\bigsqcup_\alpha \S_\alpha^k, \bigsqcup_\alpha \cbr{x_\alpha}} $ is a good pair and $ \bigsqcup_\alpha \S_\alpha^k / \bigsqcup_\alpha \cbr{x_\alpha} = \bigvee_\alpha \S_\alpha^k $, so
$$ \H_\bullet\br{X_k, X_{k - 1}} \cong \H_\bullet\br{\bigsqcup_\alpha \S_\alpha^k, \bigsqcup_\alpha \cbr{x_\alpha}} = \bigoplus_\alpha \H_\bullet\br{\S_\alpha^k, \cbr{x_\alpha}} = \bigoplus \widetilde{\H_\bullet}\br{\S_\alpha^k}. $$
\end{proof}

\begin{proposition}
If $ Z \subseteq X $ is compact, there exists $ N $ such that $ Z \subseteq X_N $.
\end{proposition}

\begin{proof}
We will show $ Z $ meets only finitely many cells of $ X $. Suppose for contradiction there exists $ S = \cbr{x_0, x_1, \dots} \subseteq Z $ such that $ x_i \in e_i $ and the cells $ \cbr{e_i} $ are pairwise distinct. Claim that $ S $ is closed in $ X $. Well, $ S \cap X_0 $ is closed in $ X_0 $, a discrete space. Inductively, if $ S \cap X_{n - 1} $ is closed in $ X_{n - 1} $ and $ \phi_\alpha^n : \D_\alpha^n \to X_n $ is an $ n $-cell, $ \br{\eval{\phi_\alpha^n}_{\da\D_\alpha^n}}^{-1}\br{S} \subseteq \S_\alpha^{n - 1} $ is closed. Then
$$ \br{\phi_\alpha^n}^{-1}\br{S} = \br{\eval{\phi_\alpha^n}_{\da\D_\alpha^n}}^{-1}\br{S} \cup \cbr{\text{at most one point}} \subseteq \D_\alpha^n $$
is closed, since $ X $ is the disjoint union of interiors of cells, so $ S $ meets each cell of $ X_n $ in a closed set, so $ S \subseteq X_n $ is closed. Same for $ S' \subseteq S $, so $ S $ is discrete. Thus $ S $ is finite.
\end{proof}

\pagebreak

\begin{proposition}
Let $ X = \bigcup_{k \ge 0} X_k $ be a cell complex.
\begin{enumerate}
\item $ \H_k\br{X_n} = 0 $ for all $ k > n $.
\item The inclusion $ X_n \hookrightarrow X $ induces an isomorphism $ \H_j\br{X_n} \xrightarrow{\sim} \H_j\br{X} $ for all $ j < n $.
\end{enumerate}
\end{proposition}

\begin{proof}
\hfill
\begin{enumerate}
\item If $ k > n $, the long exact sequence of a pair $ \br{X_n, X_{n - 1}} $ gives
$$
\begin{tikzcd}[row sep=tiny]
\H_{k + 1}\br{X_n, X_{n - 1}} \arrow{r} \arrow[cong]{d} & \H_k\br{X_{n - 1}} \arrow{r} & \H_k\br{X_n} \arrow{r} & \H_k\br{X_n, X_{n - 1}} \arrow[cong]{d} \\
0 & & & 0
\end{tikzcd},
$$
so $ \H_k\br{X_n} \cong \dots \cong \H_k\br{X_0} = 0 $, since $ X_0 $ is a discrete set.
\item The same sequence as before
$$ \H_{k + 1}\br{X_n, X_{n - 1}} \to \H_k\br{X_{n - 1}} \to \H_k\br{X_n} \to \H_k\br{X_n, X_{n - 1}} $$
with $ k < n - 1 $ shows $ \H_k\br{X_{n - 1}} \cong \dots \cong \H_k\br{X_N} $ for all $ N > n - 1 $. If $ X $ is finite-dimensional, we are done. In general, if $ \alpha \in \H_k\br{X} $, then $ \alpha $ is represented by a finite union of simplices, which is compact. If $ Z \subseteq X $ is compact, there exists $ N $ such that $ Z \subseteq X_N $. So $ \alpha \in \im \br{\phi_N : \H_k\br{X_N} \to \H_k\br{X}} $ for all $ N \gg 0 $. Similarly, if a cycle $ \alpha = \sum_i a_i\sigma_i \in \H_k\br{X} $ bounds a $ \br{k + 1} $-chain in $ X $, that $ \br{k + 1} $-chain lives in some $ X_{N'} $ for $ N' \gg 0 $, so $ \sbr{\alpha} = 0 \in \H_k\br{X_{N'}} $, that is $ \phi_N $ is one-to-one for $ N \gg 0 $.
\end{enumerate}
\end{proof}

\begin{corollary}
Let $ X $ be a finite-dimensional cell complex of dimension $ n $. Then
$$ \H_j\br{X} = 0, \qquad j > n. $$
\end{corollary}

\subsection{Cellular homology}

\lecture{9}{Wednesday}{28/10/20}

We are still computing from the huge chain groups $ \C_\bullet\br{X} $. The goal is to describe a model for $ \H_\bullet\br{X} $ starting from a much smaller chain complex.

\begin{definition*}
Let $ X = \bigcup_{n \ge 0} X_n $ be a cell complex. Let
$$ \C_k^{\cell}\br{X} = \H_k\br{X_k, X_{k - 1}}. $$
\end{definition*}

This is free abelian on the $ k $-cells. Then
$$
\begin{tikzcd}[column sep=small]
& \dots \arrow{dr} & & \dots & & & \\
& & \H_k\br{X_k} \arrow{ur} \arrow{dr}{\text{LES of} \ \br{X_k, X_{k - 1}}} & & & & \dots \\
\dots \arrow{r} & \H_{k + 1}\br{X_{k + 1}, X_k} \arrow{ur}{\text{LES of} \ \br{X_{k + 1}, X_k}} \arrow{rr}[swap]{\da_{k + 1}^{\cell}} & & \H_k\br{X_k, X_{k - 1}} \arrow{rr}{\da_k^{\cell}} \arrow{dr}[swap]{\text{LES of} \ \br{X_k, X_{k - 1}}} & & \H_{k - 1}\br{X_{k - 1}, X_{k - 2}} \arrow{ur} \arrow{r} & \dots \\
\dots \arrow{ur} & & & & \H_{k - 1}\br{X_{k - 1}} \arrow{ur}[swap]{\text{LES of} \ \br{X_{k - 1}, X_{k - 2}}} \arrow{dr} & & \\
& & & \dots \arrow{ur} & & \dots &
\end{tikzcd}.
$$
Observe that $ \da_k^{\cell} \circ \da_{k + 1}^{\cell} = 0 $ since we have two consecutive maps from one long exact sequence. This is the \textbf{cellular chain complex} of $ X = \bigcup_{n \ge 0} X_n $. Note that it depends on the chosen cell structure. Write $ \H_\bullet^{\cell}\br{X} $ for $ \H_\bullet\br{\C_\bullet^{\cell}\br{X}, \da^{\cell}} $.

\pagebreak

\begin{proposition}
$$ \H_\bullet^{\cell}\br{X} \cong \H_\bullet\br{X}. $$
\end{proposition}

\begin{proof}
Recall that $ \H_j\br{X_k} = 0 $ if $ j > k $ and $ X_k \hookrightarrow X $ is an isomorphism on homology for $ j < k $. Then
$$
\begin{tikzcd}[column sep=small]
& & & \H_k\br{X_{k + 1}, X_k} = 0 & \\
0 = \H_k\br{X_{k - 1}} \arrow{dr} & & \H_k\br{X_{k + 1}} \cong \H_k\br{X} \arrow{ur} & & \\
& \H_k\br{X_k} \arrow{ur} \arrow{dr}{\br{i_k}_*} & & & \\
\H_{k + 1}\br{X_{k + 1}, X_k} \arrow{ur}{\da_{k + 1}} \arrow{rr}[swap]{\da_{k + 1}^{\cell}} & & \H_k\br{X_k, X_{k - 1}} \arrow{rr}{\da_k^{\cell}} \arrow{dr}[swap]{\da_k} & & \H_{k - 1}\br{X_{k - 1}, X_{k - 2}} \\
& & & \H_{k - 1}\br{X_{k - 1}} \arrow{ur}[swap]{\br{i_{k - 1}}_*} & \\
& & 0 = \H_{k - 1}\br{X_{k - 2}} \arrow{ur} & &
\end{tikzcd},
$$
so
\begin{align*}
\H_k\br{X}
& \cong \H_k\br{X_{k + 1}}
\cong \H_k\br{X_k} / \im \da_{k + 1}
\cong \im \br{i_k}_* / \im \br{\br{i_k}_* \circ \da_{k + 1}} & \text{since} \ \br{i_k}_* \ \text{is injective} \\
& \cong \ker \da_k / \im \da_{k + 1}^{\cell}
\cong \ker \br{\br{i_{k - 1}}_* \circ \da_k} / \im \da_{k + 1}^{\cell} & \text{since} \ \br{i_{k - 1}}_* \ \text{is injective} \\
& = \ker \da_k^{\cell} / \im \da_{k + 1}^{\cell}
= \H_k^{\cell}\br{X}.
\end{align*}
\end{proof}

\begin{remark*}
If $ X $ and $ Y $ are cell complexes and $ f : X \to Y $ is a map, in general $ f $ does not induce maps $ \C_\bullet^{\cell}\br{X} \to \C_\bullet^{\cell}\br{Y} $. Ok if $ f $ is \textbf{cellular}, so $ f $ takes a $ k $-skeleton $ X_k $ into a $ k $-skeleton $ Y_k $, for all $ k $.
\end{remark*}

The following are immediate.

\begin{corollary}
Let $ X $ be a finite cell complex.
\begin{itemize}
\item $ \H_k\br{X} $ is a finitely generated abelian group of rank at most $ n_k $, the number of $ k $-cells.
\item If $ \H_k\br{X} \ne 0 $, every cell structure on $ X $ must have at least $ \rk \H_k\br{X} $ distinct $ k $-cells.
\item If $ X $ admits a cell structure with only even-dimensional cells, $ \H_\bullet\br{X} \cong \C_\bullet^{\cell}\br{X} $ for this cell structure.
\item $ \H_\bullet\br{X; \FF} $ is a finite-dimensional vector space over the field $ \FF $, such as $ \QQ $.
\end{itemize}
\end{corollary}

\begin{example*}
Let
\begin{align*}
\CC\PP^n
& = \cbr{\text{lines in} \ \CC^{n + 1}}
= \br{\CC^{n + 1} \setminus \cbr{0}} / \CC^*
= \S^{2n + 1} / \S^1 \\
& = \cbr{\sbr{z_0 : \dots : z_n} \st \br{z_0, \dots, z_n} \in \CC^{n + 1} \setminus \cbr{0}, \ \forall \lambda \in \CC^*, \ \br{z_0, \dots, z_n} \sim \br{\lambda z_0, \dots, \lambda z_n}} \\
& = \cbr{z_0 = 0} \cup \cbr{\sbr{1 : z_1 : \dots : z_n} \st \br{z_1, \dots, z_n} \in \CC^n}
\cong \CC\PP^{n - 1} \cup \CC^n,
\end{align*}
where $ \S^{2n + 1} \subseteq \CC^{n + 1} $ is the unit sphere and $ \S^1 : \br{z_1, \dots, z_{n + 1}} \mapsto \br{\lambda z, \dots, \lambda z_{n + 1}} $ for $ \lambda \in \S^1 $. The attaching map is
$$ \function{\S^{2n + 1}}{\CC\PP^n}{\br{z_1, \dots, z_{n + 1}}}{\sbr{z_1 : \dots : z_{n + 1}}}. $$
So, inductively in $ n $, $ \CC\PP^n $ has a cell structure with one $ 2n $-cell for all $ n $, so
$$ \H_\bullet\br{\CC\PP^n} \cong
\begin{cases}
\ZZ & \bullet = 0, 2, \dots, 2n - 2, 2n \\
0 & \text{otherwise}
\end{cases}.
$$
See example sheet $ 1 $.
\end{example*}

\pagebreak

\begin{remark*}
\textbf{Grassmannians}
$$ \Gr\br{k; \CC^n} = \cbr{\text{$ k $-dimensional linear subspaces of} \ \CC^n} $$
also have cell structures with only even-dimensional cells.
\end{remark*}

\begin{exercise*}
$ \RR\PP^n = \S^n \setminus \cbr{\pm 1} = \RR\PP^{n - 1} \cup \D^n $ has a cell structure with one cell in each degree $ 0 \le i \le n $.
\end{exercise*}

\subsection{Degrees}

How do we compute $ \da_n^{\cell} : \bigoplus_{\alpha \in I_n} \ZZ \to \bigoplus_{\beta \in I_{n - 1}} \ZZ $? That is, want values $ d_{\alpha\beta} \in \ZZ $ such that
$$ \da_n^{\cell}\br{e_\alpha^n} = \sum_\beta d_{\alpha\beta}e_\beta^{n - 1}. $$
Note we have an attaching map $ \phi_\alpha^n : \da\br{e_\alpha^n} = \S^{n - 1} \to X_{n - 1} $.

\begin{lemma}
$ d_{\alpha\beta} $ is the degree of
$$ f_{\alpha\beta} : \S_\alpha^{n - 1} \xrightarrow{\phi_\alpha^n} X_{n - 1} \twoheadrightarrow X_{n - 1} / X_{n - 2} \cong \bigvee_{I_{n - 1}} \S^{n - 1} \xrightarrow{\text{collapse}} \S_\beta^{n - 1}. $$
\end{lemma}

\begin{remark*}
For this degree to be well-defined, not just up to sign, need generators for $ \H_{n - 1}\br{\S_\alpha^{n - 1}} $ and $ \H_{n - 1}\br{\S_\beta^{n - 1}} $, such as identifying $ \S^{n - 1} = \da\D^n \subseteq \RR^n $.
\end{remark*}

\begin{proof}
By chasing,
$$
\begin{tikzcd}[column sep=small]
\H_n\br{\D_\alpha^n, \da\D_\alpha^n} \arrow{r}{\text{LES}}[swap]{\sim} \arrow{d}[swap]{\br{\phi_\alpha^n}_*} & \H_{n - 1}\br{\da\D_\alpha^n} \arrow{r}{\deg f_{\alpha\beta}} \arrow{d}{\br{\eval{\phi_\alpha^n}_{\da\D_\alpha}}_*} & \widetilde{\H_{n - 1}}\br{\S_\beta^{n - 1}} \\
\H_n\br{X_n, X_{n - 1}} \arrow{r}{\da_n} \arrow{dr}[swap]{\da_n^{\cell}} & \H_{n - 1}\br{X_{n - 1}} \arrow{d}{\br{i_{n - 1}}_*} & \widetilde{\H_{n - 1}}\br{\bigvee_\gamma \S_\gamma^{n - 1}} \arrow{u}[swap]{\text{collapse}} \arrow[cong]{d} \\
& \H_{n - 1}\br{X_{n - 1}, X_{n - 2}} \arrow{r}{\sim}[swap]{\text{Excision}} & \widetilde{\H_{n - 1}}\br{X_{n - 1} / X_{n - 2}}
\end{tikzcd},
\qquad
\begin{tikzcd}[column sep=small]
1 \arrow{r} \arrow{d} & 1 \arrow{r} & d_{\alpha\beta} \\
e_\alpha \arrow{dr} & & \\
& \sum_\gamma d_{\alpha\gamma}e_\gamma \arrow{r} & \sum_\gamma d_{\alpha\gamma}e_\gamma \arrow{uu}
\end{tikzcd},
$$
so $ d_{\alpha\beta} = \deg f_{\alpha\beta} $ as claimed.
\end{proof}

For this to be useful, we need to be able to compute degrees. Let $ f : \S^n \to \S^n $. Assume that there exists $ y \in \S^n $ such that $ f^{-1}\br{y} = \cbr{x_1, \dots, x_m} $ is finite. Pick neighbourhoods $ x_i \in U_i $ and $ y \in V $ homeomorphic to $ \RR^n $ such that $ U_i \cap U_j = \emptyset $ if $ i \ne j $ and $ \eval{f}_{U_i} : U_i \to V \subseteq \S^n $.

\begin{definition*}
The \textbf{local degree} is
$$ \deg_{x_i} f = \H_n\br{U_i, U_i \setminus \cbr{x_i}} \cong \ZZ \to \H_n\br{V, V \setminus \cbr{y}} \cong \ZZ. $$
\end{definition*}

Note that by excision and the long exact sequence,
$$ \H_n\br{U_i, U_i \setminus \cbr{x_i}} \cong \H_n\br{\S^n, \S^n \setminus \cbr{x_i}} \cong \H_n\br{\S^n} \cong \ZZ. $$
By fixing this, $ \deg_{x_i} f $ is well-defined.

\begin{lemma}
Under the assumption,
$$ \deg f = \sum_{i = 1}^m \deg_{x_i} f. $$
\end{lemma}

\begin{remark*}
If $ f : \S^n \to \S^n $ is smooth, then $ f^{-1}\br{y} $ is finite if $ y $ is a regular value for $ f $, and by Sard's theorem, almost all values, in particular a dense set, are regular.
\end{remark*}

\pagebreak

\begin{proof}
$$
\begin{tikzcd}[column sep=small]
\H_n\br{\S^n} \arrow{r}{\deg f} \arrow{d}{\sim}[swap]{\text{LES}} & \H_n\br{\S^n} \arrow{d}{\text{LES}}[swap]{\sim} \\
\H_n\br{\S^n, \S^n \setminus \cbr{x_1, \dots, x_m}} \arrow{r}{f_*} & \H_n\br{\S^n, \S^n \setminus \cbr{y}} \\
\H_n\br{\bigsqcup_i U_i, \bigsqcup_i U_i \setminus \cbr{x_i}} \cong \bigoplus_{i = 1}^m \H_n\br{U_i, U_i \setminus \cbr{x_i}} \arrow{u}{\text{Excision}}[swap]{\sim} \arrow{r}{\br{\eval{f}_{U_i}}_*} & \H_n\br{V, V \setminus \cbr{y}} \arrow{u}{\sim}[swap]{\text{Excision}}
\end{tikzcd},
\qquad
\begin{tikzcd}[column sep=small]
1 \arrow{r} \arrow{dd} & \deg f \arrow{dd} \\
& \\
\br{1, \dots, 1} \arrow{r} & \sum_i \deg_{x_i} f
\end{tikzcd},
$$
which implies the result.
\end{proof}

\begin{example*}
Let $ p\br{z} = z^k + a_{k - 1}z^{k - 1} + \dots + a_0 $ be a complex polynomial. Then $ p $ extends to a map $ \widehat{p} : \CC \cup \cbr{\infty} = \S^2 \to \S^2 $ of degree $ \deg \widehat{p} = k $. As in lecture $ 1 $, show $ \widehat{p} \simeq \br{q : z \mapsto z^k} $. Now $ q^{-1}\br{1} = \cbr{\zeta_1, \dots, \zeta_k} $ and near each $ \zeta_i $, $ q $ is a local homeomorphism. And the different local homeomorphisms differ by rotation, so the local degrees at $ \zeta_i $ are all equal.
\end{example*}

\begin{exercise*}
The Klein bottle $ K $ has
$$
\begin{tikzcd}[row sep=tiny]
0 \arrow{r} & \C_2^{\cell}\br{K} \arrow{r} \arrow[cong]{d} & \C_1^{\cell}\br{K} \arrow{r} \arrow[cong]{d} & \C_0^{\cell}\br{K} \arrow{r} \arrow[cong]{d} & 0 \\
& \ZZ \arrow[dashed]{r}[swap]{1 \mapsto \br{0, 2}} & \ZZ \oplus \ZZ \arrow[dashed]{r}[swap]{0} & \ZZ &
\end{tikzcd},
$$
so $ \H_1\br{K; \ZZ} \cong \ZZ \oplus \ZZ / 2 $ and $ \H_2\br{K; \ZZ} = 0 $, again.
\end{exercise*}

\begin{example*}
The real projective space $ \RR\PP^n = \D^n \cup \RR\PP^{n - 1} = \D^n \cup \dots \cup \D^1 \cup \pt $ has one cell of each degree $ 0 \le i \le n $, so
$$
\begin{tikzcd}[row sep=tiny]
0 \arrow{r} & \C_n^{\cell}\br{\RR\PP^n} \arrow{r} \arrow[cong]{d} & \dots \arrow{r} & \C_0^{\cell}\br{\RR\PP^n} \arrow{r} \arrow[cong]{d} & 0 \\
& \ZZ \arrow[dashed]{r} & \dots \arrow[dashed]{r} & \ZZ &
\end{tikzcd}.
$$
Then
$$ \eta : \da\D^k \xrightarrow{\phi} \RR\PP^{k - 1} \twoheadrightarrow \RR\PP^{k - 1} / \RR\PP^{k - 2} \cong \S^{k - 1} $$
is two-to-one and the local maps differ by the antipodal map, so $ \da_k^{\cell} = 1 + \br{-1}^k $. Thus
$$ \C_\bullet^{\cell}\br{\RR\PP^n} =
\begin{cases}
\ZZ \xrightarrow{2} \ZZ \xrightarrow{0} \ZZ \to \dots \to \ZZ \xrightarrow{2} \ZZ \xrightarrow{0} \ZZ & n \ \text{even} \\
\ZZ \xrightarrow{0} \ZZ \xrightarrow{2} \ZZ \to \dots \to \ZZ \xrightarrow{0} \ZZ \xrightarrow{2} \ZZ & n \ \text{odd}
\end{cases},
$$
so
$$ \H_\bullet\br{\RR\PP^n; \ZZ} =
\begin{cases}
\ZZ & \bullet = 0 \\
\ZZ / 2 & 0 < \bullet < n, \ \bullet \ \text{odd} \\
\ZZ & \bullet = n, \ n \ \text{odd} \\
0 & \text{otherwise}
\end{cases}.
$$
\end{example*}

\begin{exercise*}
Let $ \Sigma_g $ be a $ 4g $-gon with edge identifications $ a_1b_1a_1^{-1}b_1^{-1} \dots a_gb_ga_g^{-1}b_g^{-1} $. Then
$$
\begin{tikzcd}[row sep=tiny]
0 \arrow{r} & \C_2^{\cell}\br{\Sigma_g} \arrow{r} \arrow[cong]{d} & \C_1^{\cell}\br{\Sigma_g} \arrow{r} \arrow[cong]{d} & \C_0^{\cell}\br{\Sigma_g} \arrow{r} \arrow[cong]{d} & 0 \\
& \ZZ \arrow[dashed]{r}[swap]{0} & \ZZ^{2g} \arrow[dashed]{r}[swap]{0} & \ZZ &
\end{tikzcd},
$$
which vanishes as for Klein and as $ \H_0\br{\Sigma_g} = \ZZ $.
\end{exercise*}

\subsection{Cellular cohomology}

\lecture{10}{Friday}{30/10/20}

There is also \textbf{cellular cohomology}
$$ \C_{\cell}^i\br{X} = \H^i\br{X_i, X_{i - 1}}, \qquad \da_{\cell}^* : \H^i\br{X_i, X_{i - 1}} \to \H^{i + 1}\br{X_{i + 1}, X_i}, $$
and $ \H_{\cell}^\bullet\br{X} \cong \H^\bullet\br{X} $ by the exactly analogous argument as for homology.

\pagebreak

\begin{lemma}
$ \C_{\cell}^\bullet\br{X} = \Hom\br{\C_\bullet^{\cell}\br{X}, \ZZ} $ and $ \da_{\cell}^* $ is the adjoint of $ \da^{\cell} $.
\end{lemma}

See question sheet $ 2 $ for related results, in particular the existence of the $ h $-maps.

\begin{proof}
If $ \br{\cdot}^\vee $ is the linear dual, then
$$
\begin{tikzcd}
\H^i\br{X_i, X_{i - 1}} \arrow{r}{i^*} \arrow[bend left=15, dashed]{rr}{\da_{\cell}^*} \arrow{d}{h}[swap]{\sim} & \H^i\br{X_i} \arrow{r}{\da^*} \arrow{d}{h} & \H^{i + 1}\br{X_{i + 1}, X_i} \arrow{d}{h}[swap]{\sim} \\
\Hom\br{\H_i\br{X_i, X_{i - 1}}, \ZZ} \arrow{r}[swap]{i_*^\vee} \arrow[bend right=15, dashed]{rr}[swap]{\da_{\cell}^\vee} & \Hom\br{\H_i\br{X_i}, \ZZ} \arrow{r}[swap]{\da^\vee} & \Hom\br{\H_{i + 1}\br{X_{i + 1}, X_i}, \ZZ}
\end{tikzcd}.
$$
A direct check shows the outer $ h $ maps are isomorphisms, so just need the diagram to commute. The left hand square commutes by naturality of $ h $ and the right hand square commutes by naturality of homology and cohomology long exact sequences.
\end{proof}

\begin{proposition}
Let $ X $ be a finite cell complex. Then
$$ \H^i\br{X; \ZZ} \cong \br{\H_i\br{X; \ZZ} / \tors} \oplus \tors \H_{i - 1}\br{X; \ZZ}. $$
\end{proposition}

Note that for an abelian group $ G $,
$$ \tors G = \cbr{\text{elements of finite order}} = \cbr{\text{all $ \ZZ / k $-summands} \st k \ge 2} \le G. $$

\begin{proof}
This is now just algebra. Let $ C_\bullet $ be a chain complex of free finitely generated abelian groups, and $ C^\bullet = \Hom\br{C_\bullet, \ZZ} $ the dual complex. Then
$$ \H^i\br{C^\bullet} = \br{\H_i\br{C_\bullet} / \tors} \oplus \tors \H_{i - 1}\br{C_\bullet}. $$
The key idea is to break $ C_\bullet $ into a collection of short exact sequences
$$ 0 \to Z_n \to C_n \to B_{n - 1} \to 0, \qquad 0 \to B_n \to Z_n \to \H_n\br{C_\bullet} \to 0, $$
where $ Z_i = \ker \br{\da_i : C_i \to C_{i - 1}} $ and $ B_i = \im \br{\da_{i + 1} : C_{i + 1} \to C_i} $. In the former sequence, all the terms are free finitely generated abelian groups, so we can non-canonically split these and write $ C_n \cong Z_n \oplus B_{n - 1} $ for all $ n $, so there exists $ \alpha_n : B_{n - 1} \to C_n $ such that $ \da_n \circ \alpha_n = \id $. Then $ C_\bullet $ becomes
\begin{equation}
\label{eq:2}
\dots \to Z_{n + 1} \oplus B_n \xrightarrow{B_n \to Z_n} Z_n \oplus B_{n - 1} \xrightarrow{B_{n - 1} \to Z_{n - 1}} Z_{n - 1} \oplus B_{n - 2} \to \dots,
\end{equation}
that is $ C_\bullet $ breaks into a sum of complexes of the form
$$ 0 \to B_n \xrightarrow{A_n} Z_n \to 0. $$
By the Smith normal form, there exists a $ \ZZ $-linear change of basis such that $ A_n $ has matrix
$$
\begin{pmatrix}
d_1 & & & & & \\
& \ddots & & & & \\
& & d_k & & & \\
& & & 0 & & \\
& & & & \ddots & \\
& & & & & 0
\end{pmatrix},
\qquad
\begin{cases}
d_1 \mid d_2 \\
\vdots \\
d_{k - 1} \mid d_k
\end{cases},
$$
so $ \br{\ref{eq:2}} $ breaks into a direct sum of complexes of the form
$$ 0 \to \ZZ \xrightarrow{0} \ZZ \to 0, \qquad 0 \to \ZZ \xrightarrow{d_i} \ZZ \to 0. $$
Now the relation $ \H^i\br{C^\bullet} = \br{\H_i\br{C_\bullet} / \tors} \oplus \tors \H_{i - 1}\br{C_\bullet} $ is obvious, by just checking in these two examples.
\end{proof}

\pagebreak

\begin{remark*}
For abelian groups $ H $ and $ G $ set
$$ \Ext^1\br{H, G} = \cbr{\text{short exact sequences} \ 0 \to G \to J \to H \to 0} / \sim, $$
where two are equivalent if the obvious thing happens. That is, there exists $ \phi $ making the diagram
$$
\begin{tikzcd}
0 \arrow{r} & G \arrow{r} \arrow[cong]{d} & J_1 \arrow{r} \arrow[dashed]{d}{\exists \phi} & H \arrow{r} \arrow[cong]{d} & 0 \\
0 \arrow{r} & G \arrow{r} & J_2 \arrow{r} & H \arrow{r} & 0
\end{tikzcd}
$$
commute, so $ \phi $ is an isomorphism by the $ 5 $-lemma. The \textbf{universal coefficient theorem} says there are split exact sequences
$$ 0 \to \Ext^1\br{\H_{n - 1}\br{X; \ZZ}, G} \to \H^n\br{X; G} \to \Hom\br{\H_n\br{X; \ZZ}, G} \to 0. $$
We will not prove this.
\end{remark*}

\subsection{Euler characteristic}

Recall that if $ X $ is a finite cell complex, we saw $ \H_i\br{X} $ is finitely generated for all $ i $, and $ \H_i\br{X} = 0 $ if $ i > \dim X $. So $ \bigoplus_i \H_i\br{X; \QQ} $ is a finite-dimensional graded $ \QQ $-vector space.

\begin{definition*}
The \textbf{Euler characteristic} of a finite cell complex $ X $ is
$$ \chi\br{X} = \sum_{k \ge 0} \br{-1}^k\rk_\ZZ \H_k\br{X; \ZZ}. $$
\end{definition*}

\begin{lemma}
$$ \chi\br{X} = \sum_{k \ge 0} \br{-1}^kN_k, $$
where $ N_k $ is the number of $ k $-cells in $ X $.
\end{lemma}

\begin{proof}
$ N_k $ is the rank of $ \C_k^{\cell}\br{X} $ and we just observed we have short exact sequences
$$ 0 \to B_k \to Z_k \to \H_k\br{X} \to 0, \qquad 0 \to Z_k \to C_k \to B_{k - 1} \to 0. $$
Then
$$ \rk \H_k\br{X} = \rk Z_k - \rk B_k = z_k - b_k, \qquad \rk C_k = \rk Z_k + \rk B_{k - 1} = z_k + b_{k - 1}, $$
so
\begin{align*}
\sum_{k \ge 0} \br{-1}^k\rk_\ZZ \H_k\br{X; \ZZ}
& = \sum_{k \ge 0} \br{-1}^k\br{z_k - b_k}
= \sum_{k \ge 1} \br{-1}^k\br{z_k - \br{N_{k + 1} - z_{k + 1}}} \\
& = \sum_{k \ge 0} \br{-1}^kN_{k + 1} + z_0
= \sum_{k \ge 0} \br{-1}^kN_k.
\end{align*}
\end{proof}

\begin{remark*}
If $ \FF $ is a field,
$$ \chi\br{X} = \sum_{k \ge 0} \br{-1}^k\dim_\FF \H_k\br{X; \FF}. $$
\end{remark*}

\begin{example*}
\hfill
\begin{itemize}
\item $ \S^4 \ncong \CC\PP^2 $ as $ \chi\br{\S^4} = 2 $ and $ \chi\br{\CC\PP^2} = 3 $, since $ \S^4 $ has one $ 0 $-cell and one $ 4 $-cell and $ \CC\PP^2 $ has one $ 4 $-cell, one $ 2 $-cell, and one $ 0 $-cell.
\item $ \chi\br{\Sigma_g} = 2 - 2g $, since $ \Sigma_g $ has one $ 0 $-cell, $ 2g $ distinct $ 1 $-cells, and one $ 2 $-cell.
\item If $ A $ and $ B $ are finite cell complexes, then $ A \times B $ has a product cell structure such that the open $ i $-cells are of the form $ \br{\text{$ j $-cell in} \ A} \times \br{\text{$ \br{i - j} $-cell in} \ B} $, so $ \chi\br{A \times B} = \chi\br{A}\chi\br{B} $.
\item If $ X = A \cup B $ is a union of two subcomplexes, then $ \chi\br{X} = \chi\br{A} + \chi\br{B} - \chi\br{A \cap B} $.
\end{itemize}
\end{example*}

\pagebreak

\section{Generalised homology theories}

\subsection{Eilenberg-Steenrod axioms}

\lecture{11}{Monday}{02/11/20}

\begin{definition*}
An assignment $ \br{X, A} \mapsto h_\bullet\br{X, A} = \bigoplus_{i \in \ZZ} h_i\br{X, A} $ of graded abelian groups to pairs of topological spaces and subspaces is called a \textbf{generalised homology theory} if it satisfies the following.
\begin{itemize}
\item Functoriality. A map $ f : \br{X, A} \to \br{Y, B} $ induces a degree-preserving homomorphism
$$ f_* : h_\bullet\br{X, A} \to h_\bullet\br{Y, B}, $$
such that $ \id_* = \id $ and $ \br{f \circ g}_* = f_* \circ g_* $.
\item Homotopy invariance. If $ f \simeq g $, through maps of pairs, then $ f_* = g_* $.
\item Long exact sequence. If $ h_i\br{X} = h_i\br{X, \emptyset} $, then there exists $ \da : h_i\br{X, A} \to h_{i - 1}\br{A} $ such that
$$ \dots \to h_i\br{A} \xrightarrow{\iota_*} h_i\br{X} \xrightarrow{\iota_*} h_i\br{X, A} \xrightarrow{\da} h_{i - 1}\br{A} \to \dots $$
is exact and natural.
\item Excision. If $ \overline{Z} \subseteq \mathring{A} $, then
$$ \iota_* : h_\bullet\br{X \setminus Z, A \setminus Z} \xrightarrow{\sim} h_\bullet\br{X, A}. $$
\item Unions. If $ X = \bigsqcup_\alpha X_\alpha $, then
$$ \bigoplus \br{\iota_\alpha}_* : \bigoplus_\alpha h_\bullet\br{X_\alpha} \xrightarrow{\sim} h_\bullet\br{\bigsqcup_\alpha X_\alpha}. $$
\end{itemize}
These axioms are usually called the \textbf{Eilenberg-Steenrod axioms}.
\end{definition*}

One sometimes restricts attention to pairs $ \br{X, A} $ which are not too pathological, so for example components and path-components agree. The axioms let us formalise the idea that homology of cell complexes is quite constrained or computable.

\begin{definition*}
If $ h_\bullet $ and $ k_\bullet $ are generalised homotopy theories, a \textbf{natural transformation} $ \Phi : h_\bullet \to k_\bullet $ comprises homomorphisms $ \Phi_{X, A} : h_\bullet\br{X, A} \to k_\bullet\br{X, A} $ for all $ \br{X, A} $, which are compatible with all the structure.
\end{definition*}

\begin{example*}
If $ f : \br{X, A} \to \br{Y, B} $ then
$$
\begin{tikzcd}
h_\bullet\br{X, A} \arrow{r}{f_*} \arrow{d}[swap]{\Phi_{X, A}} & h_\bullet\br{Y, B} \arrow{d}{\Phi_{Y, B}} \\
k_\bullet\br{X, A} \arrow{r}[swap]{f_*} & k_\bullet\br{Y, B}
\end{tikzcd}
$$
commutes, and similarly for maps of long exact sequence of pairs and excision or union isomorphisms.
\end{example*}

\subsection{Cellular example}

\begin{proposition}
Let $ h_\bullet $ and $ k_\bullet $ be generalised homology theories defined on the class of pairs $ \br{X, A} $ where $ X $ is homotopy equivalent to a cell complex and $ A \subseteq X $ to a subcomplex. Suppose $ \Phi : h_\bullet \to k_\bullet $ is a natural transformation. If $ \Phi : h_\bullet\br{\pt} \xrightarrow{\sim} k_\bullet\br{\pt} $ is an isomorphism for $ X = \pt $, and $ A = \emptyset $, then $ \Phi_{\br{X, A}} : h_\bullet\br{X, A} \xrightarrow{\sim} k_\bullet\br{X, A} $ for all finite-dimensional $ \br{X, A} $ in this class.
\end{proposition}

Then $ h_\bullet\br{\pt} $ is called the \textbf{coefficient} of the generalised homology theory.

\begin{notation*}
Call this class of $ \br{X, A} $ the \textbf{cellular pairs}.
\end{notation*}

\pagebreak

\begin{proof}
Induct on $ \dim X $. If $ \dim X = 0 $, then $ X = \cbr{\text{discrete set}} = X_0 $, so the result follows from unions. So inductively suppose $ \Phi_{\br{X, A}} $ is an isomorphism whenever $ \dim X \le n - 1 $, and suppose $ X = X_n $ is $ n $-dimensional. Consider
$$
\begin{tikzcd}[column sep=small]
\dots \arrow{r} & h_{i + 1}\br{X, X_{n - 1}} \arrow{r} \arrow{d}{\Phi} & h_i\br{X_{n - 1}} \arrow{r} \arrow{d}{\Phi}[swap]{\sim} & h_i\br{X} \arrow{r} \arrow{d}{\Phi} & h_i\br{X, X_{n - 1}} \arrow{r} \arrow{d}{\Phi} & h_{i - 1}\br{X_{n - 1}} \arrow{r} \arrow{d}{\Phi}[swap]{\sim} & \dots \\
\dots \arrow{r} & k_{i + 1}\br{X, X_{n - 1}} \arrow{r} & k_i\br{X_{n - 1}} \arrow{r} & k_i\br{X} \arrow{r} & k_i\br{X, X_{n - 1}} \arrow{r} & k_{i - 1}\br{X_{n - 1}} \arrow{r} & \dots
\end{tikzcd}.
$$
By the $ 5 $-lemma, if $ \Phi_{\br{X, X_{n - 1}}} $ is an isomorphism for all $ i $, then $ \Phi_{\br{X, \emptyset}} $ is an isomorphism for all $ i $. Apply excision, by replacing $ X_{n - 1} $ by a neighbourhood $ \N_\epsilon\br{X_{n - 1}} $ which does not change $ h_\bullet\br{X, A} $ by homotopy invariance then excise $ X_{n - 1} $, to show
$$ h_\bullet\br{X, X_{n - 1}} = h_\bullet\br{X_n, X_{n - 1}} \cong h_\bullet\br{\bigsqcup_\alpha \D_\alpha^n, \bigsqcup_\alpha \da\D_\alpha^n}, $$
where the union is over $ n $-cells. By unions,
$$ h_\bullet\br{\bigsqcup_\alpha \D_\alpha^n, \bigsqcup_\alpha \da\D_\alpha^n} \cong \bigoplus_\alpha h_\bullet\br{\D_\alpha^n, \da\D_\alpha^n}, $$
and similarly for $ k_\bullet $, so it suffices to prove $ \Phi_{\br{\D_\alpha^n, \da\D_\alpha^n}} $ is an isomorphism. But now
$$
\begin{tikzcd}[column sep=small]
\dots \arrow{r} & h_i\br{\da\D^n} \arrow{r} \arrow{d}{\text{Induction}}[swap]{\sim} & h_i\br{\D^n} \arrow{r} \arrow{d}{\text{Homotopy}}[swap]{\sim} & h_i\br{\D^n, \da\D^n} \arrow{r} \arrow{d}{\phi} & h_{i - 1}\br{\da\D^n} \arrow{r} \arrow{d}{\text{Induction}}[swap]{\sim} & h_{i - 1}\br{\D^n} \arrow{r} \arrow{d}{\text{Homotopy}}[swap]{\sim} & \dots \\
\dots \arrow{r} & k_i\br{\da\D^n} \arrow{r} & k_i\br{\D^n} \arrow{r} & k_i\br{\D^n, \da\D^n} \arrow{r} & k_{i - 1}\br{\da\D^n} \arrow{r} & k_{i - 1}\br{\D^n} \arrow{r} & \dots
\end{tikzcd},
$$
so by the $ 5 $-lemma, $ \phi $ is an isomorphism as required. Inductively this shows $ \Phi_{\br{X, \emptyset}} $ if $ \dim X = n $, and then the $ 5 $-lemma and the long exact sequence shows $ \Phi_{\br{X, A}} $ is an isomorphism if $ \dim X = n $. So we are done for finite-dimensional cellular pairs.
\end{proof}

The result also holds for infinite-dimensional cellular pairs, but we will not need this.

\begin{example*}
Note that for $ h_\bullet\br{X, A} = \H_\bullet\br{X, A} $ we know $ \H_i\br{X_k} \to \H_i\br{X} $ is onto once $ k > i $, so easy to reduce to the finite-dimensional case.
\end{example*}

A warning is that the axioms do not determine $ h_\bullet\br{X, A} $ from $ h_\bullet\br{\pt} $ formally, and it is rather that naturally related theories have the same indeterminacy.

\subsection{Generalisations}

\begin{remark*}
A \textbf{generalised cohomology theory} $ \br{X, A} \mapsto h^\bullet\br{X, A} $ is similar, and has
\begin{itemize}
\item contravariant functoriality, so $ f : \br{X, A} \to \br{Y, B} $ induces
$$ f^* : h^\bullet\br{Y, B} \to h^\bullet\br{X, A}, $$
\item homotopy invariance,
\item long exact sequence
$$ \dots \to h^\bullet\br{X, A} \to h^\bullet\br{X} \to h^\bullet\br{A} \xrightarrow{\da} h^{\bullet + 1}\br{X, A} \to \dots, $$
\item excision, and
\item unions, which is a direct product
$$ h^\bullet\br{\bigsqcup_\alpha X_\alpha} \cong \prod_\alpha h^\bullet\br{X_\alpha}. $$
\end{itemize}
\end{remark*}

\pagebreak

\begin{remark*}
There are uninterestingly different generalised homology theories, such as $ \br{X, A} \mapsto \H_\bullet\br{X, A} \otimes_\ZZ R $ for your favourite graded group $ R $, but interestingly different ones are not obtained from chain complexes.
\begin{itemize}
\item In lecture $ 1 $ we briefly mentioned homotopy groups $ \pi_i\br{X} $. If
$$ \Sigma X = \br{X \times \sbr{0, 1}} / \cbr{\br{x, 0} \sim \pt, \ \br{x, 1} \sim \pt \st x \in X} $$
is the \textbf{suspension}, then there exist maps
$$ \pi_i\br{X} \to \pi_{i + 1}\br{\Sigma X} \to \dots, $$
and these eventually become isomorphisms, so the \textbf{stable homotopy group} is
$$ \pi_i^{\s\t} = \lim_k \pi_{i + k}\br{\Sigma^kX}. $$
Then $ \pi_\bullet^{\s\t}\br{\pt} $ is unknown, and determining it is one of the major open problems of mathematics.
\item In $ \K $-theory, $ \K_\bullet\br{X} $ is another generalised homology theory, built out of vector bundles, which we will discuss. Probably developed in the homotopy theory course.
\end{itemize}
\end{remark*}

\begin{remark*}
Different generalised homology theories do not come from chain complexes, but the existence of different chain complexes is still deep and important.
\begin{itemize}
\item \textbf{$\check{\mathbf{C}}$ech cochains}. Fix a cover $ \UUU = \cbr{U_\alpha \st \alpha \in A} $ of a space $ X $. Let
$$ S_k = \cbr{\br{a_0, \dots, a_k} \in A^{k + 1} \st U_{a_0} \cap \dots \cap U_{a_k} \ne \emptyset}, $$
let $ \vC^k\br{X, \UUU} $ be the maps from $ S_k $ to $ \ZZ $, and let
$$ \function[\da]{\vC^k\br{X, \UUU}}{\vC^{k + 1}\br{X, \UUU}}{\psi}{\br{\br{a_0, \dots, a_{k + 1}} \mapsto \sum_{i = 0}^{k + 1} \psi\br{a_0, \dots, \widehat{a_i}, \dots, a_{k + 1}}}}. $$
Then $ \da^2 = 0 $, by the same proof as singular cohomology, which gives $ \vH^\bullet\br{X, \UUU} $. Now set
$$ \vH^\bullet\br{X} = \lim_U \vH^\bullet\br{X, \UUU}, $$
the limit over finer and finer covers.
\item \textbf{Morse cochains}. Take $ M $ a compact $ \C^\infty $-manifold and $ f : M \to \RR $ smooth with non-degenerate critical points, so if $ \eval{\d f}_x = 0 $, then $ \eval{\d^2f}_x $ is non-degenerate. The index of $ x $ is the number of negative eigenvalues of $ \eval{\d^2f}_x $. Let
$$ \C_{\Morse}^k\br{f} = \bigoplus_{x \ \text{critical in} \ f \ \text{of index} \ k} \ZZ. $$
There exists $ \da_{\Morse} $, counting flow lines $ \dot{\gamma} = -\nabla f \circ \gamma $ for $ \gamma : \RR \to M $, such that $ \H_{\Morse}^\bullet\br{f} \cong \H^\bullet\br{M} $.
\end{itemize}
\end{remark*}

\pagebreak

\section{Cup-products}

\lecture{12}{Wednesday}{04/11/20}

Up to now we developed homology and cohomology in parallel, and we will use Mayer-Vietoris, excision, etc freely for cohomology too. But there is a key difference, which will in some sense dominate the rest of the course. Cohomology is a ring.

\subsection{The cohomology ring}

\begin{definition*}
If $ \phi \in \C^k\br{X} $ and $ \psi \in \C^l\br{X} $, their \textbf{cup-product} $ \phi \cup \psi \in \C^{k + l}\br{X} $ is defined by
$$ \br{\phi \cup \psi}\br{\sbr{v_0, \dots, v_{k + l}}} = \phi\br{\sbr{v_0, \dots, v_k}}\psi\br{\sbr{v_k, \dots, v_l}}, $$
so feed the front face of the simplex to $ \phi $ and the back face to $ \psi $.
\end{definition*}

\begin{notation*}
We will typically just write $ \phi \cdot \psi $ rather than $ \phi \cup \psi $, but still call it cup-product.
\end{notation*}

\begin{lemma}
If $ \da^* : \C^\bullet\br{X} \to \C^{\bullet + 1}\br{X} $ is the coboundary operator in $ \C^\bullet\br{X} $, then
$$ \da^*\br{\phi \cdot \psi} = \br{\da^*\phi} \cdot \psi + \br{-1}^k\phi \cdot \br{\da^*\psi}, \qquad \phi \in \C^k\br{X}, \qquad \psi \in \C^l\br{X}. $$
\end{lemma}

Note that sometimes write
$$ \da^*\br{\phi \cdot \psi} = \br{\da^*\phi} \cdot \psi + \br{-1}^{\abs{\phi}}\phi \cdot \br{\da^*\psi}, $$
where $ \abs{\phi} $ is the degree of $ \phi $, assumed homogeneous.

\begin{proof}
Note that
\begin{equation}
\label{eq:3}
\br{\br{\da^*\phi} \cdot \psi}\br{\sbr{v_0, \dots, v_{k + l + 1}}} = \sum_{i = 0}^{k + 1} \br{-1}^i\phi\br{\sbr{v_0, \dots, \widehat{v_i}, \dots, v_{k + 1}}}\psi\br{\sbr{v_{k + 1}, \dots, v_{k + l + 1}}},
\end{equation}
\begin{equation}
\label{eq:4}
\br{\br{-1}^k\phi \cdot \br{\da^*\psi}}\br{\sbr{v_0, \dots, v_{k + l + 1}}} = \phi\br{\sbr{v_0, \dots, v_k}}\sum_{i = k}^{k + l + 1} \br{-1}^i\phi\br{\sbr{v_k, \dots, \widehat{v_i}, \dots, v_{k + l + 1}}},
\end{equation}
where $ \br{-1}^k $ on the left hand side is absorbed here. The last term of $ \br{\ref{eq:3}} $ and the first term of $ \br{\ref{eq:4}} $ cancel, since one has $ \br{-1}^{k + 1} $ and one $ \br{-1}^k $. The remaining terms give
$$ \br{\phi \cdot \psi}\br{\sum_{i = 0}^{k + l + 1} \br{-1}^i\sbr{v_0, \dots, \widehat{v_i}, \dots, v_{k + l + 1}}} = \br{\da^*\br{\phi \cdot \psi}}\br{\sbr{v_0, \dots, v_{k + l + 1}}}. $$
\end{proof}

\begin{corollary}
Cup-product descends to cohomology, that is it induces
\begin{equation}
\label{eq:5}
\H^k\br{X} \times \H^l\br{X} \to \H^{k + l}\br{X}.
\end{equation}
This makes $ \H^\bullet\br{X} $ a graded unital ring.
\end{corollary}

\begin{proof}
Let $ \phi \in \C^k\br{X} $ and $ \psi \in \C^l\br{X} $ be closed. Then $ \da^*\br{\phi \cdot \psi} = \br{\da^*\phi} \cdot \psi + \br{-1}^k\phi \cdot \br{\da^*\psi} = 0 $, so set $ \sbr{\phi} \cup \sbr{\psi} = \sbr{\phi \cup \psi} $, an element of $ \H^{k + l}\br{X} $. If we change $ \phi $ to $ \phi + \da^*\alpha $ for $ \alpha \in \C^{k - 1}\br{X} $, then $ \br{\phi + \da^*\alpha} \cdot \psi = \phi \cdot \psi + \br{\da^*\alpha} \cdot \psi = \phi \cdot \psi + \da^*\br{\alpha \cdot \psi} $, using $ \da^*\psi = 0 $, so $ \sbr{\phi \cdot \psi} $ does not depend on the choice of cocycle representative for $ \sbr{\phi} $, and changing the representative for $ \sbr{\psi} $ is similar. So $ \br{\ref{eq:5}} $ is well-defined, on cohomology. Let $ 1 \in \C^0\br{X} $ which is defined by $ 1\br{p} = 1 \in \ZZ $ for all $ p \in X $, the generators of $ \C_0\br{X} $. Then $ \br{\da^*1}\br{\sbr{v_0, v_1}} = 1\br{v_0} - 1\br{v_1} = 0 $, so $ \da^*1 = 0 $. Thus $ \sbr{1} \in \H^0\br{X} $, and
$$ \br{\phi \cdot 1}\br{\sbr{v_0, \dots, v_k}} = \phi\br{\sbr{v_0, \dots, v_k}} \cdot 1\br{v_k} = \phi\br{\sbr{v_0, \dots, v_k}}, $$
$$ \br{1 \cdot \psi}\br{\sbr{v_0, \dots, v_l}} = 1\br{v_0} \cdot \psi\br{\sbr{v_0, \dots, v_l}} = \psi\br{\sbr{v_0, \dots, v_l}}, $$
so $ \sbr{1} $ is a unit.
\end{proof}

\pagebreak

Recall that for an abelian group $ G $,
$$ \C_j\br{X; G} = \C_j\br{X; \ZZ} \otimes G = \cbr{\sum_i a_i\sigma_i \st a_i \in G, \ \sigma_i : \Delta^j \to X}, \qquad \C^j\br{X; G} = \Hom_\ZZ\br{\C_j\br{X; \ZZ}, G}, $$
so $ \C^\bullet\br{X; R} $ is a ring whenever the coefficient group $ G = R $ is a ring. Then $ \H^\bullet\br{X; R} $ is a ring if $ R $ is a ring and unital if $ R $ is unital.

\begin{proposition}
\hfill
\begin{itemize}
\item Cup-product is associative, at the chain level, and so on cohomology, so
$$ \phi \cdot \br{\psi \cdot \tau} = \br{\phi \cdot \psi} \cdot \tau \in \C^{k + l + r}\br{X}, \qquad \phi \in \C^k\br{X}, \qquad \psi \in \C^l\br{X}, \qquad \tau \in \C^r\br{X}. $$
\item If $ f : X \to Y $, then $ f^\# : \C^\bullet\br{Y} \to \C^\bullet\br{X} $ satisfies
$$ f^\#\br{\phi \cdot \psi} = \br{f^\#\phi} \cdot \br{f^\#\psi}, $$
which is immediate from the definitions, so $ f^* : \H^\bullet\br{Y} \to \H^\bullet\br{X} $ is a unital ring homomorphism.
\item \textbf{Cross-product} is
$$ \function[\times]{\H^i\br{Y} \times \H^j\br{Z}}{\H^{i + j}\br{Y \times Z}}{\br{\phi, \psi}}{\p_Y^*\phi \cup \p_Z^*\psi}, \qquad Y \xleftarrow{\p_Y} Y \times Z \xrightarrow{\p_Z} Z. $$
If $ Y = Z = X $ and the diagonal is
$$ \function[\Delta]{X}{X \times X}{x}{\br{x, x}}, $$
cup-product is
$$ \cup : \H^k\br{X} \times \H^l\br{X} \xrightarrow{\times} \H^{k + l}\br{X \times X} \xrightarrow{\Delta^*} \H^{k + l}\br{X}, $$
so the existence of $ \Delta $ and the contravariance of cohomology are key.
\end{itemize}
\end{proposition}

Great, we have a product. But, as with original definition of homology and cohomology, there is little we can immediately compute.

\begin{example*}
$ \H^\bullet\br{\pt} \cong \ZZ $ in degree zero, with its usual ring structure, and
$$ \H^\bullet\br{\S^n} \cong
\begin{cases}
\ZZ & \bullet = 0, n \\
0 & \text{otherwise}
\end{cases},
$$
so $ \H^\bullet\br{\S^n} \cong \ZZ\sbr{x} / \abr{x^2} $ for $ \abs{x} = n $.
\end{example*}

\begin{example*}
Let $ X $ and $ Y $ be cell complexes with basepoints $ x_0 \in X $ and $ y_0 \in Y $, and let $ X \vee Y = \br{X \sqcup Y} / x_0 \sim y_0 $. Then
$$ \widetilde{\H^\bullet}\br{X \vee Y} \cong \widetilde{\H^\bullet}\br{X} \oplus \widetilde{\H^\bullet}\br{Y} $$
is a ring isomorphism. Indeed,
$$ X \xleftarrow{\p_X} X \vee Y \xrightarrow{\p_Y} Y, \qquad X \xrightarrow{\iota_X} X \vee Y \xleftarrow{\iota_Y} Y $$
induce ring homomorphisms
$$ \H^\bullet\br{X} \xrightarrow{\p_X^*} \H^\bullet\br{X \vee Y} \xleftarrow{\p_Y^*} \H^\bullet\br{Y}, \qquad \H^\bullet\br{X} \xleftarrow{\iota_X^*} \H^\bullet\br{X \vee Y} \xrightarrow{\iota_Y^*} \H^\bullet\br{Y}, $$
and Mayer-Vietoris gives
$$ \H^\bullet\br{X \vee Y} \xrightarrow{\br{\iota_X^*, \iota_Y^*}} \H^\bullet\br{X \vee Y} \to \H^\bullet\br{\pt}, $$
which shows
$$ \p_X^* \oplus \p_Y^* : \widetilde{\H^\bullet}\br{X} \oplus \widetilde{\H^\bullet}\br{Y} \to \widetilde{\H^\bullet}\br{X \vee Y} $$
is an isomorphism additively.
\end{example*}

\pagebreak

\subsection{Key features}

From the definitions, not sure we can do much else. We need two key features to get going. We will state them now and prove one of them later.

\begin{proposition}[Graded commutativity]
$ \H^\bullet\br{X} $ is \textbf{graded commutative}, or \textbf{skew-commutative}, so
$$ \phi \cdot \psi = \br{-1}^{kl}\psi \cdot \phi, \qquad \phi \in \H^k\br{X}, \qquad \psi \in \H^l\br{X}. $$
\end{proposition}

Note that this is not true at chain level, only on cohomology.

\begin{example*}
Suppose
$$ \H^\bullet\br{X; \ZZ} \cong
\begin{cases}
\ZZ & \bullet = 0, 3, 6 \\
0 & \text{otherwise}
\end{cases}.
$$
For degree reasons, the only possible interesting product is $ \H^3\br{X; \ZZ} \times \H^3\br{X; \ZZ} \to \H^6\br{X; \ZZ} $, but if $ \H^3\br{X} = \ZZ\theta $, then $ \theta \cdot \theta = -\theta \cdot \theta $ as $ \br{-1}^{\abs{\theta}} = -1 $, so $ 2\theta \cdot \theta = 0 $. Then $ \theta \cdot \theta = 0 $, since no $ 2 $-torsion in $ \H^6\br{X; \ZZ} $. For example, $ \S^3 \vee \S^6 $ is such a space.
\end{example*}

Let $ A $ and $ B $ be abelian groups. Then $ A \otimes B $ is characterised by the universal property
$$
\begin{tikzcd}
A \times B \arrow{r}{\text{Bilinear}} \arrow[twoheadrightarrow, dashed]{d}[swap]{\exists} & C \\
A \otimes B \arrow[dashed]{ur}[swap]{\exists \ \text{Linear}} &
\end{tikzcd},
$$
where $ C $ is an abelian group. Concretely, it is generated by symbols $ a \otimes b $ such that
$$ \br{a + a'} \otimes b = a \otimes b + a' \otimes b, \qquad a \otimes \br{b + b'} = a \otimes b + a \otimes b'. $$

\begin{example*}
$$ \ZZ \otimes A = A, \qquad \ZZ / n \otimes A = A / nA, \qquad \br{A \otimes B} \otimes C \cong A \otimes \br{B \otimes C}, \qquad A \otimes B \cong B \otimes A, $$
$$ \br{\bigoplus_i A_i} \otimes B \cong \bigoplus_i \br{A_i \otimes B}, \qquad f : A \to A', \ g : B \to B' \implies f \otimes g : A \otimes A' \to B \otimes B'. $$
\end{example*}

\begin{remark*}
If $ A $ and $ B $ are modules over a commutative ring $ R $,
$$ A \otimes_R B = \br{A \otimes B} / \cbr{ra \otimes b = a \otimes rb \st a \in A, \ b \in B, \ r \in B}. $$
\end{remark*}

\begin{theorem}[K\"unneth theorem]
\label{thm:kunneththeorem}
Let $ Y $ be a cell complex such that $ \H^i\br{Y} $ is free for all $ i $. Then cross-product
$$ \bigoplus_{k + l = n} \H^k\br{X} \otimes \H^l\br{Y} \to \H^n\br{X \times Y} $$
is an isomorphism whenever $ X $ is a finite cell complex.
\end{theorem}

\begin{remark*}
\hfill
\begin{itemize}
\item Cross-product $ \H^i\br{X} \times \H^j\br{Y} \to \H^{i + j}\br{X \times Y} $ is bilinear, but bilinear maps are rarely homomorphisms, so natural to pass to tensor product.
\item For $ R $ a commutative ring, if $ \H^j\br{Y; R} $ is a free $ R $-module for all $ j $, then
$$ \bigoplus_{k + l = n} \H^k\br{X; R} \otimes_R \H^l\br{Y; R} \xrightarrow{\sim} \H^n\br{X \times Y; R}. $$
Note that if $ R $ is a field, $ \H^j\br{Y; R} $ is free.
\item Write
$$ \function[\times]{\H^\bullet\br{X; R} \otimes_R \H^\bullet\br{Y; R}}{\H^\bullet\br{X \times Y; R}}{a \otimes b}{a \times b} $$
for K\"unneth. Note that this is a ring homomorphism where $ \br{a \otimes b}\br{c \otimes d} = \br{-1}^{\abs{b}\abs{c}}ac \otimes bd $. \footnote{Exercise: check}
\end{itemize}
\end{remark*}

\pagebreak

\begin{example*}
The \textbf{exterior algebra} $ \ext\br{x_i \st x_i \in I} $ is free on generators $ \cbr{x_i} $ subject to skew-commutativity, so $ \H^\bullet\br{\S^1} \cong \ZZ\sbr{x} / \abr{x^2} = \ext\br{x} $ for $ \abs{x} = 1 $. By cellular cohomology,
$$ \H^\bullet\br{\T^2} =
\begin{cases}
\ZZ & \bullet = 0, 2 \\
\ZZ^2 & \bullet = 1 \\
0 & \text{otherwise}
\end{cases},
\qquad
\begin{array}{l}
\H^0\br{\T^2} \cong \H^0\br{\S^1} \otimes \H^0\br{\S^1}, \\
\H^1\br{\T^2} \cong \H^1\br{\S^1} \otimes \H^0\br{\S^1} \oplus \H^0\br{\S^1} \otimes \H^1\br{\S^1}, \\
\H^2\br{\T^2} \cong \H^1\br{\S^1} \otimes \H^1\br{\S^1}.
\end{array}
$$
Let $ \H^1\br{\T^2} $ be generated by $ x_1 \otimes 1 $ and $ 1 \otimes x_2 $. For degree reasons, the only possible interesting product is
$$ \function{\H^1\br{\T^2} \times \H^1\br{\T^2}}{\H^2\br{\T^2}}{\br{x_1 \otimes 1, 1 \otimes x_2}}{x_1x_2 = x_1 \times x_2}, $$
and $ x_1x_2 = -x_2x_1 $ by skew-commutativity, so the only non-zero products are those of $ \ext\br{x_1, x_2} $.
\end{example*}

\begin{corollary}
$ \H^\bullet\br{\T^n} = \ext^\bullet\H^1\br{\T^n} $ is the exterior algebra on $ n $ degree one generators.
\end{corollary}

\begin{example*}
Label $ 1 \in \H^0\br{\Sigma_g} $ for the unit and $ u \in \H^2\br{\Sigma_g} $ for a generator in
$$ \H^\bullet\br{\Sigma_g} \cong
\begin{cases}
\ZZ & \bullet = 0, 2 \\
\ZZ^{2g} & \bullet = 1
\end{cases}.
$$
The ring structure is
$$ \ZZ\abr{x_1, \dots, x_g, y_1, \dots, y_g \st x_ix_j = 0 = y_iy_j, \ x_iy_j = \delta_{ij}u}, $$
and note $ y_ix_j = -x_jy_i $ by skew-commutativity. Consider
$$ \Sigma_g \xrightarrow{\pi} \bigvee_{i = 1}^g \T^2 \xleftarrow{\p} \bigsqcup_{i = 1}^g \T^2. $$
Check that $ \pi^* $ and $ \p^* $ are isomorphisms on degree one cohomology, so $ x_i $ and $ y_j $ define classes in $ \H^1\br{\bigvee_i \T^2} $ and $ \H^1\br{\Sigma_g} $. \footnote{Exercise} On degree two cohomology,
$$
\begin{tikzcd}[row sep=tiny]
\H^2\br{\Sigma_g} \arrow[cong]{d} & \H^2\br{\bigvee_{i = 1}^g \T^2} \arrow{l}[swap]{\pi^*} \arrow{r}{\p^*} \arrow[cong]{d} & \H^2\br{\bigsqcup_{i = 1}^g \T^2} \arrow[cong]{d} \\
\ZZ & \ZZ^g \arrow[dashed]{l}{\sum_i q_i \mapsfrom \br{q_1, \dots, q_g}} \arrow[dashed]{r}[swap]{\sim} & \ZZ^g
\end{tikzcd},
$$
by symmetry on the $ \T_i^2 $. Now the result follows. If $ i \ne j $, then $ x_i $ and $ x_j $ come from disjoint copies of $ \T^2 $ so $ x_ix_j = 0 $, and similarly $ x_iy_j = 0 $ and $ y_iy_j = 0 $. If $ i = j $, then $ x_ix_i = 0 $ and $ y_iy_i = 0 $, and $ x_iy_i = u $ is the fixed generator of $ \H^2\br{\T^2} $ for the $ i $-th copy of $ \T^2 $.
\end{example*}

\lecture{13}{Friday}{06/11/20}

As $ \H^n\br{\S^n} \cong \ZZ \cong \H^n\br{\T^n} $ we can define the \textbf{degree} of maps $ \S^n \to \T^n $ or $ \T^n \to \S^n $ via induced maps on cohomology, well-defined up to sign.

\begin{corollary}
There is no map $ f : \S^n \to \T^n $ of non-zero degree if $ n > 1 $.
\end{corollary}

\begin{proof}
Let $ x_1 \dots x_n $ be the generator of $ \H^n\br{\T^n} $. Then
$$ \function[f^*]{\H^1\br{\T^n}}{\H^1\br{\S^n} = 0}{x_i}{0}, $$
so $ f^*\br{x_1 \dots x_n} = \prod_i f^*\br{x_i} = 0 $.
\end{proof}

\begin{exercise*}
In contrast, there exists $ f : \T^n \to \S^n $ of degree one.
\end{exercise*}

\pagebreak

\subsection{Proof of K\"unneth theorem}

Recall
$$ \C^k\br{X, A} = \cbr{\phi \in \C^k\br{X} \st \forall \sigma \in \C_k\br{A} \subseteq \C_k\br{X}, \ \phi\br{\sigma} = 0}. $$
If $ \phi \in \C^k\br{X, A} $ and $ \psi \in \C^l\br{X} $ then $ \phi \cdot \psi \in \C^{k + l}\br{X, A} $, since
$$ \br{\phi \cdot \psi}\br{\sbr{v_0, \dots, v_{k + l}}} = \phi\br{\sbr{v_0, \dots, v_k}}\psi\br{\sbr{v_k, \dots, v_{k + l}}} = 0. $$
So there is a \textbf{relative cup-product}
$$ \H^\bullet\br{X, A} \otimes \H^\bullet\br{X} \to \H^\bullet\br{X, A}, $$
and in particular $ \H^\bullet\br{X, A} $ is a graded ring. Note that this is typically not unital. Analogously, cross-product defines $ \C^k\br{X, A} \otimes \C^l\br{Y} \to \C^{k + l}\br{X \times Y, A \times Y} $ and a \textbf{relative cross-product}
$$ \H^\bullet\br{X, A} \otimes \H^\bullet\br{Y} \to \H^\bullet\br{X \times Y, A \times Y}. $$
We will use this to pay one of our debts.

\begin{proof}[Proof of Theorem \ref{thm:kunneththeorem}]
We consider the associations
$$ \br{X, A} \mapsto h^\bullet\br{X, A} = \H^\bullet\br{X, A} \otimes \H^\bullet\br{Y}, \qquad \br{X, A} \mapsto k^\bullet\br{X, A} = \H^\bullet\br{X \times Y, A \times Y}, $$
functors of $ \br{X, A} $, with $ Y $ fixed. Relative cross-product defines $ \Phi : h^\bullet\br{X, A} \to k^\bullet\br{X, A} $, and
$$ \Phi_{\pt} : h^\bullet\br{\pt} = \H^\bullet\br{\pt} \otimes \H^\bullet\br{Y} \to \H^\bullet\br{\pt \times Y} = k^\bullet\br{\pt} $$
is an isomorphism. So by our discussion with axioms of how generalised cohomology theories behave for finite cell complexes, it suffices to prove
\begin{enumerate}
\item $ h^\bullet $ and $ k^\bullet $ are generalised cohomology theories, and
\item $ \Phi $ is a natural transformation, or entwines all the structure.
\end{enumerate}
Then $ \Phi_{\br{X, A}} $ will be an isomorphism for all $ \br{X, A} $ and we will be done.
\begin{enumerate}
\item All generalised cohomology theory axioms are immediate for $ k^\bullet $ from properties of cohomology. For $ h^\bullet $, they are clear except the long exact sequence of a pair and unions. For those, use two algebraic facts.
\begin{itemize}
\item Tensoring with a free module preserves exactness.
\item $ \br{\prod_\alpha M_\alpha} \otimes N = \prod_\alpha \br{M_\alpha \otimes N} $ if $ N $ is finitely generated and free.
\end{itemize}
\item So we need $ \Phi : \H^\bullet\br{X, A} \otimes \H^\bullet\br{Y} \to \H^\bullet\br{X \times Y, A \times Y} $ to be compatible with homotopy invariance, long exact sequence, excision, etc. Well, cross-product is natural for maps of spaces, so homotopy invariance and excision are fine. So basically just need to check
$$
\begin{tikzcd}
\H^k\br{A} \otimes \H^l\br{Y} \arrow{r}{\delta \otimes \id} \arrow{d}[swap]{\times} & \H^{k + 1}\br{X, A} \otimes \H^l\br{Y} \arrow{d}{\times} \\
\H^{k + l}\br{A \times Y} \arrow{r}[swap]{\delta} & \H^{k + l + 1}\br{X \times Y, A \times Y}
\end{tikzcd}
$$
commutes. To define $ \delta $, for $ \phi \in \C^k\br{A} $ a cocycle, so $ \da^*\br{\phi} = 0 $, extend $ \phi $ to $ \widehat{\phi} \in \C^k\br{X} $ a cochain, and set $ \delta\br{\phi} = \da^*\br{\widehat{\phi}} $. Note that this does vanish on simplices in $ A $. If $ \psi \in \C^l\br{Y} $ is a cocycle, then $ \widehat{\phi} \times \psi $ does extend $ \phi \times \psi $ using $ \da^*\br{\psi} = 0 $, and this is what we need.
\end{enumerate}
\end{proof}

\pagebreak

\subsection{Proof of graded commutativity}

The other debt is graded commutativity. Since not true at chain level, can expect proof to be painful.

\begin{proof}
\hfill
\begin{enumerate}[leftmargin=0.5in, label=Sketch \arabic*.]
\item Let $ \epsilon_n = \br{-1}^{n\br{n + 1} / 2} $ and
$$ \function[\rho]{\C_n\br{X}}{\C_n\br{X}}{\sbr{v_0, \dots, v_n}}{\epsilon_n\sbr{v_n, \dots, v_0}}, $$
where $ \epsilon_n $ is the sign of the element of the $ n $-th symmetric group needed to reorder vertices we indicated. Claim that $ \rho $ is a chain map, chain homotopic to the identity. Given this,
$$ \br{\rho^*\phi \cdot \rho^*\psi}\br{\sbr{v_0, \dots, v_{k + l}}} = \phi\br{\epsilon_k\sbr{v_k, \dots, v_0}}\psi\br{\epsilon_l\sbr{v_{k + l}, \dots, v_k}}, $$
$$ \br{\rho^*\br{\psi \cdot \phi}}\br{\sbr{v_0, \dots, v_{k + l}}} = \epsilon_{k + l}\psi\br{\sbr{v_k, \dots, v_0}}\phi\br{\sbr{v_k, \dots, v_0}}, $$
so $ \epsilon_k\epsilon_l\rho^*\phi \cdot \rho^*\psi = \epsilon_{k + l}\rho^*\br{\psi \cdot \phi} $ and $ \epsilon_{k + l} = \br{-1}^{kl}\epsilon_k\epsilon_l $. But $ \rho^* \simeq \id $, so $ \rho^* = \id $ on cohomology, so $ \sbr{\phi} \cdot \sbr{\psi} = \br{-1}^{kl}\sbr{\psi} \cdot \sbr{\phi} $ on cohomology. So just need to claim that $ \rho $ is a chain map, chain homotopic to the identity. To see $ \rho $ is a chain map, compute directly
$$ \da\br{\rho\br{\sbr{v_0, \dots, v_n}}} = \epsilon_n\sum_i \br{-1}^i\sbr{v_n, \dots, \widehat{v_{n - i}}, \dots, v_0}, $$
$$ \rho\br{\da\br{\sbr{v_0, \dots, v_n}}} = \rho\br{\sum_i \br{-1}^i\sbr{v_0, \dots, \widehat{v_i}, \dots, v_n}} = \epsilon_{n - 1}\sum_i \br{-1}^{n - i}\sbr{v_n, \dots, \widehat{v_{n - i}}, \dots, v_0}, $$
and $ \epsilon_n = \br{-1}^n\epsilon_{n - 1} $. To show $ \rho : \C_n\br{X} \to \C_n\br{X} $ is chain homotopic to the identity, use a twisted prism $ P : \C_n\br{X} \to \C_{n + 1}\br{X} $ such that $ \da \circ P + P \circ \da = \rho - \id $. See the prism operator from the proof of homotopy invariance, but reverse order of vertices on the top. If $ \pi : \Delta^n \times \sbr{0, 1} \to \Delta^n $ is the projection,
$$ P\br{\sigma} = \sum_i \br{-1}^i\epsilon_{n - i}\eval{\br{\sigma \circ \pi}}_{\sbr{v_0, \dots, v_i, w_n, \dots, w_i}}. $$
Compare to the earlier prism operator. In fact, this does the job, since
$$ \da\br{P\br{\sigma}} + P\br{\da\br{\sigma}} = \epsilon_n\sbr{w_n, \dots, w_0} - \sbr{v_0, \dots, v_n}. $$
\item Let
$$ \function[\Delta]{\C_{k + l}\br{X}}{\C_k\br{X} \otimes \C_l\br{X}}{\sbr{v_0, \dots, v_{k + l}}}{\sbr{v_0, \dots, v_k} \otimes \sbr{v_k, \dots, v_{k + l}}} $$
and
$$ \function[\widetilde{\Delta}]{\C_{k + l}\br{X}}{\C_k\br{X} \otimes \C_l\br{X}}{\sbr{v_0, \dots, v_{k + l}}}{\sbr{v_l, \dots, v_{k + l}} \otimes \sbr{v_0, \dots, v_l}\br{-1}^{kl}} $$
be chain maps. Then
$$ \phi \cdot \psi = \cdot_\ZZ \circ \br{\phi \otimes \psi} \circ \Delta, \qquad \br{-1}^{kl}\psi \cdot \phi = \cdot_\ZZ \circ \br{\phi \otimes \psi} \circ \widetilde{\Delta}. $$
Claim that there is a unique natural chain map $ \C_\bullet\br{X} \to \C_\bullet\br{X} \otimes \C_\bullet\br{X} $ up to chain homotopy equivalence, so $ \Delta $ and $ \widetilde{\Delta} $ agree on homology. By naturality, it suffices to prove this for $ \Delta^n $ itself. But $ \C_\bullet\br{\Delta^n} $ and $ \C_\bullet\br{\Delta^n} \otimes \C_\bullet\br{\Delta^n} $ are free resolutions of $ \ZZ $, by the technique of acyclic models, so
$$ \H_\bullet\br{\CC_\bullet\br{\Delta^n}} =
\begin{cases}
\ZZ & \bullet = 0 \\
0 & \text{otherwise}
\end{cases},
\qquad \H_\bullet\br{\CC_\bullet\br{\Delta^n} \otimes \CC_\bullet\br{\Delta^n}} =
\begin{cases}
\ZZ & \bullet = 0 \\
0 & \text{otherwise}
\end{cases}.
$$
Any two free resolutions of $ \ZZ $ are chain homotopy equivalent.
\end{enumerate}
\end{proof}

\pagebreak

\subsection{Lyusternik-Schnirelmann categories}

\lecture{14}{Monday}{09/11/20}

Cohomology $ \H^\bullet\br{X} $ is a ring. That is useful because $ f : X \to Y $ induces $ f^* : \H^\bullet\br{X} \to \H^\bullet\br{Y} $ a ring homomorphism but it also gives rise to new kinds of invariants.

\begin{definition*}
The \textbf{cup-length} of a space $ X $ is
$$ \cl X = \max \cbr{N \st \exists \alpha_i, \ 1 \le i \le N, \ \alpha_i \in \H^{> 0}\br{X}, \ \alpha_1 \cdot \dots \cdot \alpha_N \ne 0}. $$
\end{definition*}

Similarly, one could for example define the minimal number of elements of $ \H^\bullet\br{X} $ needed to generate it as a ring.

\begin{example*}
$ \cl \S^n = 1 $ and $ \cl \T^n = \cl \br{\S^1 \times \dots \times \S^1} = n $.
\end{example*}

Fix a space $ X $. We define a function
$$ \function[\nu]{\cbr{\text{subsets of} \ X}}{\NN \cup \cbr{\infty}}{A}{\nu\br{A}}, $$
the \textbf{Lyusternik-Schnirelmann category} of $ A $, where $ \nu\br{A} $ is the least $ N $ such that $ A $ can be covered by $ N $ open sets $ U_i \subseteq X $ such that the inclusion maps $ U_i \hookrightarrow X $ are homotopic to constant maps. In particular $ U_i \simeq \pt $ is contractible. Let $ \nu\br{A} = \infty $ if $ A $ cannot be covered by any finite collection of such sets, and let $ \nu\br{\emptyset} = 0 $ by convention.

\begin{remark*}
We usually only discuss $ \nu $ for spaces $ X $ that admit some cover $ \UUU = \cbr{U_i \st i \in I} $ by open sets such that $ U_i \hookrightarrow X $ is nullhomotopic. Note that if $ X $ is also compact, then $ \nu $ is finite-valued.
\end{remark*}

\begin{example*}
Any compact manifold has finite category, and $ \nu\br{\S^n} = 2 $.
\end{example*}

By example sheet $ 2 $, $ \cl X < \nu\br{X} $. Let $ X $ be a manifold. Then $ \nu : \cbr{\text{subsets of} \ X} \to \NN \cup \cbr{\infty} $ satisfies
\begin{itemize}
\item if $ A \subseteq X $, then there exists a open neighbourhood $ A \subseteq U \subseteq X $ such that $ \nu\br{A} = \nu\br{U} $,
\item if $ A \subseteq B $, then $ \nu\br{A} \le \nu\br{B} $,
\item $ \nu\br{A \cup B} \le \nu\br{A} + \nu\br{B} $,
\item $ \nu\br{\emptyset} = 0 $ and $ \nu\br{\pt} = 1 $, and
\item $ \nu $ is a homeomorphism invariant, so if $ f : X \xrightarrow{\sim} X $, then $ \nu\br{A} = \nu\br{f\br{A}} $.
\end{itemize}

\begin{theorem}
Let $ M $ be a connected, closed smooth manifold. Any smooth function $ f : M \to \RR $ has at least $ 1 + \cl M $ critical points.
\end{theorem}

\begin{proof}
We will show that if $ f $ has finitely many critical points, then there are at least $ \nu\br{M} $ of them. Since $ \cl M < \nu\br{M} $, we win. The proof will use some ideas from differential topology and geometry, and is therefore a digression from the course proper, so not examinable. Pick a Riemannian metric $ g $ on $ M $, so we have the downwards gradient vector field $ -\nabla f $ of $ f $ such that $ \abr{\nabla f, y}_g = \d f\br{y} $ for all $ y \in \Gamma\br{\T M} $. As $ M $ is compact, there is an associated flow $ \cbr{\phi_t} $ of $ M $. Call the set
$$ \Crit f = \cbr{f\br{p} \ \text{is a critical value of} \ f}. $$
Note that if $ c : I \to M $ is a curve, $ \abr{\nabla f, \tod{c}{t}}_g = \tod{}{t}\br{f \circ c} $, so $ \nabla f $ points away from $ f^{-1}\br{t} $. Let
$$ M^c = f^{-1}\br{\intoc{-\infty, c}}, \qquad c_j = \sup \cbr{c \st \nu\br{M^c} < j}, $$
so $ c_1 = \min f $ and $ c_N = \max f $ where $ N = \nu\br{M} $. Claim that $ c_j \in \Crit f $ and either $ c_j < c_{j + 1} $ or $ f^{-1}\br{c_j} $ contains infinitely many critical points of $ f $, so if the number of critical values of $ f $ is finite, $ c_1 < \dots < c_N $ and we win.

\pagebreak

\begin{itemize}
\item $ c_j \in \Crit f $. This follows from the following property of flows. If $ c \in \RR \setminus \Crit f $, there exist $ t, \delta > 0 $ such that $ \phi^t\br{M^{c + \delta}} \subseteq M^{c - \delta} $. The flow is by homeomorphisms, so
$$ \nu\br{M^{c + \delta}} = \nu\br{\phi^t\br{M^{c + \delta}}} \le \nu\br{M^{c - \delta}}, $$
so $ c \notin \cbr{c_j} = \cbr{\sup \cbr{c \st \nu\br{M^c} < j}} $.
\item Suppose $ \abs{f^{-1}\br{c_j} \cap \Crit f} < \infty $ is finite. Note that if $ \Sigma \subseteq M $ for $ M $ a connected manifold is finite, there exists an open $ \RR^n \cong U \subseteq M $ with $ \Sigma \subseteq U $, so $ \nu\br{\Sigma} \le \nu\br{U} = 1 $. So as $ \phi^t\br{M^{c_j + \delta} \setminus U} \subseteq M^{c_j - \delta} $ for suitable $ t $ and $ \delta $,
$$ \nu\br{M^{c_j + \delta}} \le \nu\br{M^{c_j + \delta} \setminus U} + 1 \le \nu\br{M^{c_j - \delta}} + 1 < j + 1, $$
by definition of $ c_j $. Thus $ c_{j + 1} \ge c_j + \delta > c_j $, as required. The upshot is if there exists finite many critical points, there are at least $ N = \nu\br{M} $ of them.
\end{itemize}
\end{proof}

\begin{corollary}
Every $ f : \T^n \to \RR $ has at least $ n + 1 $ critical points.
\end{corollary}

\begin{proof}
$ \cl \T^n = n $.
\end{proof}

\begin{remark*}
Morse theory is about studying $ \H^\bullet\br{M} $ via $ \Crit f $ where $ f $ has non-degenerate critical points. The fact that $ \H^\bullet\br{M} \cong \H_{\Morse}^\bullet\br{f} $ implies if $ f $ has non-degenerate critical points, it has at least $ \sum_j \rk \H^j\br{M} $ such. The Lyusternik-Schnirelmann bound is weaker but has no non-degeneracy hypotheses.
\end{remark*}

\pagebreak

\section{Vector bundles}

\lecture{15}{Wednesday}{11/11/20}

Our goal is to understand cup-product better, and eventually the cohomology rings of manifolds. But we will get there by a roundabout route.

\subsection{Vector bundles}

\begin{definition*}
Let $ B $ be a space. A \textbf{vector bundle} $ E \to B $ of rank $ d $ is a family of vector spaces $ \cbr{E_b}_{b \in B} $ and a topology on the disjoint union $ E = \bigsqcup_{b \in B} E_b $ such that
\begin{itemize}
\item the projection $ p : E \to B $ is continuous, and
\item there is \textbf{local triviality}, so for all $ b \in B $ there exists an open $ U \ni b $ and a \textbf{local trivialisation} such that the diagram
$$
\begin{tikzcd}
p^{-1}\br{U} = \eval{E}_U \arrow{r}{\psi} \arrow{dr}[swap]{p} & U \times \RR^d \arrow{d}{\pi_1} \\
& U &
\end{tikzcd}
$$
commutes and $ \psi : E_y = p^{-1}\br{y} \to \cbr{y} \times \RR^n $ is a linear isomorphism for all $ y \in U $.
\end{itemize}
\end{definition*}

\begin{notation*}
$ E $ is the \textbf{total space} and $ B $ is the \textbf{base space}. The $ E_b $ are the \textbf{fibres}. A map $ s : B \to E $ such that $ p \circ s = \id_B $ is a \textbf{section} of $ E $. There is the \textbf{zero-section}, which sends
$$ \function{B}{E_b}{b}{0}. $$
Note the zero section $ \iota : B \to E $ and the projection $ p : E \to B $ are inverse homotopy equivalences, that is $ p \circ \iota = \id_B $ and $ \iota \circ p \simeq \id_E $. The \textbf{trivial} rank $ d $ vector bundle is $ \br{E = B \times \RR^d, p = \pi_1} $.
\end{notation*}

\begin{example*}
The M\"obius strip is a non-trivial rank one bundle over $ \S^1 $, and $ \S^1 \times \RR $ is a trivial rank one bundle over $ \S^1 $.
\end{example*}

The following are operations on vector bundles.
\begin{itemize}
\item \textbf{Pullback}. If $ \pi : E \to X $ is a vector bundle and $ f : Y \to X $, then $ \pi : f^*E \to Y $ is defined by
$$ f^*E = \cbr{\br{e, y} \in E \times Y \st \pi\br{e} = f\br{y}}, $$
and $ \pi = \pi_2 $. So $ \br{f^*E}_y = E_{f\br{y}} $.
\item \textbf{Whitney sum}. If $ \pi_1 : E \to X $ and $ \pi_2 : F \to X $ are vector bundles, $ E \oplus F \to X $ has
$$ E \oplus F = \cbr{\br{e, f} \in E \times F \st \pi_1\br{e} = \pi_2\br{f}}, $$
so there exists an induced projection to $ X $. So $ \br{E \oplus F}_x = E_x \oplus F_x $.
\end{itemize}
Note that both pullback and Whitney sum
\begin{itemize}
\item take trivial bundles to trivial bundles, and
\item commute with restriction to open sets in $ X $.
\end{itemize}
That is, $ \eval{E}_U \oplus \eval{F}_U = \eval{\br{E \oplus F}}_U $ and $ f^*\br{\eval{E}_U} = \eval{\br{f^*E}}_{f^{-1}\br{U}} $, so pullback and Whitney sum preserve the property of being locally trivial. More generally, anything you can do to a vector space, you can do to a vector bundle. Given $ E $ and $ F $ there is $ E \otimes F $, the dual bundle $ E^* $, exterior powers of $ E $, etc, with the fibres given by the corresponding vector space operations.

\pagebreak

\begin{definition*}
A \textbf{subbundle} $ F \subseteq E $ is a subspace such that for all $ x \in X $ there exists a local trivialisation of $ E $, so $ x \in U $ and
$$
\begin{tikzcd}[row sep=tiny]
\eval{E}_U \arrow{r}{\psi} & U \times \RR^d \\
\eval{F}_U = F \cap \pi^{-1}\br{U} \arrow[subset]{u} \arrow{r}[swap]{\psi} & U \times \RR^k \arrow[subset]{u}
\end{tikzcd},
$$
for $ \RR^k \subseteq \RR^d $. Then $ \eval{\pi}_F : F \to X $ is also a vector bundle now of rank $ k $. If $ F \subseteq E $ is a subbundle there is \textbf{quotient bundle} with fibre $ E_x / F_x $. Note that vector bundles $ p : E \to X $ and $ p' : E' \to X $ are \textbf{isomorphic} if there exists
$$
\begin{tikzcd}
E \arrow{r}{\phi} \arrow{d}[swap]{p} & E' \arrow{d}{p'} \\
X \arrow{r}[swap]{g} & X
\end{tikzcd},
$$
where $ \phi $ and $ g $ are homeomorphisms, such that $ \eval{\phi}_{E_x} : E_x \xrightarrow{\sim} E_{g\br{x}}' $ are linear isomorphisms for all $ x $. Some people insist $ g = \id $.
\end{definition*}

The following is another viewpoint. Let $ E \to B $ be a vector bundle and $ \cbr{U_\alpha}_{\alpha \in A} $ a trivialising open cover. For $ \alpha, \beta \in A $,
$$
\begin{tikzcd}
\eval{E}_{U_\alpha \cap U_\beta} \arrow{r}{\psi_\alpha} \arrow[swap]{d}{\psi_\beta} & \br{U_\alpha \cap U_\beta} \times \RR^d \arrow[dashed]{dl}{U_\alpha \cap U_\beta \xrightarrow{\psi_\beta \circ \psi_\alpha^{-1}} \GL\br{d; \RR}} \\
\br{U_\alpha \cap U_\beta} \times \RR^d
\end{tikzcd}.
$$
The functions $ \psi_{\beta\alpha} = \psi_\beta \circ \psi_\alpha^{-1} $ satisfy the \textbf{cocycle condition}
$$ \psi_{\alpha\alpha} = \id, \qquad \psi_{\alpha\beta} = \br{\psi_{\beta\alpha}}^{-1}, \qquad \psi_{\alpha\gamma} \circ \psi_{\gamma\beta} \circ \psi_{\beta\alpha} = \id. $$
We can build
$$ E = \br{\bigsqcup_{\alpha \in A} U_\alpha \times \RR^d} / \sim, $$
where $ \br{x, v} \sim \br{x, \psi_{\beta\alpha}\br{x}\br{v}} $ for all $ x \in U_\alpha \cap U_\beta $. So given a cover $ \cbr{U_\alpha}_{\alpha \in A} $ and matrix-valued functions $ \cbr{\psi_{\beta\alpha} : U_\alpha \cap U_\beta \to \GL\br{d; \RR}} $ satisfying the cocycle condition there is an associated vector bundle.

\begin{example*}
If $ E \to B $ and $ F \to B $ are given, $ E \otimes F $ is the bundle with underlying set $ \bigsqcup_b E_b \otimes F_b $ and topologised via the transition functions $ \psi_{\beta\alpha}^E \otimes \psi_{\beta\alpha}^F : U_\alpha \cap U_\beta \to \GL\br{d_1d_2; \RR} $, where $ \rk E = d_1 $ and $ \rk F = d_2 $.
\end{example*}

\begin{example*}
If $ M $ is a smooth manifold, the \textbf{tangent bundle} $ \T M $, of rank $ n = \dim_\RR M $, is defined with respect to an atlas $ \cbr{\br{U_\alpha, \phi_\alpha : U_\alpha \xrightarrow{\sim} \RR^n}} $ of charts for $ M $ by the transition matrices $ \psi_{\beta\alpha} $ of partial derivatives of $ \phi_{\beta\alpha} $, where
$$ \phi_{\beta\alpha} = \phi_\beta \circ \phi_\alpha^{-1} : \phi_\alpha\br{U_\alpha \cap U_\beta} \to \phi_\beta\br{U_\alpha \cap U_\beta} $$
are diffeomorphisms of open sets. The cocycle condition is implied by the chain rule.
\end{example*}

\begin{example*}
If $ M $ is a smooth manifold and $ \iota : N \hookrightarrow M $ is a smooth submanifold, $ \T N \subseteq \iota^*\T M = \eval{\T M}_N $ is a subbundle. The quotient $ \nu_{N / M} = \iota^*\T M / \T N $ is the \textbf{normal bundle} of $ N $ in $ M $.
\end{example*}

\subsection{Tautological bundles over Grassmannians}

\begin{example*}
Let
$$ X = \Gr\br{k; \RR^n} = \cbr{\text{$ k $-dimensional subspace of} \ \RR^n}, $$
the \textbf{Grassmannian}, defining $ X $ to be a quotient of $ \GL\br{n; \RR} $, or $ X = \O\br{n} / \O\br{k} \times \O\br{n - k} $ since any subspace has an orthonormal basis so now consider changes of basis which do not change the subspace. The \textbf{tautological bundle} $ E \to \Gr\br{k; \RR^n} $ has fibre at $ x $ the subspace $ \abr{x} \subseteq \RR^n $, where
$$ E = \cbr{\br{x, v} \in \Gr\br{k; \RR^n} \times \RR^n \st v \in \abr{x}}. $$
Sometimes we write $ E_{\taut} $.
\end{example*}

\pagebreak

\begin{lemma}
$ E_{\taut} $ is locally trivial.
\end{lemma}

\begin{proof}
Pick an inner product $ \abr{,} $ on $ \RR^n $. For $ x \in X $,
$$ U = \cbr{y \in X \st E_y \cap E_x^\perp = \cbr{0}} $$
is an open neighbourhood of $ x $. Let
$$ \function[\psi]{\eval{E}_U}{U \times E_x = U \times \RR^k}{\br{y, \xi}}{\br{y, \pi_{\abr{x}}\br{\xi}}}, $$
where $ \pi_{\abr{x}} : \RR^n \to \abr{x} $ is the orthogonal projection. For all $ y \in U $, $ \eval{\pi_{\abr{x}}}_{E_y} : E_y \xrightarrow{\sim} E_x = \abr{x} $ by definition of $ U $.
\end{proof}

Note that there is an obvious notion of a complex vector bundle, where $ E_y \cong \CC^d $ for all $ y $ and transition maps are valued in $ \GL\br{d; \CC} $, and a tautological bundle $ E \to \Gr\br{k; \CC^n} $. Thus there is a tautological \textbf{line bundle}, a vector bundle of rank one, $ \LLL_{\taut} = \LLL \to \RR\PP^n $ with fibres $ \RR $ and $ \LLL_{\taut} = \LLL \to \CC\PP^n $ with fibres $ \CC $.

\begin{lemma}
Let $ X $ be compact and Hausdorff, or more generally paracompact and Hausdorff. If $ \cbr{U_\alpha}_{\alpha \in A} $ is an open cover of $ X $, there is a subordinate \textbf{partition of unity} $ \cbr{\lambda_\alpha : X \to \RR_{\ge 0}}_{\alpha \in A} $ such that
\begin{itemize}
\item $ \supp \lambda_\alpha = \cbr{x \in X \st \lambda_\alpha\br{x} \ne 0} \subseteq U_\alpha $,
\item for all $ x \in X $, $ \#\cbr{i \st x \in \supp \lambda_i} < \infty $, and
\item for all $ x \in X $, $ \sum_{\alpha \in A} \lambda_\alpha\br{x} = 1 $.
\end{itemize}
\end{lemma}

We will not prove this.

\begin{definition*}
An \textbf{inner product} on a vector bundle $ E \to X $ is a map $ \lambda : E \otimes E \to \RR $ such that for all $ x \in X $, $ \lambda_x : E_x \otimes E_x \to \RR $ is an inner product on $ E_x $.
\end{definition*}

\begin{lemma}
A vector bundle $ p : E \to X $ over a compact Hausdorff space admits an inner product. Moreover, $ E $ is globally generated by sections, so for all $ x \in X $ and $ \xi_x \in E_x $, there exists $ s : X \to E $ a section such that $ s\br{x} = \xi_x $, so $ p \circ s = \id_X $.
\end{lemma}

\begin{proof}
Fix a trivialising open cover $ \cbr{U_\alpha}_{\alpha \in A} $ for $ E $. Fix an inner product $ \abr{,} $ on $ \RR^d $ for $ d = \rk E $. Via $ \psi_\alpha : \eval{E}_{U_\alpha} \to U_\alpha \times \RR^d $, $ \abr{,} $ gives $ \abr{,}_\alpha $ an inner product on $ \eval{E}_{U_\alpha} $. If $ \cbr{\lambda_\alpha} $ is a partition of unity subordinate to $ \cbr{U_\alpha} $, for $ u \otimes v \in E \otimes E $ set
\begin{equation}
\label{eq:6}
\lambda\br{u \otimes v} = \abr{u, v} = \sum_{\alpha \in A} \lambda_\alpha\br{p\br{u}}\abr{u, v}_{\alpha}.
\end{equation}
Note that $ \abr{u, v}_\alpha $ is only defined if $ p\br{u} = p\br{v} \in U_\alpha $. But if this is not true, $ \lambda_\alpha\br{p\br{u}} = 0 $, so that is ok. Note $ \br{\ref{eq:6}} $ is a finite sum. It is easy to check this is an inner product. Similarly for global generation. If $ x \in U_\alpha $ and $ \xi_x \in E_x $, pick a section $ s_\alpha $ of $ \eval{E}_{U_\alpha} $ such that $ s_\alpha\br{x} = \xi_x $, such as a constant section with respect to the isomorphism
$$ \function{\eval{E}_{U_\alpha}}{U_\alpha \times \RR^d}{\xi_x}{\br{x, v}}. $$
Now let $ s = \sum_\alpha \lambda_\alpha s_\alpha $, a section of $ E $.
\end{proof}

\begin{corollary}
Let $ X $ be compact Hausdorff and $ E \to X $ a vector bundle of rank $ d $. Then there exists $ N > d $ and $ f : X \to \Gr\br{d; \RR^N} $ such that
\begin{equation}
\label{eq:7}
E \cong f^*E_{\taut}.
\end{equation}
\end{corollary}

We say the tautological bundle and the Grassmannian are \textbf{universal} for rank $ d $ bundles.

\begin{remark*}
There is a lot of choice here, such as of $ N $. If $ \Gr\br{d; \RR^\infty} = \bigcup_{N \ge d} \Gr\br{d; \RR^N} $ then there is a bijection
$$ \function{\cbr{\text{homotopy classes of maps} \ X \to \Gr\br{d; \RR^\infty}}}{\cbr{\text{rank} \ d \ \text{vector bundles over} \ X} / \cong}{f}{f^*E_{\taut}}. $$
See problem sheet $ 3 $.
\end{remark*}

\pagebreak

\begin{proof}
By compactness of $ X $, there exists a finite set $ \cbr{s_1, \dots, s_N} $ of sections of $ E $ such that for all $ x \in X $, $ \cbr{s_1\br{x}, \dots, s_N\br{x}} $ spans $ E_x \cong \RR^d $. Fix an inner product $ \abr{,} $ on $ E $ and consider
$$ \function[\alpha]{E}{X \times \RR^N}{\br{x, \xi}}{\br{x, \abr{s_1\br{x}, \xi}, \dots, \abr{s_N\br{x}, \xi}}}. $$
Then $ \alpha $ embeds $ E $ as a subbundle of a trivial bundle. We then define
$$ \function[f]{X}{\Gr\br{d; \RR^N}}{x}{\alpha\br{E_x} \subseteq \RR^N}, $$
and $ \br{\ref{eq:7}} $ holds by construction.
\end{proof}

Note that this also shows that if $ X $ is compact Hausdorff and $ E \to X $, there exists $ F \to X $ another subbundle such that $ E \oplus F $ is a trivial bundle, and $ F_x = \alpha\br{E_x}^\perp $ with respect to $ \abr{,}_{\RR^N} $.

\subsection{Thom classes and Euler classes}

\lecture{16}{Friday}{13/11/20}

Last time we discussed vector bundles $ E \to X $. Since $ E \simeq X $, it appears as if the cohomology of $ E $ has no new information. But in fact vector bundles are ubiquitous in part because they give rise to distinguished elements of cohomology. Note if $ E \to X $ has rank $ n $, then $ \H^n\br{E_x, E_x \setminus \cbr{0}} \cong \H^n\br{\RR^n, \RR^n \setminus \cbr{0}} \cong \H^{n - 1}\br{\S^{n - 1}} \cong \ZZ $.

\begin{definition*}
A rank $ n $ vector bundle $ E \to X $ is \textbf{oriented} if for all $ x \in X $ we fix a generator $ \epsilon_x \in \H^n\br{E_x, E_x \setminus \cbr{0}} $ and these vary locally trivially, so if $ x \in U \subseteq X $ is a trivialising open neighbourhood, then $ E_y \xrightarrow{\sim} E_x $ sends $ \epsilon_y \mapsfrom \epsilon_x $ for all $ y \in U $. Thus
$$
\begin{tikzcd}[row sep=tiny]
\eval{E}_U \arrow{r}{\sim} & U \times E_x \\
E_y \arrow[subset]{u} \arrow{r}[swap]{\sim} & \cbr{y} \times E_x \arrow[subset]{u}
\end{tikzcd}.
$$
\end{definition*}

\begin{notation*}
$ E^\# = E \setminus \cbr{\text{zero-section} \ X \subseteq E} $ and $ E_x^\# = E_x \setminus \cbr{0} $.
\end{notation*}

Note that can also make sense of $ E $ being $ R $-orientable or $ R $-oriented for a coefficient ring $ R $. Note if $ R = \FF_2 $, every $ E $ is $ \FF_2 $-oriented, as $ \H^\bullet\br{\RR^n, \RR^n \setminus \cbr{0}; \FF_2} \cong \ZZ / 2 $ has a unique generator.

\begin{remark*}
\hfill
\begin{itemize}
\item If $ E \to X $ is defined by transition cocycles $ g_{\alpha\beta} : U_\alpha \cap U_\beta \to \GL\br{n; \RR} $ and $ \im g_{\alpha\beta} \subseteq \GL^+\br{n; \RR} $ with positive determinant then $ E $ is orientable.
\item If $ M $ is a smooth manifold, $ M $ is orientable if and only if $ \T M $ is orientable.
\end{itemize}
\end{remark*}

\begin{theorem}[Thom isomorphism theorem]
\label{thm:thomisomorphism}
Let $ \pi : E \to X $ be an oriented vector bundle of rank $ n $.
\begin{itemize}
\item $ \H^k\br{E, E^\#} = 0 $ for $ k < n $.
\item There exists a unique element $ \u_E \in \H^n\br{E, E^\#} $ such that the restriction, pullback with respect to $ \br{E_x, E_x \setminus \cbr{0}} \hookrightarrow \br{E, E^\#} $, is $ \eval{\u_E}_{E_x} = \epsilon_x $ for all $ x $.
\item The map
$$ \function{\H^k\br{X}}{\H^{k + n}\br{E, E^\#}}{\alpha}{\pi^*\alpha \cdot \u_E} $$
is an isomorphism for all $ k $.
\end{itemize}
\end{theorem}

\begin{definition*}
$ \u_E \in \H^n\br{E, E^\#} $ is the \textbf{Thom class} of $ E $. Under
$$ \H^n\br{E, E^\#} \xrightarrow{\text{LES}} \H^n\br{E} \xrightarrow{\br{\text{zero-section}}^*} \H^n\br{X}, $$
$ \u_E $ maps to $ \e_E $, the \textbf{Euler class} of $ E $.
\end{definition*}

The upshot is an oriented vector bundle $ E \to X $ defines a class $ \e_E \in \H^{\rk E}\br{X} $. Note that if $ E \to X $ is oriented, and $ f : Y \to X $, then $ f^*E \to Y $ inherits an orientation via $ \br{E_y, E_y \setminus \cbr{0}} \xrightarrow{\sim} \br{E_{f\br{y}}, E_{f\br{y}} \setminus \cbr{0}} $. These isomorphisms vary locally trivially. Now the uniqueness part of the Thom isomorphism says
$$ \u_{f^*E} = \widehat{f}^*\u_E, \qquad \widehat{f} : \br{f^*E, f^*E^\#} \to \br{E, E^\#}. $$

\pagebreak

\begin{definition*}
If $ \PPP $ is a property, an assignment
$$ \function{\cbr{\PPP \ \text{vector bundles over} \ X}}{\H^\bullet\br{X}}{E}{c\br{E}}, $$
such that $ c\br{f^*E} = f^*c\br{E} $ for all $ f : X \to Y $ is called a \textbf{characteristic class} of $ \PPP $ vector bundles.
\end{definition*}

\begin{example*}
The Euler class is a characteristic class for oriented vector bundles.
\end{example*}

Characteristic classes give a global measure of the non-triviality of a vector bundle. Note if $ E = X \times \RR^d $ is trivial, $ E = f^*E_{\triv} $ for $ \RR^d = E_{\triv} $, so $ c\br{E} = f^*c\br{E_{\triv}} \in f^*\H^\bullet\br{\pt} $ is zero in $ \widetilde{\H^\bullet}\br{X} $.

\begin{lemma}
If an oriented vector bundle $ \pi : E \to X $ has a nowhere zero section, $ \e_E = 0 $.
\end{lemma}

\begin{proof}
Suppose $ s : X \to E $ has image in $ E^\# = E \setminus \cbr{\text{zero-section}} $. We have
$$
\begin{tikzcd}
X \arrow{r}{s} \arrow[bend right=30]{rr}[swap]{\id_X} & E^\# \subseteq E \arrow{r}{\pi} & X
\end{tikzcd},
$$
so $ \e_E \in \im \br{\H^k\br{E^\#} \to \H^k\br{X}} $ for $ k = \rk E $. But
$$
\begin{tikzcd}
\H^k\br{E, E^\#} \arrow{r} \arrow[bend left=30]{rr}{\u_E \mapsto 0} \arrow{dr}[swap]{\u_E \mapsto \e_E} & \H^k\br{E} \arrow{r} \arrow{d}{\iota^*} & \H^k\br{E^\#} \arrow{dl}{s^*} \\
& H^k\br{X} &
\end{tikzcd},
$$
so $ \e_E = 0 $.
\end{proof}

A caveat is that this is not quite as good as it looks.

\begin{lemma}
If $ E \to X $ is oriented and $ \rk E = d $ is odd, $ 2\e_E = 0 $.
\end{lemma}

\begin{proof}
The map
$$ \function[\alpha]{E}{E}{v}{-v} $$
acts by $ -1 $ on $ \H^d\br{E_x, E_x \setminus \cbr{0}} $ as it is a composition of $ d $ reflections, so $ \alpha^*\u_E = -\u_E $. But if $ s_0 : X \to E $ is the zero-section, $ \alpha \circ s_0 = s_0 $ and $ \eval{\u_E}_{s_0\br{x}} = \e_E \in \H^d\br{X} $. Combine these ingredients.
\end{proof}

So if $ \H^d\br{X} $ has no $ 2 $-torsion, $ \e_E = 0 $.

\subsection{The Gysin sequence}

Let $ E \to X $ be a vector bundle of rank $ d $. Suppose $ E $ admits an inner product, such as if $ X $ is compact Hausdorff. The \textbf{sphere bundle} is
$$ \S\br{E} = \cbr{e \in E \st \abr{e, e} = 1}. $$
Note $ \S\br{E} \hookrightarrow E^\# = E \setminus \cbr{\text{zero-section}} $ is a homotopy equivalence, so $ \S\br{E} $ is independent of the inner product $ \abr{,} $ up to homotopy equivalence. The map $ \S\br{E} \to X $ is a fibre bundle with fibre $ S^{d - 1} $. In general a \textbf{fibre bundle} $ p : Z \to X $ with fibre $ F $ is a map such that for all $ x \in X $ there exists an open $ x \in U \subseteq X $ and local trivialisations
$$
\begin{tikzcd}
p^{-1}\br{U} \arrow{rr}{\psi} \arrow{dr}[swap]{p} & & U \times F \arrow{dl}{\pi_1} \\
& U &
\end{tikzcd},
$$
such that $ \psi = p^{-1}\br{t} \xrightarrow{\sim} \cbr{t} \times F $ for all $ t \in U $.

\begin{remark*}
A vector bundle is not a fibre bundle with fibre $ \RR^d $.
\end{remark*}

\pagebreak

\begin{example*}
\hfill
\begin{itemize}
\item If $ X = \RR\PP^n $ and $ \LLL $ is tautological, then $ \S\br{\LLL} = \S^n \to \RR\PP^n $ has fibre $ \S^0 = \cbr{p, q} $.
\item If $ X = \CC\PP^n $ and $ \LLL $ is the tautological complex line bundle, then $ \S\br{\LLL} = \S^{2n + 1} \to \CC\PP^n $ has fibre $ \S^1 $.
\end{itemize}
\end{example*}

Consider the long exact sequence of $ \br{E, E^\#} $,
$$ \dots \to \H^i\br{E, E^\#} \to \H^i\br{E} \to \H^i\br{E^\#} \to \H^{i + 1}\br{E, E^\#} \to \dots. $$
But we can use the Thom isomorphism and homotopy invariance to rewrite this as
$$
\begin{tikzcd}
\dots \arrow{r} & \H^{i + d}\br{E, E^\#} \arrow{r} & \H^{i + d}\br{E} \arrow{r} & \H^{i + d}\br{E^\#} \arrow{r} & \H^{i + d + 1}\br{E, E^\#} \arrow{r} & \dots \\
\dots \arrow{r} & \H^i\br{X} \arrow{u}{\sim}[swap]{\text{Thom}} \arrow{r}[swap]{\phi} & \H^{i + d}\br{X} \arrow{u}{\sim}[swap]{\text{Homotopy}} \arrow{r} & \H^{i + d}\br{\S\br{E}} \arrow{u}{\sim}[swap]{\text{Homotopy}} \arrow{r} & \H^{i + 1}\br{X} \arrow{u}{\sim}[swap]{\text{Thom}} \arrow{r} & \dots
\end{tikzcd}.
$$
The map
$$ \function[\phi]{\H^i\br{X}}{\H^{i + d}\br{X}}{\alpha}{\alpha \cdot \e_E} $$
is cup-product with the Euler class of $ E $, which is
$$ \alpha \xrightarrow{\text{Thom}} \pi^*\alpha \cdot \u_E \xrightarrow{\text{LES}} \eval{\br{\pi^*\alpha \cdot \u_E}}_E \xrightarrow{s_0^*} \eval{s_0^*\pi^*\alpha \cdot \u_E}_X = \alpha \cdot \e_E, $$
where $ s_0 : X \to E $ is the zero-section.

\begin{definition*}
The \textbf{Gysin sequence} of the oriented vector bundle $ E \to X $ is the long exact sequence
$$ \dots \to \H^i\br{X} \xrightarrow{\cdot \e_E} \H^{i + d}\br{X} \to \H^{i + d}\br{\S\br{E}} \to \H^{i + 1}\br{X} \to \dots, $$
where $ d = \rk E $.
\end{definition*}

The latter map is sometimes called called integration over the fibre.

\begin{remark*}
Recall relative cup-product is $ \H^i\br{X, A} \oplus \H^i\br{X} \to \H^{i + j}\br{X, A} $. For any pair $ \br{X, A} $, the long exact sequence
$$ \dots \to \H^i\br{X, A} \to \H^i\br{X} \to \H^i\br{X} \to \H^{i + 1}\br{X, A} \to \dots $$
is a long exact sequence of $ \H^\bullet\br{X} $-modules, that is the maps in the exact sequence commute with cup-product by $ \H^\bullet\br{X} $.
\end{remark*}

\begin{corollary}
The Gysin sequence is a long exact sequence of left $ \H^\bullet\br{X} $-modules.
\end{corollary}

\begin{proof}
See problem sheet $ 3 $.
\end{proof}

\begin{example*}
If $ \LLL \to \CC\PP^n $ is tautological, then $ \LLL_v = \abr{v} \subseteq \CC^{n + 1} $, so
$$ \LLL = \cbr{\br{u, v} \in \CC^{n + 1} \times \CC\PP^n \st u \in \abr{v}}. $$
Claim that any complex vector bundle is canonically $ \ZZ $-oriented, as $ \GL\br{n; \CC} \hookrightarrow \GL\br{2n; \RR} $ lands in matrices of positive determinant. Also, $ \S\br{\LLL} \cong \S^{2n + 1} \subseteq \CC^{n + 1} $. Gysin for $ i \le 2n - 2 $ gives
$$
\begin{tikzcd}[row sep=tiny]
\H^{i + 1}\br{\S^{n + 1}} \arrow{r} \arrow[cong]{d} & \H^i\br{\CC\PP^n} \arrow{r}{\cdot \e_\LLL} & \H^{i + 2}\br{\CC\PP^n} \arrow{r} & \H^{i + 2}\br{\S^{2n + 1}} \arrow[cong]{d} \\
0 & & & 0
\end{tikzcd},
$$
and
$$ \H^\bullet\br{\CC\PP^n} =
\begin{cases}
\ZZ & \bullet = 0, 2, \dots, 2n - 2, 2n \\
0 & \text{otherwise}
\end{cases},
$$
so $ \H^\bullet\br{\CC\PP^n} \cong \ZZ\sbr{x} / \abr{x^{n + 1}} $ for $ \abs{x} = 2 $ where $ x = \e_\LLL $.
\end{example*}

\pagebreak

\begin{example*}
The \textbf{Stiefel manifold} is
$$ \V_k\br{\CC^n} = \cbr{\text{ordered $ k $-tuples of orthonormal vectors in} \ \CC^n} \subseteq \CC^n \times \dots \times \CC^n. $$
There is a tautological bundle $ E \to \V_k\br{\CC^n} $ such that $ \eval{E}_{\cbr{e_1, \dots, e_k}} = \abr{e_1, \dots, e_k} $.
\end{example*}

\begin{exercise*}
$ E $ is locally trivial.
\end{exercise*}

\begin{proposition}
$$ \H^\bullet\br{\V_k\br{\CC^n}} = \ext\br{a_{2n - 2k + 1}, a_{2n - 2k + 3}, \dots, a_{2n - 3}, a_{2n - 1}} $$
is the exterior algebra on generators $ a_i \in \H^i\br{\V_k\br{\CC^n}} $, that is free except for skew-commutativity.
\end{proposition}

\begin{proof}
Induct on $ k $.
\begin{itemize}
\item $ \V_1\br{\CC^n} \cong \S^{2n - 1} $ and
$$ \H^\bullet\br{\S^{2n - 1}} = \ext\br{a_{2n - 1}} = \ZZ\sbr{a_{2n - 1}} / \abr{a_{2n - 1}^2}. $$
\item Suppose the result holds for $ \V_k\br{\CC^n} $. There is a forgetful map
$$ \function{\V_{k + 1}\br{\CC^n}}{\V_k\br{\CC^n}}{\cbr{e_1, \dots, e_{k + 1}}}{\cbr{e_1, \dots, e_k}}, $$
which shows $ \V_{k + 1}\br{\CC^n} = \S\br{F} $, where $ F = E^\perp \to \V_k\br{\CC^n} $ with fibre the Hermitian orthogonal complement to $ E_x \subseteq \CC^n $. Note that $ F $ is a rank $ n - k $ complex bundle, so $ \e_F \in \H^{2n - 2k}\br{\V_k\br{\CC^n}} = 0 $, by induction, since
$$ \H^\bullet\br{\V_k\br{\CC^n}} = \ext\br{a_{2n - 2k + 1}, a_{2n - 2k + 3}, \dots, a_{2n - 3}, a_{2n - 1}}. $$
Gysin gives
$$ 0 \xrightarrow{\cdot \e_F} \H^i\br{\V_k\br{\CC^n}} \to \H^i\br{\V_{k - 1}\br{\CC^n}} \xrightarrow{\lambda} \H^{i - 2n + 2k + 1}\br{\V_k\br{\CC^n}} \xrightarrow{\cdot \e_F} 0. $$
Choose $ a_{2n - 2k - 1} \in \H^{2n - 2k - 1}\br{\V_{k + 1}\br{\CC^n}} $ such that $ \lambda\br{a_{2n - 2k - 1}} = 1 \in \H^0\br{\V_k\br{\CC^n}} $. Then
$$ \function{\H^\bullet\br{\V_k\br{\CC^n}} \oplus \H^\bullet\br{\V_k\br{\CC^n}}}{\H^\bullet\br{\V_{k + 1}\br{\CC^n}}}{\br{u, v}}{u + v \cdot a_{2n - 2k - 1}} $$
is a $ \H^\bullet\br{\V_k\br{\CC^n}} $-module isomorphism.
\end{itemize}
\end{proof}

Note that $ \V_n\br{\CC^n} = \U\br{n} $ is the unitary group. So
$$ \H^\bullet\br{\U\br{n}} = \ext\br{a_1, a_3, \dots, a_{2n - 3}, a_{2n - 1}}, $$
and $ \U\br{n} $ has the same cohomology ring as $ \S^1 \times \S^3 \times \dots \times \S^{2n - 3} \times \S^{2n - 1} $.

\begin{remark*}
Let
$$ \b_i\br{\U\br{n}} = \rk \H^i\br{\U\br{n}; \ZZ}, $$
the $ i $-th \textbf{Betti number}. Then
$$ \sum_{i \ge 0} \b_i\br{\U\br{n}}t^i = \prod_{i = 1}^n \br{1 + t^{2i - 1}}. $$
Quite often generating functions for cohomology have nice properties.
\end{remark*}

\pagebreak

\subsection{Proof of Thom isomorphism}

\lecture{17}{Monday}{16/11/20}

We will prove the Thom isomorphism under the hypothesis that $ X $ has a finite trivialising open cover for $ E $, such as if $ X $ is compact. To get the general case one then invokes Zorn's lemma. We will also assume all spaces are homotopy equivalent to finite cell complexes. The proof will be by induction on the number of sets of such a trivialising cover. The base case is a relative K\"unneth theorem. Recall that for K\"unneth, we showed
$$ \H^\bullet\br{X, A} \otimes \H^\bullet\br{Y} \xrightarrow{\sim} \H^\bullet\br{X \times Y, A \times Y}, $$
if $ \H^\bullet\br{Y} $ is finitely generated and free, and $ \br{X, A} $ is a cellular pair.

\begin{lemma}[Relative K\"unneth]
\label{lem:relativekunneth}
Suppose $ \H^\bullet\br{Y} $, $ \H^\bullet\br{B} $, and $ \H^\bullet\br{Y, B} $ are finitely generated and free. Then
0$$ \times : \H^\bullet\br{X} \otimes \H^\bullet\br{Y, B} \xrightarrow{\sim} \H^\bullet\br{X \times Y, X \times B} $$
is an isomorphism.
\end{lemma}

\begin{proof}
Consider
$$
\begin{tikzcd}
\H^\bullet\br{X} \otimes \H^\bullet\br{Y, B} \arrow{r}{\times} & \H^\bullet\br{X \times Y, X \times B} \\
\H^\bullet\br{X} \otimes \H^\bullet\br{Y / B, \pt} \arrow{u}{p^*} \arrow{r}[swap]{\times} & \H^\bullet\br{X \times Y / B, X \times \pt} \arrow{u}[swap]{\widehat{p}^*}
\end{tikzcd},
$$
where $ p : Y \to Y / B $ and $ \widehat{p} : X \times Y \to X \times Y / B $. Now $ \H^\bullet\br{Y, B} \cong \widetilde{\H^\bullet}\br{Y / B} $ and
$$ \H^\bullet\br{X \times Y, X \times B} \cong \widetilde{\H^\bullet}\br{\br{X \times Y} / \br{X \times B}} = \widetilde{\H^\bullet}\br{\br{X \times Y / B} / \br{X \times \pt}}, $$
a homeomorphism via $ \widehat{p} $, so it suffices to prove Lemma \ref{lem:relativekunneth} when $ B = \pt $. Now
$$ \H^\bullet\br{Y, \pt} \to \H^\bullet\br{Y} \to \H^\bullet\br{\pt} $$
splits, canonically if we choose a point of $ Y $, using
$$
\begin{tikzcd}
\pt \arrow[hookrightarrow]{r} \arrow[bend right=30]{rr}[swap]{\id} & Y \arrow{r} & \pt
\end{tikzcd}.
$$
So now can reduce to the $ 5 $-lemma. \footnote{Exercise: check}
\end{proof}

\begin{lemma}[Relative Mayer-Vietoris]
If $ \br{X, Y} = \br{A \cup B, C \cup D} $ there is a long exact sequence
$$ \dots \to \H^i\br{X, Y} \to \H^i\br{A, C} \oplus \H^i\br{B, D} \to \H^i\br{A \cap B, C \cap D} \to \H^{i + 1}\br{X, Y} \to \dots. $$
\end{lemma}

\begin{proof}
Write $ \C_\bullet^\UUU\br{X} = \C_\bullet\br{A + B} $ for $ \UUU = \cbr{A, B} $, simplices lying wholly in $ A $ or $ B $, and $ \C_\UUU^\bullet\br{X} = \C^\bullet\br{A + B} = \Hom\br{\C_\bullet\br{A + B}, \ZZ} $, so the inclusion $ \C_\bullet\br{A + B} \hookrightarrow \C_\bullet\br{X} $ and the restriction $ \C^\bullet\br{X} \to \C^\bullet\br{A + B} $ are isomorphisms on homology and cohomology, by small simplices. Consider
$$
\begin{tikzcd}
0 \arrow{r} & \C^n\br{X, Y} \arrow{r} \arrow{d}{\phi} & \C^n\br{Y} \arrow{r} \arrow{d}{\res} & \C^n\br{Y} \arrow{r} \arrow{d}{\res} & 0 \\
0 \arrow{r} & \C^n\br{A + B, C + D} = \ker \alpha \arrow{r} & \C^n\br{A + B} \arrow{r}[swap]{\alpha} & \C^n\br{C + D} \arrow{r} & 0
\end{tikzcd}.
$$
Both rows are exact. By the $ 5 $-lemma, $ \phi : \C^\bullet\br{X, Y} \to \C^\bullet\br{A + B, C + D} $ is an isomorphism on cohomology. Now consider the sequences
\begin{equation}
\label{eq:8}
0 \to \C^\bullet\br{A + B, C + D} \xrightarrow{\widetilde{\beta}} \C^\bullet\br{A, C} \oplus \C^\bullet\br{B, D} \to \C^\bullet\br{A \cap B, C \cap D} \to 0,
\end{equation}
dual to
$$ 0 \from \C_\bullet\br{A + B, C + D} \xleftarrow{\beta} \C_\bullet\br{A, C} \oplus \C_\bullet\br{B, D} \from \C_\bullet\br{A \cap B, C \cap D} \from 0. $$
Then $ \beta $ is onto as $ \C_\bullet\br{A + B, C + D} $ is free on simplices in $ A $ or $ B $ not wholly in $ C $ or $ D $, so $ \widetilde{\beta} $ is injective. So $ \br{\ref{eq:8}} $ is exact and the associated long exact sequence is the relative Mayer-Vietoris.
\end{proof}

\pagebreak

\begin{proof}[Proof of Theorem \ref{thm:thomisomorphism}]
\hfill
\begin{itemize}
\item The base case is $ E = X \times \RR^d $ and $ E^\# = X \times \RR^d \setminus \cbr{0} $. Then $ \H^\bullet\br{\RR^d, \RR^d \setminus \cbr{0}} $ is finitely generated and free so relative K\"unneth gives the isomorphism
$$ \function{\H^d\br{E, E^\#}}{\H^d\br{X} \otimes \H^d\br{\RR^d, \RR^d \setminus \cbr{0}}}{\u_E}{1 \otimes w_d}, $$
where $ w_d \in \H^d\br{\RR^d, \RR^d \setminus \cbr{0}} $ is the orientation generator. Now all parts of Thom are obvious.
\item For the inductive argument, assume the Thom isomorphism is proven for all oriented vector bundles over spaces $ Y $ such that $ Y $ has a finite trivialising cover for the bundle of less than $ k $ sets, and suppose $ E \to X $ has a trivialising cover with $ k $ sets. So there exists $ X = A \cup B $ such that $ \eval{E}_A $, $ \eval{E}_B $, and $ \eval{E}_{A \cap B} $ have a trivialising cover by at most $ k - 1 $ sets. Relative Mayer-Vietoris gives
$$
\begin{tikzcd}
\dots \arrow{r} & \H^{i - 1}\br{\eval{E}_{A \cap B}, \eval{E^\#}_{A \cap B}} \arrow{r} & \H^i\br{E, E^\#} \arrow[in=135, out=-45]{dl} & \\
& \H^i\br{\eval{E}_A, \eval{E^\#}_A} \oplus \H^i\br{\eval{E}_B, \eval{E^\#}_B} \arrow{r} & \H^i\br{\eval{E}_{A \cap B}, \eval{E^\#}_{A \cap B}} \arrow{r} & \dots
\end{tikzcd}.
$$
For $ i < d $,
$$ 0 \to \H^i\br{E, E^\#} \to 0, $$
so $ \H^i\br{E, E^\#} = 0 $. For $ i = d $,
$$ 0 \to \H^d\br{E, E^\#} \xrightarrow{\phi} \H^d\br{\eval{E}_A, \eval{E^\#}_A} \oplus \H^d\br{\eval{E}_B, \eval{E^\#}_B} \to \H^d\br{\eval{E}_{A \cap B}, \eval{E^\#}_{A \cap B}}. $$
Let $ \br{\u_{\eval{E}_A}, \u_{\eval{E}_B}} \in \H^d\br{\eval{E}_A, \eval{E^\#}_A} \oplus \H^d\br{\eval{E}_B, \eval{E^\#}_B} $. By uniqueness of Thom classes for $ \eval{E}_A $ and $ \eval{E}_B $, $ \u_{\eval{E}_A} $ and $ \u_{\eval{E}_B} $ have the same image in $ \H^d\br{\eval{E}_{A \cap B}, \eval{E^\#}_{A \cap B}} $, so there exists $ \u_E \in \H^d\br{E, E^\#} $ such that $ \phi\br{\u_E} = \br{\u_{\eval{E}_A}, \u_{\eval{E}_B}} $. Also since $ \phi $ is injective, $ \u_E $ is unique. Clearly $ \eval{\u_E}_{\br{E_x, E_x \setminus \cbr{0}}} = \epsilon_x $ is the orientation generator for all $ x \in X $ since this was true for $ \u_{\eval{E}_A} $ and $ \u_{\eval{E}_B} $, and $ A $ and $ B $ cover $ X $. It remains to show
$$ \function[T]{\H^i\br{X}}{\H^{i + d}\br{E, E^\#}}{\alpha}{\pi^*\alpha \cdot \u_E} $$
is an isomorphism for all $ i $. By $ 5 $-lemma, and induction, it suffices to prove the diagram
$$
\begin{tikzcd}[column sep=tiny]
\dots \arrow{r} & \H^i\br{\eval{E}_{A \cap B}, \eval{E^\#}_{A \cap B}} \arrow{r}{\da_{\MV}^*} & \H^{i + 1}\br{E, E^\#} \arrow{r} & \H^{i + 1}\br{\eval{E}_A, \eval{E^\#}_A} \oplus \H^{i + 1}\br{\eval{E}_B, \eval{E^\#}_B} \arrow{r} & \dots \\
\dots \arrow{r} & \H^{i - d}\br{A \cap B} \arrow{u}{T_{A \cap B}} \arrow{r}[swap]{\da_{\MV}^*} & \H^{i - d + 1}\br{X} \arrow{u}{T_X} \arrow{r} & \H^{i - d + 1}\br{A} \oplus \H^{i - d + 1}\br{B} \arrow{u}{T_A \oplus T_B} \arrow{r} & \dots
\end{tikzcd}
$$
commutes. Know $ T_{A \cap B} $ is an isomorphism by induction. Straightforward to see the right square commutes, and others like it. Let $ \phi \in \C^d\br{E, E^\#} $ be a cocycle representing $ \u_E $, so $ \eval{\phi}_{\eval{E}_A} $ represents $ \u_{\eval{E}_A} $. Let $ \sbr{\alpha} \in \H^{i - d}\br{A \cap B} $. Write $ \alpha = \psi_A - \psi_B $ for $ \psi_A \in \C^{i - d}\br{A} $ and $ \psi_B \in \C^{i - d}\br{B} $, so $ \da_{\MV}^*\br{\sbr{\alpha}} = \sbr{\da^*\br{\psi_A}} $. So
\begin{equation}
\label{eq:9}
T_X \circ \da_{\MV}^* : \alpha \mapsto \pi^*\br{\da^*\br{\psi_A}} \cdot \phi.
\end{equation}
Now $ \pi^*\alpha \cdot \u_{\eval{E}_{A \cap B}} = \pi^*\psi_A \cdot \eval{\phi}_{\eval{E}_A} - \pi^*\psi_B \cdot \eval{\phi}_{\eval{E}_B} $ is now expressed as a difference of chains in $ \C^i\br{\eval{E}_A, \eval{E^\#}_A} $ and $ \C^i\br{\eval{E}_B, \eval{E^\#}_B} $. So
\begin{equation}
\label{eq:10}
\da_{\MV}^* \circ T_{A \cap B} : \alpha \mapsto \da^*\br{\pi^*\psi_A \cdot \eval{\phi}_{\eval{E}_A}}.
\end{equation}
Now $ \br{\ref{eq:9}} = \br{\ref{eq:10}} $ using $ \pi^* \circ \da^* = \da^* \circ \pi^* $ and $ \da^*\br{\phi} = 0 $.
\end{itemize}
\end{proof}

\pagebreak

\section{Cohomology of manifolds}

\lecture{18}{Wednesday}{18/11/20}

We proved the Thom isomorphism theorem by induction over the open sets of a cover, reducing to local triviality. We would like to use or similar local-to-global approach to study $ \H^\bullet\br{M} $ for a manifold $ M $, using that $ M \cong \RR^n $ locally. But we first need a version of cohomology which is more interesting for $ \RR^n $ itself.

\subsection{Direct limits}

Let $ A $ be a poset such that for all $ a, b \in A $ there exists $ c $ such that $ a \le c $ and $ b \le c $. A \textbf{direct system} of groups indexed by $ A $ comprises
\begin{itemize}
\item $ \cbr{G_a}_{a \in A} $ for $ G_a $ abelian, and
\item $ \rho_{ab} : G_a \to G_b $ homomorphisms for all $ a \le b $ such that $ \rho_{bc} = \rho_{ab} = \rho_{ac} $ if $ a \le b \le c $ and $ \rho_{aa} = \id_{G_a} $.
\end{itemize}

\begin{definition*}
The \textbf{direct limit} of $ \cbr{G_a, \rho_{ab}} $ is the group
$$ \varinjlim_A G_a = \br{\bigoplus_{a \in A} G_a} / \abr{x - \rho_{ab}\br{x} \st x \in G_a, \ a \le b}. $$
\end{definition*}

Note that the underlying set of this group is $ \br{\bigsqcup_{a \in A} G_a} / \sim $ where $ x \sim \rho_{ij}\br{x} $ for all $ x \in G_i $ and $ i \le j $. The group operation is, given $ x \in G_a $ and $ y \in G_b $, pick $ c $ such that $ a \le c $ and $ b \le c $. Now $ x \sim \rho_{ac}\br{x} \in G_c $ and $ y \sim \rho_{bc}\br{y} \in G_c $, and
$$ \sbr{x} + \sbr{y} = \sbr{\rho_{ac}\br{x} + \rho_{bc}\br{y}}. $$
Note that if $ \Gamma \subseteq A $ has the property that for all $ a \in A $, there exists $ \alpha \in \Gamma $ such that $ a \le \alpha $, we say $ \Gamma $ is \textbf{cofinal}, and then $ \varinjlim_A G_a = \varinjlim_\Gamma G_a $.

\begin{example*}
Let $ A = \NN $, let $ G_a = \ZZ / p^a $ for a fixed prime $ p $, and let $ \rho_{a, a + 1} : \ZZ / p^a \to \ZZ / p^{a + 1} $ be multiplication by $ p $. Then
$$ \varinjlim_A G_a = \ZZ\br{p^\infty} = \cbr{z \in \S^1 \st z \ \text{is a $ p^n $-th root of unity for some} \ n}, $$
the \textbf{Pr\"ufer group}.
\end{example*}

\begin{example*}
Let $ A = \NN $. Take a new partial order $ \le_{\div} $ on $ \NN $ such that $ m \le_{\div} n $ if and only if $ m \mid n $. Let $ G_a = \ZZ $ for all $ a $, and $ \rho_{ab} : \ZZ \to \ZZ $ be multiplication by $ b / a $. Then $ \varinjlim_A G_a \cong \QQ $. Indeed, for $ \le_{\div} $, the numbers $ 1!, 2!, \dots $ are cofinal, so
$$ \varinjlim_\NN G_a = \varinjlim_n G_{n!} = \varinjlim \br{\ZZ \xrightarrow{2} \ZZ \xrightarrow{3} \ZZ \to \dots} \cong \varinjlim \br{\ZZ \xrightarrow{\id} \dfrac{1}{2!}\ZZ \xrightarrow{\id} \dfrac{1}{3!}\ZZ \to \dots} = \bigcup_n \dfrac{1}{n!}\ZZ = \QQ. $$
\end{example*}

\subsection{Cohomology with compact supports}

Let $ X $ be a space and $ K_1, K_2 \subseteq X $ compact subsets. If $ K_1 \subseteq K_2 $, then $ X \setminus K_1 \supseteq X \setminus X_2 $, so there exists an inclusion of pairs $ \br{X, X \setminus K_2} \hookrightarrow \br{X, X \setminus K_1} $. Thus there exists a natural map $ \H^\bullet\br{X, X \setminus K_1} \to \H^\bullet\br{X, X \setminus K_2} $.

\begin{definition*}
The \textbf{cohomology with compact supports} is
$$ \Hc^\bullet\br{X} = \varinjlim_\KKK \H^\bullet\br{X, X \setminus K}, $$
where $ \KKK = \cbr{\text{compact subsets of} \ X} $, partially ordered by inclusion.
\end{definition*}

\begin{remark*}
We could also define
\begin{align*}
\C_{\ct}^\bullet\br{X}
& = \cbr{\phi \in \C^\bullet\br{X} \st \exists K \subseteq X \ \text{compact}, \ \eval{\phi}_{X \setminus K} \equiv 0} \\
& = \cbr{\phi \in \C^\bullet\br{X} \st \exists K \subseteq X \ \text{compact}, \ \forall \sigma : \Delta^k \to X \setminus K, \ \phi\br{\sigma} = 0}.
\end{align*}
Then $ \da^* $ preserves $ \C_{\ct}^\bullet\br{X} $ and $ \H^\bullet\br{\C^\bullet\br{X}, \da^*} = \Hc^\bullet\br{X} $.
\end{remark*}

\pagebreak

\begin{example*}
If $ X $ is compact, there is a final element in the poset $ \KKK $, namely $ X $, so
$$ \varinjlim_\KKK \H^\bullet\br{X, X \setminus K} = \H^\bullet\br{X, X \setminus X} = \H^\bullet\br{X, \emptyset} = \H^\bullet\br{X}. $$
Thus $ \Hc^\bullet\br{X} = \H^\bullet\br{X} $.
\end{example*}

\begin{example*}
$$ \Hc^j\br{\RR^n} \cong
\begin{cases}
\ZZ & j = n \\
0 & \text{otherwise}
\end{cases}.
$$
Every compact $ K $ lies in $ \overline{\B}\br{0, N} = \cbr{\norm{x} \le N} $ for some $ N $, so
$$ \varinjlim_\KKK \H^\bullet\br{\RR^n, \RR^n \setminus K} = \varinjlim_N \H^\bullet\br{\RR^n, \RR^n \setminus \overline{\B}\br{0, N}}. $$
But
$$
\begin{tikzcd}
\H^\bullet\br{\RR^n, \RR^n \setminus \overline{\B}\br{0, N}} \arrow{r}{\iota^*} \arrow{d}{\sim}[swap]{\text{LES, Homotopy}} & \H^\bullet\br{\RR^n, \RR^n \setminus \overline{\B}\br{0, N + 1}} \arrow{d}{\text{LES, Homotopy}}[swap]{\sim} \\
\H^\bullet\br{\S^{n - 1}} \arrow{r}[swap]{\id} & \H^\bullet\br{\S^{n - 1}}
\end{tikzcd},
$$
so
$$ \Hc^n\br{\RR^n} = \varinjlim_N \br{\ZZ \xrightarrow{\id} \ZZ \xrightarrow{\id} \ZZ \to \dots} \cong \ZZ. $$
\end{example*}

\begin{remark*}
\hfill
\begin{itemize}
\item $ \Hc^\bullet\br{\pt} \not\cong \Hc^\bullet\br{\RR^n} $, so cohomology with compact supports is not homotopy invariant.
\item Cohomology with compact supports is not functorial under general continuous maps.
\begin{itemize}
\item If $ f : X \to Y $ is \textbf{proper}, that is $ f $ is closed map and $ f^{-1} $ of compact is compact, then there exists $ f^* : \Hc^\bullet\br{Y} \to \Hc^{\bullet}\br{X} $.
\item If $ \iota : U \hookrightarrow M $ is the inclusion of an open set in a Hausdorff space $ M $, so compact sets are closed, there is an \textbf{extension-by-zero} pushforward $ \iota_* : \Hc^\bullet\br{U} \to \Hc^\bullet\br{M} $. Indeed, if $ K \subseteq U $ is compact, $ K \subseteq M $ is compact, and $ \H^\bullet\br{M, M \setminus K} \cong \H^\bullet\br{U, U \setminus K} $ by excision. Since there are more compact sets in $ M $ than in $ U $, get a map
$$ \varinjlim_{K \subseteq U} \H^\bullet\br{U, U \setminus K} \to \varinjlim_{K \subseteq M} \H^\bullet\br{M, M \setminus K}, $$
via the inclusion of posets $ \KKK_U \hookrightarrow \KKK_M $.
\end{itemize}
\end{itemize}
\end{remark*}

\begin{remark*}
If $ \sigma : \Delta^k \to X $ and $ \phi \in \C_{\ct}^k\br{U} $ lies in $ \C^k\br{U, U \setminus K} $, subdivide $ \sigma $ into $ \sum_j \sigma_j $ such that each $ \sigma_j $ lies inside $ U $ or outside $ K $, and make $ \phi $ vanish on all the latter.
\end{remark*}

\begin{example*}
If $ \iota : U \hookrightarrow \RR^n $ is inclusion of an open disc, $ \iota_* : \Hc^n\br{U} \to \Hc^n\br{\RR^n} $ is an isomorphism. By transition and rescaling homeomorphisms, without loss of generality $ 0 \in U \subseteq \B\br{0, 1} $. Now
$$ \Hc^\bullet\br{U} = \varinjlim_n \H^\bullet\br{U, U \setminus \overline{\B}\br{0, 1 - \dfrac{1}{n}}} \xrightarrow{\sim} \varinjlim_k \H^\bullet\br{\RR^n, \RR^n \setminus \overline{\B}\br{0, k}}. $$
\end{example*}

\begin{proposition}
Let $ X $ be a locally compact Hausdorff space. If $ X = U \cup V $ is a union of open sets, we have a Mayer-Vietoris sequence
$$ \dots \to \Hc^i\br{U \cap V} \to \Hc^i\br{U} \oplus \Hc^i\br{V} \to \Hc^i\br{X} \to \Hc^{i + 1}\br{U \cap V} \to \dots. $$
\end{proposition}

Note the direction of the arrows. Contrast to the usual cohomology Mayer-Vietoris. But given degrees, also not like homology Mayer-Vietoris either.

\pagebreak

\begin{remark*}
The direct limit of exact sequences is exact. See question sheet $ 4 $.
\end{remark*}

\begin{proof}
Recall if $ \br{X, Y} = \br{A \cup B, C \cup D} $, we have relative Mayer-Vietoris
$$ \dots \to \H^i\br{X, Y} \to \H^i\br{A, C} \oplus \H^i\br{B, D} \to \H^i\br{A \cap B, C \cap D} \to \H^{i + 1}\br{X, Y} \to \dots. $$
Suppose $ X = U \cup V $, and $ K \subseteq U $ and $ L \subseteq V $ are compact. Set $ A = B = X $, $ C = X \setminus K $, $ D = X \setminus L $, and $ Y = C \cup D = X \setminus \br{K \cap L} $, so $ C \cap D = X \setminus \br{K \cup L} $. Then
$$
\begin{tikzcd}
\dots \arrow{r} & \H^i\br{X, X \setminus K \cap L} \arrow{r} & \H^i\br{X, X \setminus K} \oplus \H^i\br{X, X \setminus L} \arrow[in=135, out=-45]{dl} & \\
& \H^i\br{X, X \setminus K \cup L} \arrow{r} & \H^{i + 1}\br{X, X \setminus K \cap L} \arrow{r} & \dots
\end{tikzcd}.
$$
Excise $ X \setminus U \cap V $, $ X \setminus U $ and $ X \setminus V $ from $ X $ in the first three places to get
$$
\begin{tikzcd}
\dots \arrow{r} & \H^i\br{U \cap V, U \cap V \setminus K \cap L} \arrow{r} & \H^i\br{U, U \setminus K} \oplus \H^i\br{V, V \setminus L} \arrow[in=135, out=-45]{dl} & \\
& \H^i\br{X, X \setminus K \cup L} \arrow{r} & \H^{i + 1}\br{U \cap V, U \cap V \setminus K \cap L} \arrow{r} & \dots
\end{tikzcd}.
$$
Now
\begin{itemize}
\item each compact set $ Q \subseteq U \cap V $ has the form $ K \cap L $ for $ K \subseteq U $ and $ L \subseteq V $ compact, so $ Q = K = L $, and
\item every compact set in $ X $ is contained in $ K \cup L $ for some compact $ K \subseteq U $ and $ L \subseteq V $, since $ X $ is locally compact.
\end{itemize}
Note that $ X $ is locally compact, so for all $ C \subseteq X $ compact, $ C $ has a finite cover by compact sets $ C_i $ such that for all $ i $ and $ j $, $ C_i \in U $ or $ C_j \in V $ and $ \cbr{\mathring{C_i}} $ over $ C $. Now take the limit of $ X \subseteq U $ compact and the limit of $ L \subseteq V $ compact, and use the remark.
\end{proof}

\begin{definition*}
A manifold $ M $ has \textbf{finite type} if, for some $ N $, one can write $ M = \bigcup_{i = 1}^N U_i $ such that every iterated intersection $ U_{i_1} \cap \dots \cap U_{i_k} $ for $ k \ge 1 $ is empty or homeomorphic to $ \RR^n $. Call such a cover a \textbf{good cover}.
\end{definition*}

\begin{fact*}
If $ M $ is a closed smooth manifold, or the interior of a compact smooth manifold with boundary, then $ M $ has finite type. Use a cover by geodesically convex balls for some Riemannian metric.
\end{fact*}

\begin{proposition}
Let $ M $ be a manifold of finite type, and of dimension $ n $.
\begin{enumerate}
\item $ \Hc^i\br{M} = 0 $ for all $ i > n $, and $ \Hc^i\br{M} $ is finitely generated for all $ i $.
\item If $ M $ is connected, $ \Hc^n\br{M} $ is cyclic, and for $ \iota : U \hookrightarrow M $ the inclusion of an open disc, $ \iota_* : \Hc^n\br{U} \twoheadrightarrow \Hc^n\br{M} $ is onto.
\end{enumerate}
\end{proposition}

\begin{proof}
Induct on the number of sets in a good cover. If that number is $ N = 1 $, then $ M \cong \RR^n $ and we already know the result. For induction, let $ M = U \cup V $ for $ U $ and $ V $ of lower type. In fact without loss of generality $ U \cong \RR^n $. Then
$$ \dots \to \Hc^i\br{U \cap V} \to \Hc^i\br{U} \oplus \Hc^i\br{V} \to \Hc^i\br{M} \to \Hc^{i + 1}\br{U \cap V} \to \dots. $$
\begin{enumerate}
\item Immediate by exactness, and using that if $ G $ and $ H $ are abelian groups and $ H $ and $ G / H $ are finitely generated then so is $ G $.
\item Since $ M $ is connected, $ U \cap V \ne \emptyset $. Take a disc $ D \hookrightarrow U \cap V \hookrightarrow U \cong \RR^n \hookrightarrow M $. So $ \Hc^n\br{D} \xrightarrow{\sim} \Hc^n\br{U} $, so $ \Hc^n\br{U \cap V} \twoheadrightarrow \Hc^n\br{U} $ is onto. Thus $ \Hc^n\br{V} \twoheadrightarrow \Hc^n\br{M} $ is onto by exactness, and $ \Hc^n\br{V} $ is cyclic by induction.
\end{enumerate}
\end{proof}

\pagebreak

\begin{corollary}
If $ M $ is a closed smooth manifold,
\begin{enumerate}
\item $ \H^i\br{M} = 0 $ unless $ i \in \cbr{0, \dots, n = \dim M} $, and
\item $ \H^n\br{M} $ has rank zero or one.
\end{enumerate}
\end{corollary}

\begin{remark*}
$ 1 $ follows from the fact that $ M $ is homotopy equivalent to an $ n $-dimensional finite cell complex, but $ 2 $ is really something new and special to manifolds.
\end{remark*}

\begin{example*}
This implies there is no compact manifold homotopy equivalent to $ \S^n \vee \S^n $.
\end{example*}

\subsection{Oriented manifolds}

\lecture{19}{Friday}{20/11/20}

\begin{definition*}
A \textbf{local orientation} of $ M $ at $ x $ is a choice of generator $ \epsilon_x \in \H_n\br{M, M \setminus X} $, which by excision is $ \H_n\br{U, U \setminus X} \cong \ZZ $ where $ U $ is a disc neighbourhood of $ x $.
\end{definition*}

\begin{definition*}
The topological manifold $ M $ is \textbf{oriented} if we can choose local orientations $ \epsilon_x \in \H_n\br{M, M \setminus X} $ for all $ x \in M $ such that if $ \phi : U \xrightarrow{\sim} \RR^n $ for $ U \subseteq M $ open is any chart,
$$
\begin{tikzcd}
\H_n\br{M, M \setminus \cbr{p}} \arrow{r}{\text{Excision}}[swap]{\sim} \arrow[dashed]{d} & \H_n\br{U, U \setminus \cbr{p}} \arrow{r}{\phi}[swap]{\sim} & \H_n\br{\RR^n, \RR^n \setminus \cbr{\phi\br{p}}} \arrow{d}{\text{Translation}}[swap]{\sim} \\
\H_n\br{M, M \setminus \cbr{q}} & \H_n\br{U, U \setminus \cbr{q}} \arrow{l}{\text{Excision}}[swap]{\sim} \arrow{r}{\sim}[swap]{\phi} & \H_n\br{\RR^n, \RR^n \setminus \cbr{\phi\br{q}}}
\end{tikzcd}
$$
sends $ \epsilon_p \mapsto \epsilon_q $ for all $ p, q \in U $.
\end{definition*}

\begin{definition*}
Let $ U, V \subseteq \RR^n $ be open, and $ f : U \to V $ a homeomorphism. We say $ f $ is \textbf{orientation-preserving} if for all $ x \in U $ and $ f\br{x} \in V $, the map
$$
\begin{tikzcd}
\H_n\br{\RR^n, \RR^n \setminus \cbr{0}} \arrow{r}{\text{Translation}}[swap]{\sim} \arrow[dashed]{d} & \H_n\br{\RR^n, \RR^n \setminus \cbr{x}} \arrow{r}{\text{Excision}}[swap]{\sim} & \H_n\br{U, U \setminus \cbr{x}} \arrow{d}{f_*} \\
\H_n\br{\RR^n, \RR^n \setminus \cbr{0}} & \H_n\br{\RR^n, \RR^n \setminus \cbr{f\br{x}}} \arrow{l}{\text{Translation}}[swap]{\sim} & \H_n\br{V, V \setminus \cbr{f\br{x}}} \arrow{l}{\text{Excision}}[swap]{\sim}
\end{tikzcd}
$$
is the identity.
\end{definition*}

\begin{lemma}
$ M $ is \textbf{orientable}, that is admits an orientation $ \cbr{\epsilon_x}_{x \in M} $, if and only if it admits an atlas
$$ \cbr{\br{U_\alpha, \phi_\alpha : U_\alpha \xrightarrow{\sim} \RR^n} \st \bigcup_\alpha U_\alpha = M}, $$
such that the transition maps are orientation-preserving homeomorphisms of open subsets of $ \RR^n $.
\end{lemma}

\begin{proof}
Given an orientation-preserving atlas, and $ x \in U_\alpha $, define $ \epsilon_x $ via
$$ \H_n\br{M, M \setminus \cbr{x}} \cong \H_n\br{U_\alpha, U_\alpha \setminus \cbr{x}} \cong \H_n\br{\RR^n, \RR^n \setminus \cbr{\phi_\alpha\br{x}}} \xrightarrow{\text{Translation}} \H_n\br{\RR^n, \RR^n \setminus \cbr{0}}, $$
where $ \epsilon_{\pt} \in \H_n\br{\RR^n, \RR^n \setminus \cbr{0}} $ is fixed once and for all. The atlas being orientation-preserving implies that $ \epsilon_x $ independent of the choice of $ U_\alpha \ni x $.
\end{proof}

\begin{example*}
Suppose $ U, V \subseteq \RR^n $ are open and $ f : U \to V $ is a diffeomorphism. Then $ f $ is locally approximated by $ \eval{\D f}_x : \T_xU \to \T_{f\br{x}}V $. For example, with respect to the standard metric, the exponential map identifies open neighbourhoods $ U \supseteq U' \ni x $ and $ V \supseteq V' \ni f\br{x} $ with open balls in $ \T_xU $ and $ \T_{f\br{x}}V $. Can use this to show $ f $ is orientation-preserving at $ x $ if and only if $ \eval{\D f}_x $ has positive determinant. In particular if $ U, V \subseteq \CC^n $ and $ f $ is holomorphic, it preserves the canonical local orientations.
\end{example*}

\begin{remark*}
$ \H_n\br{U, U \setminus \cbr{x}}^* \cong \H^n\br{U, U \setminus \cbr{x}} \cong \Hc^n\br{U} $. So one can also define orientability by choosing generators $ \epsilon_U \in \Hc^n\br{U} $ for all open discs $ U \subseteq M $, which have the compatibility that if $ U \subseteq V \subseteq M $ then $ \epsilon_U \mapsto \epsilon_V $ under extension-by-zero. And a homeomorphism $ f : \RR^n \xrightarrow{\sim} \RR^n $ is orientation-preserving if and only if it acts by the identity on $ \Hc^n\br{\RR^n} $.
\end{remark*}

\pagebreak

\begin{theorem}
Let $ M $ be a connected $ n $-manifold of finite type.
\begin{enumerate}
\item If $ M $ is oriented, there exists a unique isomorphism $ \eta : \Hc^n\br{M} \xrightarrow{\sim} \ZZ $ such that for each open disc $ \iota : U \subseteq M $,
$$ \function[\eta \circ \iota_*]{\Hc^n\br{U}}{\ZZ}{\epsilon_U}{1}. $$
\item If $ M $ is not orientable,
$$ \Hc^n\br{M} \cong \ZZ / 2. $$
\end{enumerate}
\end{theorem}

In de Rham cohomology, $ \eta $ is integration over $ M $. Equivalently in $ 1 $, for all $ x \in M $ in a chart $ \cbr{\br{U, \phi}} $ of an orientation-preserving atlas, $ \epsilon_x^+ \mapsto 1 $ via
$$ \H_n\br{M, M \setminus \cbr{x}}^* \xrightarrow{\text{Excision}} \H_n\br{U, U \setminus \cbr{x}}^* \xrightarrow{\sim} \H^n\br{U, U \setminus \cbr{x}} \xrightarrow{\sim} \Hc^n\br{U} \xrightarrow{\iota_*} \Hc^n\br{M} \xrightarrow{\eta} \ZZ. $$

\begin{proof}
Take a finite good cover $ M = \bigcup_{i = 1}^N U_i $, and set $ W_i = U_1 \cup \dots \cup U_i $. Suppose for induction $ W_i $ is oriented. Write $ W_i \cap U_{i + 1} = V_1 \sqcup \dots \sqcup V_p $ for connected components, each of lower type. Mayer-Vietoris gives
$$
\begin{tikzcd}[row sep=tiny]
\dots \arrow{r} & \Hc^n\br{V_1} \oplus \dots \oplus \Hc^n\br{V_p} \arrow{r} \arrow[cong]{d} & \Hc^n\br{W_i} \oplus \Hc^n\br{U_{i + 1}} \arrow{r}{\alpha} \arrow[cong]{d} & \Hc^n\br{W_{i + 1}} \arrow{r} & 0 \\
& \ZZ \oplus \dots \oplus \ZZ \arrow[dashed]{r}[swap]{\phi} & \ZZ \oplus \ZZ & &
\end{tikzcd}.
$$
Let $ w_i \in \Hc^n\br{V_i} $ be a generator such that $ \phi\br{w_i} = \br{1, \epsilon_i} $ for $ \epsilon_i \in \cbr{\pm 1} $ and $ 1 \in \eta_{w_i} : \Hc^n\br{W_i} \xrightarrow{\sim} \ZZ $, which is known.
\begin{enumerate}[leftmargin=0.5in, label=Case \arabic*.]
\item All $ \epsilon_i $ are equal. Define the orientation of $ U_{i + 1} $ such that $ \epsilon_i = 1 $ for all $ i $. Then $ \alpha\br{1, 0} = \alpha\br{0, 1} $ is an orientation generator for $ \Hc^n\br{W_{i + 1}} \cong \ZZ $, by exactness. Inductively, $ W_{i + 1} $ is oriented, and if we reach $ W_N = M $ we win.
\item $ \epsilon_i $ takes both values $ \pm 1 $. Then $ \im \phi = \abr{\br{1, 1}, \br{1, -1}} $, so $ \Hc^n\br{W_{i + 1}} \cong \ZZ / 2 $. For $ j > i + 1 $, $ W_{j + 1} = W_j \cup U_{j + 1} $, and $ W_j \cap U_{j + 1} = V_1' \sqcup \dots \sqcup V_q' $,
$$
\begin{tikzcd}[row sep=tiny]
\dots \arrow{r} & \Hc^n\br{V_1'} \oplus \dots \oplus \Hc^n\br{V_p'} \arrow{r} \arrow[cong]{d} & \Hc^n\br{W_j} \oplus \Hc^n\br{U_{j + 1}} \arrow{r}{\alpha} \arrow[cong]{d} & \Hc^n\br{W_{j + 1}} \arrow{r} & 0 \\
& \ZZ \oplus \dots \oplus \ZZ \arrow[dashed]{r}[swap]{\phi} & \ZZ / 2 \oplus \ZZ & &
\end{tikzcd},
$$
inductively. Now orient each $ V_i' $ such that $ \phi\br{\epsilon_i} = \br{\lambda_i, 1} $. By last time, for any finite type manifold $ W $ and disc $ U \subseteq W $, $ \Hc^n\br{U} \twoheadrightarrow \Hc^n\br{W} $ is onto, so all $ \lambda_i = 1 \in \ZZ / 2 $ and $ \Hc^n\br{W_{i + 1}} \cong \ZZ / 2 $, that is the $ \ZZ / 2 $ persists.
\end{enumerate}
\end{proof}

\subsection{Cup-product on manifolds}

We now get a beautiful geometric description of cup-product on a smooth closed manifold.

\begin{theorem}[Tubular neighbourhood theorem]
Let $ M $ be a smooth manifold and $ Y \subseteq M $ a compact smooth submanifold. There is an open neighbourhood $ U_Y $ of $ Y $ in $ M $ and a diffeomorphism
$$
\begin{tikzcd}[row sep=tiny]
U_Y \arrow{r}{\phi} & \nu_{Y / M} \\
Y \arrow[subset]{u} \arrow{r}[swap]{\id} & \text{zero-section} \arrow[subset]{u}
\end{tikzcd},
$$
where $ \nu_{Y / M} $ is the normal bundle $ \br{\nu_{Y / M}}_y = \T_yM / \T_yY $. Moreover both $ U_Y $ and $ \phi $ are unique up to isotopy.
\end{theorem}

\pagebreak

\begin{definition*}
$ Y \subseteq M $ is \textbf{co-oriented} if $ \nu_{Y / M} $ is oriented, as a vector bundle. The rank $ \dim M - \dim Y $ of $ \nu_{Y / M} $ is the \textbf{codimension} of $ Y $ in $ M $.
\end{definition*}

\begin{definition*}
Smooth manifolds $ Y, Z \subseteq M $ intersect \textbf{transversely} if for all $ x \in Y \cap Z $,
$$ \T_xY + \T_xZ = \T_xM. $$
\end{definition*}

\begin{remark*}
If $ Y, Z \subseteq M $ intersect transversely, $ Y \cap Z $ is a smooth submanifold of $ M $, and
$$ \codim \br{Y \cap Z} = \codim Y + \codim Z, \qquad \nu_{\br{Y \cap Z} / M} \cong \eval{\nu_{Y / M}}_{Y \cap Z} \oplus \eval{\nu_{Z / M}}_{Y \cap Z}. $$
There are tubular neighbourhoods $ U_{Y \cap Z} = U_Y \cap U_Z $ compatible with this decomposition, that is $ U_{Y \cap Z, p} \cong U_{Y, p} \times U_{Z, p} $.
\end{remark*}

\begin{definition*}
Let $ Y \subseteq M $ be a compact co-oriented smooth submanifold of codimension $ k $. We define
$$ \H^k\br{\nu_Y, \nu_Y^\#} \xrightarrow{\sim} \H^k\br{U_Y, U_Y \setminus Y} \xrightarrow{\text{Excision}} \H^k\br{M, M \setminus Y} \to \Hc^k\br{M}, $$
mapping $ \u_{\nu_Y} $ to $ \epsilon_Y $, the \textbf{cohomology class} associated to $ Y $.
\end{definition*}

\begin{example*}
Suppose $ Y = \pt \hookrightarrow M^n $, an oriented $ n $-manifold. Then $ \epsilon_{\pt} \in \Hc^n\br{M} \cong \ZZ $, fixed by orientation, is the orientation generator, that is $ \epsilon_{\pt} = 1 \in \ZZ $.
\end{example*}

Observe that if $ Y $ and $ Z $ are co-oriented, and intersect transversely, an ordering of $ Y $ and $ Z $ defines a co-orientation of $ Y \cap Z $, by question sheet $ 4 $.

\begin{proposition}[Cup-product is dual to intersection]
\label{prop:cupintersection}
If $ Y $ and $ Z $ are smooth closed co-oriented submanifolds of a manifold $ M $, which intersect transversely, then
$$ \epsilon_{Y \cap Z} = \epsilon_Y \cdot \epsilon_Z, $$
so cup-product is given by transverse intersection.
\end{proposition}

\begin{remark*}
$$ \epsilon_Y \cdot \epsilon_Z = \br{-1}^{\codim Y \cdot \codim Z}\epsilon_Z \cdot \epsilon_Y. $$
Recall $ \nu_{Y \cap Z} \cong \nu_Y \oplus \nu_Z $. Re-ordering $ Y $ and $ Z $ changes the co-orientation on $ Y \cap Z $ compatibly with Proposition \ref{prop:cupintersection}.
\end{remark*}

\begin{corollary}
If $ Y $ and $ Z $ are oriented smooth submanifolds of an oriented closed $ M $, and $ Y \cap Z = \pt $, transversely, then $ \epsilon_Y \cdot \epsilon_Z = \pm 1 \in \H^n\br{M} \cong \ZZ $, in particular $ \epsilon_Y $ and $ \epsilon_Z $ are non-zero. On the other hand, if $ Y \cap Z = \emptyset $, then $ \epsilon_Y \cdot \epsilon_Z = 0 $.
\end{corollary}

This is a very powerful way of computing cohomology rings.

\begin{example*}
In $ \CC\PP^2 $, two lines $ \sbr{x, y, 0} $ and $ \sbr{0, y, z} $ meet at one point, transversely, since in a chart $ y = 1 $ it looks like $ \CC_x \cup \CC_z = \CC_{xz}^2 $ as coordinate axes. So $ \epsilon_{l_1} \cdot \epsilon_{l_2} = 1 \in \H^4\br{\CC\PP^2} \xrightarrow{\sim} \ZZ $. But the space of lines is connected, so $ \epsilon_{l_1} = \epsilon_{l_2} \in \H^2\br{\CC\PP^2} $. So
$$ \H^\bullet\br{\CC\PP^2} = \ZZ\sbr{\epsilon_l} / \abr{\epsilon_l^3}. $$
\end{example*}

\begin{example*}
In $ \CC\PP^2 \# \CC\PP^2 $, let $ \epsilon_{l_1} = x $ and $ \epsilon_{l_2} = y $. Then $ x \cdot x = y \cdot y = 1 = \epsilon_{\pt} $ and $ x \cdot y = 0 $, so
$$ \H^\bullet\br{\CC\PP^2 \# \CC\PP^2} = \ZZ\sbr{x, y} / \abr{x^2 = y^2, \ xy = 0, \ x^3 = y^3 = 0}. $$
\end{example*}

\begin{example*}
In $ \CC\PP^1 \times \CC\PP^1 $, $ \epsilon_{l \times \pt} = \epsilon_{\pt \times l} = \epsilon_{\pt} = 1 $. But $ \epsilon_{l \times \pt} \cdot \epsilon_{l \times \pt} = 0 $ as $ \br{\CC\PP^1 \times \cbr{p}} \cap \br{\CC\PP^1 \times \cbr{q}} = \emptyset $ if $ p \ne q $, so
$$ \H^\bullet\br{\CC\PP^1 \times \CC\PP^1} = \ZZ\sbr{x, y} / \abr{x^2 = y^2 = 0}. $$
\end{example*}

\pagebreak

\begin{proof}[Proof of Proposition \ref{prop:cupintersection}]
There is a relative cross-product
$$ \H^i\br{X, A} \otimes \H^j\br{Y, B} \to \H^{i + j}\br{X \times Y, A \times Y \cup X \times B}, $$
so there is one
\begin{equation}
\label{eq:11}
\H^j\br{\RR^j, \RR^j \setminus \cbr{0}} \times \H^l\br{\RR^l, \RR^l \setminus \cbr{0}} \xrightarrow{\sim} \H^{j + l}\br{\RR^{j + l}, \RR^{j + l} \setminus \cbr{0}}.
\end{equation}
Since $ \H^l\br{\RR^l, \RR^l \setminus \cbr{0}} $ is finitely generated and free for all $ i $, by K\"unneth, $ \br{\ref{eq:11}} $ is an isomorphism. Consider relative cup-product, for $ E \to X $ and $ F \to X $ vector bundles
$$ \function{\H^i\br{E, E^\#} \otimes \H^j\br{F, F^\#}}{\H^{i + j}\br{E \oplus F, \br{E \oplus F}^\#}}{x \otimes y}{\pi_E^*x \cdot \pi_F^*y}, \qquad E \xleftarrow{\pi_E} E \oplus F \xrightarrow{\pi_F} F. $$
Suppose $ E $ and $ F $ are oriented. Then $ \br{\ref{eq:11}} $ being an isomorphism implies that $ \u_{E \oplus F} = \pi_E^*\u_E \cdot \pi_F^*\u_F $ by uniqueness in the Thom isomorphism, since the Thom class is unique such that it restricts to a generator for all fibres. So for $ Y, Z \subseteq M $, $ \epsilon_{Y \cap Z} $ is $ \u_{\nu_{Y \cap Z}} $ pushed forward to $ \H^\bullet\br{M} $, and $ \nu_{Y \cap Z} = \eval{\nu_Y}_{Y \cap Z} \oplus \eval{\nu_Z}_{Y \cap Z} $, so $ \epsilon_{Y \cap Z} $ is $ \u_{\nu_Y} \cdot \u_{\nu_Z} $ pushed forward, which is $ \epsilon_Y \cdot \epsilon_Z $.
\end{proof}

\end{document}